"use strict";(self.webpackChunkvaspitac_app=self.webpackChunkvaspitac_app||[]).push([[792],{401:(cs,er,Et)=>{Et.d(er,{Am:()=>yo,Bd:()=>Oe,FA:()=>Be,Fy:()=>$i,I9:()=>Ho,Im:()=>Hn,Ku:()=>ia,Ll:()=>An,T9:()=>Fn,Uj:()=>nn,XA:()=>fn,ZQ:()=>Mt,bD:()=>yi,c1:()=>Te,cY:()=>cn,eX:()=>_e,g:()=>De,gR:()=>ct,hp:()=>ks,jZ:()=>zn,lT:()=>pt,lV:()=>bt,mS:()=>Zt,nr:()=>qn,p7:()=>Ke,sr:()=>Ge,tD:()=>mr,u:()=>Re,zW:()=>te,zw:()=>dt});const ye=function(W){const F=[];let Y=0;for(let xe=0;xe<W.length;xe++){let de=W.charCodeAt(xe);de<128?F[Y++]=de:de<2048?(F[Y++]=de>>6|192,F[Y++]=63&de|128):55296==(64512&de)&&xe+1<W.length&&56320==(64512&W.charCodeAt(xe+1))?(de=65536+((1023&de)<<10)+(1023&W.charCodeAt(++xe)),F[Y++]=de>>18|240,F[Y++]=de>>12&63|128,F[Y++]=de>>6&63|128,F[Y++]=63&de|128):(F[Y++]=de>>12|224,F[Y++]=de>>6&63|128,F[Y++]=63&de|128)}return F},ht={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,F){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let de=0;de<W.length;de+=3){const Qe=W[de],Xe=de+1<W.length,di=Xe?W[de+1]:0,Le=de+2<W.length,hi=Le?W[de+2]:0;let Gi=(15&di)<<2|hi>>6,$o=63&hi;Le||($o=64,Xe||(Gi=64)),xe.push(Y[Qe>>2],Y[(3&Qe)<<4|di>>4],Y[Gi],Y[$o])}return xe.join("")},encodeString(W,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(W):this.encodeByteArray(ye(W),F)},decodeString(W,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(W):function(W){const F=[];let Y=0,xe=0;for(;Y<W.length;){const de=W[Y++];if(de<128)F[xe++]=String.fromCharCode(de);else if(de>191&&de<224){const Qe=W[Y++];F[xe++]=String.fromCharCode((31&de)<<6|63&Qe)}else if(de>239&&de<365){const Le=((7&de)<<18|(63&W[Y++])<<12|(63&W[Y++])<<6|63&W[Y++])-65536;F[xe++]=String.fromCharCode(55296+(Le>>10)),F[xe++]=String.fromCharCode(56320+(1023&Le))}else{const Qe=W[Y++],Xe=W[Y++];F[xe++]=String.fromCharCode((15&de)<<12|(63&Qe)<<6|63&Xe)}}return F.join("")}(this.decodeStringToByteArray(W,F))},decodeStringToByteArray(W,F){this.init_();const Y=F?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let de=0;de<W.length;){const Qe=Y[W.charAt(de++)],di=de<W.length?Y[W.charAt(de)]:0;++de;const hi=de<W.length?Y[W.charAt(de)]:64;++de;const J=de<W.length?Y[W.charAt(de)]:64;if(++de,null==Qe||null==di||null==hi||null==J)throw new Bn;xe.push(Qe<<2|di>>4),64!==hi&&(xe.push(di<<4&240|hi>>2),64!==J&&xe.push(hi<<6&192|J))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class Bn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nn=function(W){return function(W){const F=ye(W);return ht.encodeByteArray(F,!0)}(W).replace(/\./g,"")},Re=function(W){try{return ht.decodeString(W,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function dt(W,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return F}for(const Y in F)!F.hasOwnProperty(Y)||!Pt(Y)||(W[Y]=dt(W[Y],F[Y]));return W}function Pt(W){return"__proto__"!==W}function Zt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Wt=()=>{try{return Zt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=W&&Re(W[1]);return F&&JSON.parse(F)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},Fn=()=>{var W;return null===(W=Wt())||void 0===W?void 0:W.config},fn=W=>{var F;return null===(F=Wt())||void 0===F?void 0:F[`_${W}`]};class cn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,Y)=>{this.resolve=F,this.reject=Y})}wrapCallback(F){return(Y,xe)=>{Y?this.reject(Y):this.resolve(xe),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(Y):F(Y,xe))}}}function $i(W,F){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=F||"demo-project",de=W.iat||0,Qe=W.sub||W.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:de,exp:de+3600,auth_time:de,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},W);return[nn(JSON.stringify({alg:"none",type:"JWT"})),nn(JSON.stringify(Xe)),""].join(".")}function Mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function zn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function An(){var W;const F=null===(W=Wt())||void 0===W?void 0:W.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Oe(){return typeof window<"u"||Ke()}function Ke(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Te(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ge(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function bt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pt(){const W=Mt();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function qn(){return!An()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((W,F)=>{try{let Y=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(xe);de.onsuccess=()=>{de.result.close(),Y||self.indexedDB.deleteDatabase(xe),W(!0)},de.onupgradeneeded=()=>{Y=!1},de.onerror=()=>{var Qe;F((null===(Qe=de.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(Y){F(Y)}})}class De extends Error{constructor(F,Y,xe){super(Y),this.code=F,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(F,Y,xe){this.service=F,this.serviceName=Y,this.errors=xe}create(F,...Y){const xe=Y[0]||{},de=`${this.service}/${F}`,Qe=this.errors[F],Xe=Qe?function be(W,F){return W.replace(ke,(Y,xe)=>{const de=F[xe];return null!=de?String(de):`<${xe}?>`})}(Qe,xe):"Error";return new De(de,`${this.serviceName}: ${Xe} (${de}).`,xe)}}const ke=/\{\$([^}]+)}/g;function ct(W,F){return Object.prototype.hasOwnProperty.call(W,F)}function Hn(W){for(const F in W)if(Object.prototype.hasOwnProperty.call(W,F))return!1;return!0}function yi(W,F){if(W===F)return!0;const Y=Object.keys(W),xe=Object.keys(F);for(const de of Y){if(!xe.includes(de))return!1;const Qe=W[de],Xe=F[de];if(vo(Qe)&&vo(Xe)){if(!yi(Qe,Xe))return!1}else if(Qe!==Xe)return!1}for(const de of xe)if(!Y.includes(de))return!1;return!0}function vo(W){return null!==W&&"object"==typeof W}function yo(W){const F=[];for(const[Y,xe]of Object.entries(W))Array.isArray(xe)?xe.forEach(de=>{F.push(encodeURIComponent(Y)+"="+encodeURIComponent(de))}):F.push(encodeURIComponent(Y)+"="+encodeURIComponent(xe));return F.length?"&"+F.join("&"):""}function Ho(W){const F={};return W.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[de,Qe]=xe.split("=");F[decodeURIComponent(de)]=decodeURIComponent(Qe)}}),F}function ks(W){const F=W.indexOf("?");if(!F)return"";const Y=W.indexOf("#",F);return W.substring(F,Y>0?Y:void 0)}function mr(W,F){const Y=new rn(W,F);return Y.subscribe.bind(Y)}class rn{constructor(F,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{F(this)}).catch(xe=>{this.error(xe)})}next(F){this.forEachObserver(Y=>{Y.next(F)})}error(F){this.forEachObserver(Y=>{Y.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,Y,xe){let de;if(void 0===F&&void 0===Y&&void 0===xe)throw new Error("Missing Observer.");de=function Mr(W,F){if("object"!=typeof W||null===W)return!1;for(const Y of F)if(Y in W&&"function"==typeof W[Y])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:Y,complete:xe},void 0===de.next&&(de.next=bi),void 0===de.error&&(de.error=bi),void 0===de.complete&&(de.complete=bi);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch{}}),this.observers.push(de),Qe}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,F)}sendOne(F,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{Y(this.observers[F])}catch(xe){typeof console<"u"&&console.error&&console.error(xe)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bi(){}function ia(W){return W&&W._delegate?W._delegate:W}},83:(cs,er,Et)=>{Et.d(er,{E_:()=>Dt,F3:()=>Zt});var N=Et(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var Gn=function(Ke){return Ke.Unimplemented="UNIMPLEMENTED",Ke.Unavailable="UNAVAILABLE",Ke}(Gn||{});class nn extends Error{constructor(Te,Ge,bt){super(Te),this.message=Te,this.code=Ge,this.data=bt}}const Ue=Ke=>{var Te,Ge,bt,yt,pt;const un=Ke.CapacitorCustomPlatform||null,Ct=Ke.Capacitor||{},qn=Ct.Plugins=Ct.Plugins||{},te=Ke.CapacitorPlatforms,Ie=(null===(Te=te?.currentPlatform)||void 0===Te?void 0:Te.getPlatform)||(()=>null!==un?un.name:(Ke=>{var Te,Ge;return Ke?.androidBridge?"android":null!==(Ge=null===(Te=Ke?.webkit)||void 0===Te?void 0:Te.messageHandlers)&&void 0!==Ge&&Ge.bridge?"ios":"web"})(Ke)),De=(null===(Ge=te?.currentPlatform)||void 0===Ge?void 0:Ge.isNativePlatform)||(()=>"web"!==Ie()),be=(null===(bt=te?.currentPlatform)||void 0===bt?void 0:bt.isPluginAvailable)||(Vt=>{const ct=nt.get(Vt);return!(!ct?.platforms.has(Ie())&&!Ne(Vt))}),Ne=(null===(yt=te?.currentPlatform)||void 0===yt?void 0:yt.getPluginHeader)||(Vt=>{var ct;return null===(ct=Ct.PluginHeaders)||void 0===ct?void 0:ct.find(Wn=>Wn.name===Vt)}),nt=new Map,Nt=(null===(pt=te?.currentPlatform)||void 0===pt?void 0:pt.registerPlugin)||((Vt,ct={})=>{const Wn=nt.get(Vt);if(Wn)return console.warn(`Capacitor plugin "${Vt}" already registered. Cannot register plugins twice.`),Wn.proxy;const Hn=Ie(),jr=Ne(Vt);let yi;const vo=function(){var rn=(0,N.A)(function*(){return!yi&&Hn in ct?yi=yi="function"==typeof ct[Hn]?yield ct[Hn]():ct[Hn]:null!==un&&!yi&&"web"in ct&&(yi=yi="function"==typeof ct.web?yield ct.web():ct.web),yi});return function(){return rn.apply(this,arguments)}}(),yo=rn=>{let ci;const Mr=(...bi)=>{const Rr=vo().then(ui=>{const to=((rn,ci)=>{var Mr,bi;if(!jr){if(rn)return null===(bi=rn[ci])||void 0===bi?void 0:bi.bind(rn);throw new nn(`"${Vt}" plugin is not implemented on ${Hn}`,Gn.Unimplemented)}{const Rr=jr?.methods.find(ui=>ci===ui.name);if(Rr)return"promise"===Rr.rtype?ui=>Ct.nativePromise(Vt,ci.toString(),ui):(ui,to)=>Ct.nativeCallback(Vt,ci.toString(),ui,to);if(rn)return null===(Mr=rn[ci])||void 0===Mr?void 0:Mr.bind(rn)}})(ui,rn);if(to){const ki=to(...bi);return ci=ki?.remove,ki}throw new nn(`"${Vt}.${rn}()" is not implemented on ${Hn}`,Gn.Unimplemented)});return"addListener"===rn&&(Rr.remove=(0,N.A)(function*(){return ci()})),Rr};return Mr.toString=()=>`${rn.toString()}() { [capacitor code] }`,Object.defineProperty(Mr,"name",{value:rn,writable:!1,configurable:!1}),Mr},Ho=yo("addListener"),ks=yo("removeListener"),eo=(rn,ci)=>{const Mr=Ho({eventName:rn},ci),bi=function(){var ui=(0,N.A)(function*(){const to=yield Mr;ks({eventName:rn,callbackId:to},ci)});return function(){return ui.apply(this,arguments)}}(),Rr=new Promise(ui=>Mr.then(()=>ui({remove:bi})));return Rr.remove=(0,N.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield bi()}),Rr},mr=new Proxy({},{get(rn,ci){switch(ci){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return jr?eo:Ho;case"removeListener":return ks;default:return yo(ci)}}});return qn[Vt]=mr,nt.set(Vt,{name:Vt,proxy:mr,platforms:new Set([...Object.keys(ct),...jr?[Hn]:[]])}),mr});return Ct.convertFileSrc||(Ct.convertFileSrc=Vt=>Vt),Ct.getPlatform=Ie,Ct.handleError=Vt=>Ke.console.error(Vt),Ct.isNativePlatform=De,Ct.isPluginAvailable=be,Ct.pluginMethodNoop=(Vt,ct,Wn)=>Promise.reject(`${Wn} does not have an implementation of "${ct}".`),Ct.registerPlugin=Nt,Ct.Exception=nn,Ct.DEBUG=!!Ct.DEBUG,Ct.isLoggingEnabled=!!Ct.isLoggingEnabled,Ct.platform=Ct.getPlatform(),Ct.isNative=Ct.isNativePlatform(),Ct},Pt=(Ke=>Ke.Capacitor=Ue(Ke))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Zt=Pt.registerPlugin;class Dt{constructor(Te){this.listeners={},this.retainedEventArguments={},this.windowListeners={},Te&&(console.warn(`Capacitor WebPlugin "${Te.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Te)}addListener(Te,Ge){var bt=this;let yt=!1;this.listeners[Te]||(this.listeners[Te]=[],yt=!0),this.listeners[Te].push(Ge);const un=this.windowListeners[Te];un&&!un.registered&&this.addWindowListener(un),yt&&this.sendRetainedArgumentsForEvent(Te);const Ct=function(){var te=(0,N.A)(function*(){return bt.removeListener(Te,Ge)});return function(){return te.apply(this,arguments)}}();return Promise.resolve({remove:Ct})}removeAllListeners(){var Te=this;return(0,N.A)(function*(){Te.listeners={};for(const Ge in Te.windowListeners)Te.removeWindowListener(Te.windowListeners[Ge]);Te.windowListeners={}})()}notifyListeners(Te,Ge,bt){const yt=this.listeners[Te];if(yt)yt.forEach(pt=>pt(Ge));else if(bt){let pt=this.retainedEventArguments[Te];pt||(pt=[]),pt.push(Ge),this.retainedEventArguments[Te]=pt}}hasListeners(Te){return!!this.listeners[Te].length}registerWindowListener(Te,Ge){this.windowListeners[Ge]={registered:!1,windowEventName:Te,pluginEventName:Ge,handler:bt=>{this.notifyListeners(Ge,bt)}}}unimplemented(Te="not implemented"){return new Pt.Exception(Te,Gn.Unimplemented)}unavailable(Te="not available"){return new Pt.Exception(Te,Gn.Unavailable)}removeListener(Te,Ge){var bt=this;return(0,N.A)(function*(){const yt=bt.listeners[Te];if(!yt)return;const pt=yt.indexOf(Ge);bt.listeners[Te].splice(pt,1),bt.listeners[Te].length||bt.removeWindowListener(bt.windowListeners[Te])})()}addWindowListener(Te){window.addEventListener(Te.windowEventName,Te.handler),Te.registered=!0}removeWindowListener(Te){Te&&(window.removeEventListener(Te.windowEventName,Te.handler),Te.registered=!1)}sendRetainedArgumentsForEvent(Te){const Ge=this.retainedEventArguments[Te];Ge&&(delete this.retainedEventArguments[Te],Ge.forEach(bt=>{this.notifyListeners(Te,bt)}))}}const li=Ke=>encodeURIComponent(Ke).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Pi=Ke=>Ke.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Fn extends Dt{getCookies(){return(0,N.A)(function*(){const Te=document.cookie,Ge={};return Te.split(";").forEach(bt=>{if(bt.length<=0)return;let[yt,pt]=bt.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");yt=Pi(yt).trim(),pt=Pi(pt).trim(),Ge[yt]=pt}),Ge})()}setCookie(Te){return(0,N.A)(function*(){try{const Ge=li(Te.key),bt=li(Te.value),yt=`; expires=${(Te.expires||"").replace("expires=","")}`,pt=(Te.path||"/").replace("path=",""),un=null!=Te.url&&Te.url.length>0?`domain=${Te.url}`:"";document.cookie=`${Ge}=${bt||""}${yt}; path=${pt}; ${un};`}catch(Ge){return Promise.reject(Ge)}})()}deleteCookie(Te){return(0,N.A)(function*(){try{document.cookie=`${Te.key}=; Max-Age=0`}catch(Ge){return Promise.reject(Ge)}})()}clearCookies(){return(0,N.A)(function*(){try{const Te=document.cookie.split(";")||[];for(const Ge of Te)document.cookie=Ge.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Te){return Promise.reject(Te)}})()}clearAllCookies(){var Te=this;return(0,N.A)(function*(){try{yield Te.clearCookies()}catch(Ge){return Promise.reject(Ge)}})()}}Zt("CapacitorCookies",{web:()=>new Fn});const cn=function(){var Ke=(0,N.A)(function*(Te){return new Promise((Ge,bt)=>{const yt=new FileReader;yt.onload=()=>{const pt=yt.result;Ge(pt.indexOf(",")>=0?pt.split(",")[1]:pt)},yt.onerror=pt=>bt(pt),yt.readAsDataURL(Te)})});return function(Ge){return Ke.apply(this,arguments)}}();class An extends Dt{request(Te){return(0,N.A)(function*(){const Ge=((Ke,Te={})=>{const Ge=Object.assign({method:Ke.method||"GET",headers:Ke.headers},Te),yt=((Ke={})=>{const Te=Object.keys(Ke);return Object.keys(Ke).map(yt=>yt.toLocaleLowerCase()).reduce((yt,pt,un)=>(yt[pt]=Ke[Te[un]],yt),{})})(Ke.headers)["content-type"]||"";if("string"==typeof Ke.data)Ge.body=Ke.data;else if(yt.includes("application/x-www-form-urlencoded")){const pt=new URLSearchParams;for(const[un,Ct]of Object.entries(Ke.data||{}))pt.set(un,Ct);Ge.body=pt.toString()}else if(yt.includes("multipart/form-data")||Ke.data instanceof FormData){const pt=new FormData;if(Ke.data instanceof FormData)Ke.data.forEach((Ct,qn)=>{pt.append(qn,Ct)});else for(const Ct of Object.keys(Ke.data))pt.append(Ct,Ke.data[Ct]);Ge.body=pt;const un=new Headers(Ge.headers);un.delete("content-type"),Ge.headers=un}else(yt.includes("application/json")||"object"==typeof Ke.data)&&(Ge.body=JSON.stringify(Ke.data));return Ge})(Te,Te.webFetchExtra),bt=((Ke,Te=!0)=>Ke?Object.entries(Ke).reduce((bt,yt)=>{const[pt,un]=yt;let Ct,qn;return Array.isArray(un)?(qn="",un.forEach(te=>{Ct=Te?encodeURIComponent(te):te,qn+=`${pt}=${Ct}&`}),qn.slice(0,-1)):(Ct=Te?encodeURIComponent(un):un,qn=`${pt}=${Ct}`),`${bt}&${qn}`},"").substr(1):null)(Te.params,Te.shouldEncodeUrlParams),yt=bt?`${Te.url}?${bt}`:Te.url,pt=yield fetch(yt,Ge),un=pt.headers.get("content-type")||"";let qn,te,{responseType:Ct="text"}=pt.ok?Te:{};switch(un.includes("application/json")&&(Ct="json"),Ct){case"arraybuffer":case"blob":te=yield pt.blob(),qn=yield cn(te);break;case"json":qn=yield pt.json();break;default:qn=yield pt.text()}const _e={};return pt.headers.forEach((Ie,ue)=>{_e[ue]=Ie}),{data:qn,headers:_e,status:pt.status,url:pt.url}})()}get(Te){var Ge=this;return(0,N.A)(function*(){return Ge.request(Object.assign(Object.assign({},Te),{method:"GET"}))})()}post(Te){var Ge=this;return(0,N.A)(function*(){return Ge.request(Object.assign(Object.assign({},Te),{method:"POST"}))})()}put(Te){var Ge=this;return(0,N.A)(function*(){return Ge.request(Object.assign(Object.assign({},Te),{method:"PUT"}))})()}patch(Te){var Ge=this;return(0,N.A)(function*(){return Ge.request(Object.assign(Object.assign({},Te),{method:"PATCH"}))})()}delete(Te){var Ge=this;return(0,N.A)(function*(){return Ge.request(Object.assign(Object.assign({},Te),{method:"DELETE"}))})()}}Zt("CapacitorHttp",{web:()=>new An})},544:(cs,er,Et)=>{function N(n,t){return Object.is(n,t)}let rt=null,ot=!1,ye=1;const In=Symbol("SIGNAL");function ht(n){const t=rt;return rt=n,t}const Re={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ue(n){if(ot)throw new Error("");if(null===rt)return;rt.consumerOnSignalRead(n);const t=rt.nextProducerIndex++;$i(rt),t<rt.producerNode.length&&rt.producerNode[t]!==n&&cn(rt)&&fn(rt.producerNode[t],rt.producerIndexOfThis[t]),rt.producerNode[t]!==n&&(rt.producerNode[t]=n,rt.producerIndexOfThis[t]=cn(rt)?Fn(n,rt,t):0),rt.producerLastReadVersion[t]=n.version}function Pt(n){if((!cn(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==ye)){if(!n.producerMustRecompute(n)&&!li(n))return n.dirty=!1,void(n.lastCleanEpoch=ye);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ye}}function Zt(n){if(void 0===n.liveConsumerNode)return;const t=ot;ot=!0;try{for(const e of n.liveConsumerNode)e.dirty||bn(e)}finally{ot=t}}function Bi(){return!1!==rt?.consumerAllowSignalWrites}function bn(n){n.dirty=!0,Zt(n),n.consumerMarkedDirty?.(n)}function Dt(n){return n&&(n.nextProducerIndex=0),ht(n)}function Wt(n,t){if(ht(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(cn(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)fn(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function li(n){$i(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(Pt(e),i!==e.version))return!0}return!1}function Pi(n){if($i(n),cn(n))for(let t=0;t<n.producerNode.length;t++)fn(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Fn(n,t,e){if(Mt(n),0===n.liveConsumerNode.length&&zn(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Fn(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function fn(n,t){if(Mt(n),1===n.liveConsumerNode.length&&zn(n))for(let i=0;i<n.producerNode.length;i++)fn(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];$i(r),r.producerIndexOfThis[i]=t}}function cn(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function $i(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Mt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function zn(n){return void 0!==n.producerNode}const Oe=Symbol("UNSET"),Ke=Symbol("COMPUTING"),Te=Symbol("ERRORED"),Ge={...Re,value:Oe,dirty:!0,error:null,equal:N,producerMustRecompute:n=>n.value===Oe||n.value===Ke,producerRecomputeValue(n){if(n.value===Ke)throw new Error("Detected cycle in computations.");const t=n.value;n.value=Ke;const e=Dt(n);let i;try{i=n.computation()}catch(r){i=Te,n.error=r}finally{Wt(n,e)}t!==Oe&&t!==Te&&i!==Te&&n.equal(t,i)?n.value=t:(n.value=i,n.version++)}};let yt=function bt(){throw new Error};function pt(){yt()}let Ct=null;function Ie(n,t){Bi()||pt(),n.equal(n.value,t)||(n.value=t,function be(n){n.version++,function dt(){ye++}(),Zt(n),Ct?.()}(n))}const Be={...Re,equal:N,value:void 0};function nt(n){return"function"==typeof n}function Sn(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Nt=Sn(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Vt(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class ct{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(nt(i))try{i()}catch(o){t=o instanceof Nt?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{jr(o)}catch(s){t=t??[],s instanceof Nt?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Nt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)jr(t);else{if(t instanceof ct){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Vt(e,t)}remove(t){const{_finalizers:e}=this;e&&Vt(e,t),t instanceof ct&&t._removeParent(this)}}ct.EMPTY=(()=>{const n=new ct;return n.closed=!0,n})();const Wn=ct.EMPTY;function Hn(n){return n instanceof ct||n&&"closed"in n&&nt(n.remove)&&nt(n.add)&&nt(n.unsubscribe)}function jr(n){nt(n)?n():n.unsubscribe()}const yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vo={setTimeout(n,t,...e){const{delegate:i}=vo;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=vo;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function vl(n){vo.setTimeout(()=>{const{onUnhandledError:t}=yi;if(!t)throw n;t(n)})}function yo(){}const Ho=mr("C",void 0,void 0);function mr(n,t,e){return{kind:n,value:t,error:e}}let rn=null;function ci(n){if(yi.useDeprecatedSynchronousErrorHandling){const t=!rn;if(t&&(rn={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=rn;if(rn=null,e)throw i}}else n()}class bi extends ct{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Hn(t)&&t.add(this)):this.destination=yl}static create(t,e,i){return new ki(t,e,i)}next(t){this.isStopped?Er(function eo(n){return mr("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Er(function ks(n){return mr("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Er(Ho,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rr=Function.prototype.bind;function ui(n,t){return Rr.call(n,t)}class to{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){na(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){na(i)}else na(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){na(e)}}}class ki extends bi{constructor(t,e,i){let r;if(super(),nt(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&yi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&ui(t.next,o),error:t.error&&ui(t.error,o),complete:t.complete&&ui(t.complete,o)}):r=t}this.destination=new to(r)}}function na(n){yi.useDeprecatedSynchronousErrorHandling?function Mr(n){yi.useDeprecatedSynchronousErrorHandling&&rn&&(rn.errorThrown=!0,rn.error=n)}(n):vl(n)}function Er(n,t){const{onStoppedNotification:e}=yi;e&&vo.setTimeout(()=>e(n,t))}const yl={closed:!0,next:yo,error:function qh(n){throw n},complete:yo},us="function"==typeof Symbol&&Symbol.observable||"@@observable";function no(n){return n}function Ma(n){return 0===n.length?no:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Dn=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function ia(n){return n&&n instanceof bi||function Cc(n){return n&&nt(n.next)&&nt(n.error)&&nt(n.complete)}(n)&&Hn(n)}(e)?e:new ki(e,i,r);return ci(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=xc(i))((r,o)=>{const s=new ki({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[us](){return this}pipe(...e){return Ma(e)(this)}toPromise(e){return new(e=xc(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function xc(n){var t;return null!==(t=n??yi.Promise)&&void 0!==t?t:Promise}const W=Sn(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let F=(()=>{class n extends Dn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Y(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new W}next(e){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Wn:(this.currentObservers=null,o.push(e),new ct(()=>{this.currentObservers=null,Vt(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Dn;return e.source=this,e}}return n.create=(t,e)=>new Y(t,e),n})();class Y extends F{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Wn}}class xe extends F{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function de(n){return nt(n?.lift)}function Qe(n){return t=>{if(de(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xe(n,t,e,i,r){return new di(n,t,e,i,r)}class di extends bi{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Le(n,t){return Qe((e,i)=>{let r=0;e.subscribe(Xe(i,o=>{i.next(n.call(t,o,r++))}))})}const tr="https://g.co/ng/security#xss";class J extends Error{constructor(t,e){super(function Gi(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Go(n){return{toString:n}.toString()}const Ra="__parameters__";function Ye(n,t,e){return Go(()=>{const i=function Me(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,h){const p=l.hasOwnProperty(Ra)?l[Ra]:Object.defineProperty(l,Ra,{value:[]})[Ra];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const lt=globalThis;function kt(n){for(let t in n)if(n[t]===kt)return t;throw Error("Could not find renamed property on target object.")}function wo(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ft(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ft).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Tc(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const hC=kt({__forward_ref__:kt});function Ln(n){return n.__forward_ref__=Ln,n.toString=function(){return Ft(this())},n}function Lt(n){return Kh(n)?n():n}function Kh(n){return"function"==typeof n&&n.hasOwnProperty(hC)&&n.__forward_ref__===Ln}function Pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yh(n){return yb(n,Ac)||yb(n,Xh)}function yb(n,t){return n.hasOwnProperty(t)?n[t]:null}function Zh(n){return n&&(n.hasOwnProperty(Sc)||n.hasOwnProperty(bC))?n[Sc]:null}const Ac=kt({\u0275prov:kt}),Sc=kt({\u0275inj:kt}),Xh=kt({ngInjectableDef:kt}),bC=kt({ngInjectorDef:kt});class he{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function El(n){return n&&!!n.\u0275providers}const Io=kt({\u0275cmp:kt}),nd=kt({\u0275dir:kt}),Xp=kt({\u0275pipe:kt}),ds=kt({\u0275mod:kt}),oa=kt({\u0275fac:kt}),Il=kt({__NG_ELEMENT_ID__:kt}),Ib=kt({__NG_ENV_ID__:kt});function jt(n){return"string"==typeof n?n:null==n?"":String(n)}function Jp(n,t){throw new J(-201,!1)}var ln=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ln||{});let Cl;function xC(){return Cl}function Pr(n){const t=Cl;return Cl=n,t}function Os(n,t,e){const i=Yh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ln.Optional?null:void 0!==t?t:void Jp()}const Dc={},Jh="__NG_DI_FLAG__",od="ngTempTokenPath",Mc=/\n/gm,sd="__source";let Tl;function Ns(n){const t=Tl;return Tl=n,t}function qo(n,t=ln.Default){if(void 0===Tl)throw new J(-203,!1);return null===Tl?Os(n,void 0,t):Tl.get(n,t&ln.Optional?null:void 0,t)}function G(n,t=ln.Default){return(xC()||qo)(Lt(n),t)}function we(n,t=ln.Default){return G(n,Al(t))}function Al(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ef(n){const t=[];for(let e=0;e<n.length;e++){const i=Lt(n[e]);if(Array.isArray(i)){if(0===i.length)throw new J(900,!1);let r,o=ln.Default;for(let s=0;s<i.length;s++){const a=i[s],l=AC(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(G(r,o))}else t.push(G(i))}return t}function Rc(n,t){return n[Jh]=t,n.prototype[Jh]=t,n}function AC(n){return n[Jh]}const hs=Rc(Ye("Optional"),8),Pc=Rc(Ye("SkipSelf"),4);function Pa(n,t){return n.hasOwnProperty(oa)?n[oa]:null}function ka(n,t){n.forEach(e=>Array.isArray(e)?ka(e,t):t(e))}function sg(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function kc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function zr(n,t,e){let i=Oa(n,t);return i>=0?n[1|i]=e:(i=~i,function tf(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Sl(n,t){const e=Oa(n,t);if(e>=0)return n[1|e]}function Oa(n,t){return function cd(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Wo={},mn=[],Fs=new he(""),nf=new he("",-1),ag=new he("");class Oc{get(t,e=Dc){if(e===Dc){const i=new Error(`NullInjectorError: No provider for ${Ft(t)}!`);throw i.name="NullInjectorError",i}return e}}var rf=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(rf||{}),xo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(xo||{}),sa=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(sa||{});function lg(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function cg(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];Db(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function sf(n){return 3===n||4===n||6===n}function Db(n){return 64===n.charCodeAt(0)}function Dl(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Mb(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Mb(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Rb="ng-template";function ug(n,t,e,i){let r=0;if(i){for(;r<t.length&&"string"==typeof t[r];r+=2)if("class"===t[r]&&-1!==lg(t[r+1].toLowerCase(),e,0))return!0}else if(dg(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&"string"==typeof(o=t[r]);)if(o.toLowerCase()===e)return!0}return!1}function dg(n){return 4===n.type&&n.value!==Rb}function SC(n,t,e){return t===(4!==n.type||e?n.value:Rb)}function hg(n,t,e){let i=4;const r=n.attrs,o=null!==r?function DC(n){for(let t=0;t<n.length;t++)if(sf(n[t]))return t;return n.length}(r):0;let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!SC(n,l,e)||""===l&&1===t.length){if(fs(i))return!1;s=!0}}else if(8&i){if(null===r||!ug(n,r,l,e)){if(fs(i))return!1;s=!0}}else{const c=t[++a],h=fg(l,r,dg(n),e);if(-1===h){if(fs(i))return!1;s=!0;continue}if(""!==c){let p;if(p=h>o?"":r[h+1].toLowerCase(),2&i&&c!==p){if(fs(i))return!1;s=!0}}}}else{if(!s&&!fs(i)&&!fs(l))return!1;if(s&&fs(l))continue;s=!1,i=l|1&i}}return fs(i)||s}function fs(n){return!(1&n)}function fg(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function pg(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Pb(n,t,e=!1){for(let i=0;i<t.length;i++)if(hg(n,t[i],e))return!0;return!1}function MC(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function af(n,t){return n?":not("+t.trim()+")":t}function RC(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!fs(s)&&(t+=af(o,r),r=""),i=s,o=o||!fs(i);e++}return""!==r&&(t+=af(o,r)),t}function on(n){return Go(()=>{const t=kb(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===rf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xo.Emulated,styles:n.styles||mn,_:null,schemas:n.schemas||null,tView:null,id:""};NC(e);const i=n.dependencies;return e.directiveDefs=_g(i,!1),e.pipeDefs=_g(i,!0),e.id=function vg(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)|0;return t+=2147483648,"c"+t}(e),e})}function kC(n){return Jt(n)||nr(n)}function OC(n){return null!==n}function Kt(n){return Go(()=>({type:n.type,bootstrap:n.bootstrap||mn,declarations:n.declarations||mn,imports:n.imports||mn,exports:n.exports||mn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function lf(n,t){if(null==n)return Wo;const e={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a=sa.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(e[o]=a!==sa.None?[i,a]:i,t[o]=s):e[o]=i}return e}function at(n){return Go(()=>{const t=kb(n);return NC(t),t})}function qi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Jt(n){return n[Io]||null}function nr(n){return n[nd]||null}function xr(n){return n[Xp]||null}function kr(n,t){const e=n[ds]||null;if(!e&&!0===t)throw new Error(`Type ${Ft(n)} does not have '\u0275mod' property.`);return e}function kb(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Wo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||mn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lf(n.inputs,t),outputs:lf(n.outputs),debugInfo:null}}function NC(n){n.features?.forEach(t=>t(n))}function _g(n,t){if(!n)return null;const e=t?xr:kC;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(OC)}function FC(...n){return{\u0275providers:Ob(0,n),\u0275fromNgModule:!0}}function Ob(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return ka(t,s=>{const a=s;yg(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&LC(r,o),e}function LC(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];Nb(r,o=>{t(o,i)})}}function yg(n,t,e,i){if(!(n=Lt(n)))return!1;let r=null,o=Zh(n);const s=!o&&Jt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Zh(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)yg(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{ka(o.imports,h=>{yg(h,t,e,i)&&(c||=[],c.push(h))})}finally{}void 0!==c&&LC(c,t)}if(!a){const c=Pa(r)||(()=>new r);t({provide:r,useFactory:c,deps:mn},r),t({provide:ag,useValue:r,multi:!0},r),t({provide:Fs,useValue:()=>G(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;Nb(l,h=>{t(h,c)})}}}return r!==n&&void 0!==n.providers}function Nb(n,t){for(let e of n)El(e)&&(e=e.\u0275providers),Array.isArray(e)?Nb(e,t):t(e)}const Gk=kt({provide:String,useValue:kt});function dd(n){return null!==n&&"object"==typeof n&&Gk in n}function Ml(n){return"function"==typeof n}const bg=new he(""),wg={},UC={};let Eg;function Nc(){return void 0===Eg&&(Eg=new Oc),Eg}class pr{}class Fc extends pr{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ig(t,s=>this.processProvider(s)),this.records.set(nf,hd(void 0,this)),r.has("environment")&&this.records.set(pr,hd(void 0,this));const o=this.records.get(bg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ag,mn,ln.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ht(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ht(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Ns(this),i=Pr(void 0);try{return t()}finally{Ns(e),Pr(i)}}get(t,e=Dc,i=ln.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ib))return t[Ib](this);i=Al(i);const o=Ns(this),s=Pr(void 0);try{if(!(i&ln.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function La(n){return"function"==typeof n||"object"==typeof n&&n instanceof he}(t)&&Yh(t);l=c&&this.injectableDefInScope(c)?hd(Lc(t),wg):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&ln.Self?Nc():this.parent).get(t,e=i&ln.Optional&&e===Dc?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[od]=a[od]||[]).unshift(Ft(t)),o)throw a;return function eg(n,t,e,i){const r=n[od];throw t[sd]&&r.unshift(t[sd]),n.message=function tg(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Ft(t);if(Array.isArray(t))r=t.map(Ft).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ft(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Mc,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[od]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Pr(s),Ns(o)}}resolveInjectorInitializers(){const t=ht(null),e=Ns(this),i=Pr(void 0);try{const o=this.get(Fs,mn,ln.Self);for(const s of o)s()}finally{Ns(e),Pr(i),ht(t)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Ft(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(t){let e=Ml(t=Lt(t))?t:Lt(t&&t.provide);const i=function BC(n){return dd(n)?hd(void 0,n.useValue):hd(Lb(n),wg)}(t);if(!Ml(t)&&!0===t.multi){let r=this.records.get(e);r||(r=hd(void 0,wg,!0),r.factory=()=>ef(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){const i=ht(null);try{return e.value===wg&&(e.value=UC,e.value=e.factory()),"object"==typeof e.value&&e.value&&function qk(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ht(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Lt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Lc(n){const t=Yh(n),e=null!==t?t.factory:Pa(n);if(null!==e)return e;if(n instanceof he)throw new J(204,!1);if(n instanceof Function)return function Fb(n){if(n.length>0)throw new J(204,!1);const e=function Yp(n){return n&&(n[Ac]||n[Xh])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new J(204,!1)}function Lb(n,t,e){let i;if(Ml(n)){const r=Lt(n);return Pa(r)||Lc(r)}if(dd(n))i=()=>Lt(n.useValue);else if(function cf(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...ef(n.deps||[]));else if(function Fa(n){return!(!n||!n.useExisting)}(n))i=()=>G(Lt(n.useExisting));else{const r=Lt(n&&(n.useClass||n.provide));if(!function uf(n){return!!n.deps}(n))return Pa(r)||Lc(r);i=()=>new r(...ef(n.deps))}return i}function hd(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Ig(n,t){for(const e of n)Array.isArray(e)?Ig(e,t):e&&El(e)?Ig(e.\u0275providers,t):t(e)}function Ls(n,t){n instanceof Fc&&n.assertNotDestroyed();const i=Ns(n),r=Pr(void 0);try{return t()}finally{Ns(i),Pr(r)}}function Vc(){return void 0!==xC()||null!=function Tb(){return Tl}()}function xg(n){if(!Vc())throw new J(-203,!1)}const Jn=0,$e=1,Tt=2,Oi=3,Ko=4,Cr=5,Hr=6,pd=7,kn=8,Wi=9,Vs=10,Ut=11,gd=12,Bb=13,aa=14,fi=15,Rl=16,Bc=17,ms=18,jc=19,jb=20,Va=21,mf=22,Co=23,_t=25,Ag=1,Qo=7,Ua=9,ji=10;var zc=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(zc||{});function rr(n){return Array.isArray(n)&&"object"==typeof n[Ag]}function gr(n){return Array.isArray(n)&&!0===n[Ag]}function Hc(n){return!!(4&n.flags)}function la(n){return n.componentOffset>-1}function gf(n){return!(1&~n.flags)}function To(n){return!!n.template}function ca(n){return!!(512&n[Tt])}class Zb{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Mg(n,t,e,i){null!==t?t.applyValueToInputSignal(t,i):n[e]=i}function Or(){return Xb}function Xb(n){return n.type.prototype.ngOnChanges&&(n.setInput=qC),Rg}function Rg(){const n=yf(this),t=n?.current;if(t){const e=n.previous;if(e===Wo)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function qC(n,t,e,i,r){const o=this.declaredInputs[i],s=yf(n)||function WC(n,t){return n[Jb]=t}(n,{previous:Wo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Zb(c&&c.currentValue,e,l===Wo),Mg(n,t,r,e)}Or.ngInherit=!0;const Jb="__ngSimpleChanges__";function yf(n){return n[Jb]||null}const Us=function(n,t,e){},bf="svg";function pn(n){for(;Array.isArray(n);)n=n[Jn];return n}function Pl(n,t){return pn(t[n])}function $r(n,t){return pn(t[n.index])}function $c(n,t){return n.data[t]}function ja(n,t){return n[t]}function Ao(n,t){const e=t[n];return rr(e)?e:e[Jn]}function bd(n){return!(128&~n[Tt])}function Yo(n,t){return null==t?null:n[t]}function n0(n){n[Bc]=0}function Ef(n){1024&n[Tt]||(n[Tt]|=1024,bd(n)&&Cf(n))}function If(n){return!!(9216&n[Tt]||n[Co]?.dirty)}function xf(n){n[Vs].changeDetectionScheduler?.notify(8),64&n[Tt]&&(n[Tt]|=1024),If(n)&&Cf(n)}function Cf(n){n[Vs].changeDetectionScheduler?.notify(0);let t=ua(n);for(;null!==t&&!(8192&t[Tt])&&(t[Tt]|=8192,bd(t));)t=ua(t)}function kl(n,t){if(!(256&~n[Tt]))throw new J(911,!1);null===n[Va]&&(n[Va]=[]),n[Va].push(t)}function ua(n){const t=n[Oi];return gr(t)?t[Oi]:t}const Bt={lFrame:f0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let o0=!1;function s0(){return Bt.bindingsEnabled}function Ol(){return null!==Bt.skipHydrationRootTNode}function Ae(){return Bt.lFrame.lView}function en(){return Bt.lFrame.tView}function oe(n){return Bt.lFrame.contextLView=n,n[kn]}function re(n){return Bt.lFrame.contextLView=null,n}function On(){let n=l0();for(;null!==n&&64===n.type;)n=n.parent;return n}function l0(){return Bt.lFrame.currentTNode}function ps(n,t){const e=Bt.lFrame;e.currentTNode=n,e.isParent=t}function Af(){return Bt.lFrame.isParent}function Sf(){Bt.lFrame.isParent=!1}function Lg(){return o0}function wd(n){o0=n}function Nr(){const n=Bt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Bs(){return Bt.lFrame.bindingIndex}function gs(){return Bt.lFrame.bindingIndex++}function da(n){const t=Bt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function d0(n,t){const e=Bt.lFrame;e.bindingIndex=e.bindingRootIndex=n,h0(t)}function h0(n){Bt.lFrame.currentDirectiveIndex=n}function Vg(n){const t=Bt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function ha(){return Bt.lFrame.currentQueryIndex}function Rf(n){Bt.lFrame.currentQueryIndex=n}function iT(n){const t=n[$e];return 2===t.type?t.declTNode:1===t.type?n[Cr]:null}function Pf(n,t,e){if(e&ln.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&ln.Host||(r=iT(o),null===r||(o=o[aa],10&r.type))););if(null===r)return!1;t=r,n=o}const i=Bt.lFrame=kf();return i.currentTNode=t,i.lView=n,!0}function Ug(n){const t=kf(),e=n[$e];Bt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function kf(){const n=Bt.lFrame,t=null===n?null:n.child;return null===t?f0(n):t}function f0(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function m0(){const n=Bt.lFrame;return Bt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Of=m0;function Bg(){const n=m0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function or(){return Bt.lFrame.selectedIndex}function Fl(n){Bt.lFrame.selectedIndex=n}function Kn(){const n=Bt.lFrame;return $c(n.tView,n.selectedIndex)}function je(){Bt.lFrame.currentNamespace=bf}function vt(){!function p0(){Bt.lFrame.currentNamespace=null}()}let g0=!0;function Ed(){return g0}function Zo(n){g0=n}function Ff(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=h&&(n.destroyHooks??=[]).push(e,h)}}function Lf(n,t,e){_0(n,t,3,e)}function Ll(n,t,e,i){(3&n[Tt])===e&&_0(n,t,e,i)}function zg(n,t){let e=n[Tt];(3&e)===t&&(e&=16383,e+=1,n[Tt]=e)}function _0(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Bc]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Bc]+=65536),(a<o||-1==o)&&(y0(n,e,t,l),n[Bc]=(4294901760&n[Bc])+l+2),l++}function v0(n,t){Us(4,n,t);const e=ht(null);try{t.call(n)}finally{ht(e),Us(5,n,t)}}function y0(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[Tt]>>14<n[Bc]>>16&&(3&n[Tt])===t&&(n[Tt]+=16384,v0(a,o)):v0(a,o)}const Gc=-1;class Id{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}const $g={};class za{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Al(i);const r=this.injector.get(t,$g,i);return r!==$g||e===$g?r:this.parentInjector.get(t,e,i)}}function xd(n){return n!==Gc}function Vl(n){return 32767&n}function Cd(n,t){let e=function w0(n){return n>>16}(n),i=t;for(;e>0;)i=i[aa],e--;return i}let qg=!0;function Fr(n){const t=qg;return qg=n,t}const Wg=255,E0=5;let Kg=0;const Xo={};function Td(n,t){const e=fa(n,t);if(-1!==e)return e;const i=t[$e];i.firstCreatePass&&(n.injectorIndex=t.length,Qg(i.data,n),Qg(t,null),Qg(i.blueprint,null));const r=Ad(n,t),o=n.injectorIndex;if(xd(r)){const s=Vl(r),a=Cd(r,t),l=a[$e].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function Qg(n,t){n.push(0,0,0,0,0,0,0,0,t)}function fa(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Ad(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=u(r),null===i)return Gc;if(e++,r=r[aa],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Gc}function Yg(n,t,e){!function cT(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Il)&&(i=e[Il]),null==i&&(i=e[Il]=Kg++);const r=i&Wg;t.data[n+(r>>E0)]|=1<<r}(n,t,e)}function I0(n,t,e){if(e&ln.Optional||void 0!==n)return n;Jp()}function Zg(n,t,e,i){if(e&ln.Optional&&void 0===i&&(i=null),!(e&(ln.Self|ln.Host))){const r=n[Wi],o=Pr(void 0);try{return r?r.get(t,i,e&ln.Optional):Os(t,i,e&ln.Optional)}finally{Pr(o)}}return I0(i,0,e)}function Gr(n,t,e,i=ln.Default,r){if(null!==n){if(2048&t[Tt]&&!(i&ln.Self)){const s=function m(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[Tt]&&!(512&s[Tt]);){const a=Uf(o,s,e,i|ln.Self,Xo);if(a!==Xo)return a;let l=o.parent;if(!l){const c=s[jb];if(c){const h=c.get(e,Xo,i);if(h!==Xo)return h}l=u(s),s=s[aa]}o=l}return r}(n,t,e,i,Xo);if(s!==Xo)return s}const o=Uf(n,t,e,i,Xo);if(o!==Xo)return o}return Zg(t,e,i,r)}function Uf(n,t,e,i,r){const o=function Sd(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Il)?n[Il]:void 0;return"number"==typeof t?t>=0?t&Wg:dT:t}(e);if("function"==typeof o){if(!Pf(t,n,i))return i&ln.Host?I0(r,0,i):Zg(t,e,i,r);try{let s;if(s=o(i),null!=s||i&ln.Optional)return s;Jp()}finally{Of()}}else if("number"==typeof o){let s=null,a=fa(n,t),l=Gc,c=i&ln.Host?t[fi][Cr]:null;for((-1===a||i&ln.SkipSelf)&&(l=-1===a?Ad(n,t):t[a+8],l!==Gc&&e_(i,!1)?(s=t[$e],a=Vl(l),t=Cd(l,t)):a=-1);-1!==a;){const h=t[$e];if(Jg(o,a,h.data)){const p=Xg(a,t,e,s,i,c);if(p!==Xo)return p}l=t[a+8],l!==Gc&&e_(i,t[$e].data[a+8]===c)&&Jg(o,a,t)?(s=h,a=Vl(l),t=Cd(l,t)):a=-1}}return r}function Xg(n,t,e,i,r,o){const s=t[$e],a=s.data[n+8],h=Bf(a,s,e,null==i?la(a)&&qg:i!=s&&!!(3&a.type),r&ln.Host&&o===a);return null!==h?qr(t,s,h,a):Xo}function Bf(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,h=o>>20,b=r?a+h:n.directiveEnd;for(let E=i?a:a+h;E<b;E++){const T=s[E];if(E<l&&e===T||E>=l&&T.type===e)return E}if(r){const E=s[l];if(E&&To(E)&&E.type===e)return l}return null}function qr(n,t,e,i){let r=n[e];const o=t.data;if(function sT(n){return n instanceof Id}(r)){const s=r;s.resolving&&function IC(n,t){throw t&&t.join(" > "),new J(-200,n)}(function Pn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():jt(n)}(o[e]));const a=Fr(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Pr(s.injectImpl):null;Pf(n,i,ln.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function jg(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Xb(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==c&&Pr(c),Fr(a),s.resolving=!1,Of()}}return r}function Jg(n,t,e){return!!(e[t+(n>>E0)]&1<<n)}function e_(n,t){return!(n&ln.Self||n&ln.Host&&t)}class sr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Gr(this._tNode,this._lView,t,Al(i),e)}}function dT(){return new sr(On(),Ae())}function Ei(n){return Go(()=>{const t=n.prototype.constructor,e=t[oa]||t_(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[oa]||t_(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function t_(n){return Kh(n)?()=>{const t=t_(Lt(n));return t&&t()}:Pa(n)}function u(n){const t=n[$e],e=t.type;return 2===e?t.declTNode:1===e?n[Cr]:null}function n_(n,t=null,e=null,i){const r=i_(n,t,e,i);return r.resolveInjectorInitializers(),r}function i_(n,t=null,e=null,i,r=new Set){const o=[e||mn,FC(n)];return i=i||("object"==typeof n?void 0:Ft(n)),new Fc(o,t||Nc(),i||null,r)}class jn{static{this.THROW_IF_NOT_FOUND=Dc}static{this.NULL=new Oc}static create(t,e){if(Array.isArray(t))return n_({name:""},e,t,"");{const i=t.name??"";return n_({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=Pe({token:jn,providedIn:"any",factory:()=>G(nf)})}static{this.__NG_ELEMENT_ID__=-1}}new he("").__NG_ELEMENT_ID__=n=>{const t=On();if(null===t)throw new J(204,!1);if(2&t.type)return t.value;if(n&ln.Optional)return null;throw new J(204,!1)};function Dd(n){return n.ngOriginalError}const A0=!0;let o_=(()=>{class n{static{this.__NG_ELEMENT_ID__=S$}static{this.__NG_ENV_ID__=e=>e}}return n})();class A$ extends o_{constructor(t){super(),this._lView=t}onDestroy(t){return kl(this._lView,t),()=>function Og(n,t){if(null===n[Va])return;const e=n[Va].indexOf(t);-1!==e&&n[Va].splice(e,1)}(this._lView,t)}}function S$(){return new A$(Ae())}let Ul=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>new n})}}return n})();const Qt=class D$ extends F{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Vc()&&(this.destroyRef=we(o_,{optional:!0})??void 0,this.pendingTasks=we(Ul,{optional:!0})??void 0)}emit(t){const e=ht(null);try{super.next(t)}finally{ht(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof ct&&t.add(a),a}wrapInTimeout(t){return e=>{const i=this.pendingTasks?.add();setTimeout(()=>{t(e),void 0!==i&&this.pendingTasks?.remove(i)})}}};function S0(...n){}function oO(n){let t,e;function i(){n=S0;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function sO(n){return queueMicrotask(()=>n()),()=>{n=S0}}const fT="isAngularZone",D0=fT+"_ID";let M$=0;class At{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qt(!1),this.onMicrotaskEmpty=new Qt(!1),this.onStable=new Qt(!1),this.onError=new Qt(!1);const{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=A0}=t;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,function k$(n){const t=()=>{!function P$(n){function t(){oO(()=>{n.callbackScheduled=!1,pT(n),n.isCheckStableRunning=!0,mT(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),pT(n))}(n)},e=M$++;n._inner=n._inner.fork({name:"angular",properties:{[fT]:!0,[D0]:e,[D0+e]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(function O$(n){return cO(n,"__ignore_ng_zone__")}(l))return i.invokeTask(o,s,a,l);try{return aO(n),i.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),lO(n)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return aO(n),i.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function N$(n){return cO(n,"__scheduler_tick__")}(l)&&t(),lO(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,pT(n),mT(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(fT)}static assertInAngularZone(){if(!At.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(At.isInAngularZone())throw new J(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,R$,S0,S0);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const R$={};function mT(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function aO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lO(n){n._nesting--,mT(n)}class gT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qt,this.onMicrotaskEmpty=new Qt,this.onStable=new Qt,this.onError=new Qt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}function cO(n,t){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[t]}class _s{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Dd(t);for(;e&&Dd(e);)e=Dd(e);return e||null}}const L$=new he("",{providedIn:"root",factory:()=>{const n=we(At),t=we(_s);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function V$(){return jf(On(),Ae())}function jf(n,t){return new Qn($r(n,t))}let Qn=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=V$}}return n})();function dO(n){return n instanceof Qn?n.nativeElement:n}function U$(){return this._results[Symbol.iterator]()}class zf{get changes(){return this._changes??=new Qt}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=zf.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=U$)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const i=function Ir(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function og(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function a_(n){return!(128&~n.flags)}const vT=new Map;let j$=0;function yT(n){vT.delete(n[jc])}const M0="__ngContext__";function oo(n,t){rr(t)?(n[M0]=t[jc],function H$(n){vT.set(n[jc],n)}(t)):n[M0]=t}function wO(n){return IO(n[gd])}function EO(n){return IO(n[Ko])}function IO(n){for(;null!==n&&!gr(n);)n=n[Ko];return n}let wT;const $f=new he("",{providedIn:"root",factory:()=>sG}),sG="ng",RO=new he(""),es=new he("",{providedIn:"platform",factory:()=>"unknown"}),Zc=new he(""),ET=new he("",{providedIn:"root",factory:()=>function Yc(){if(void 0!==wT)return wT;if(typeof document<"u")return document;throw new J(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let PO=()=>null;function DT(n,t,e=!1){return PO(n,t,e)}const BO=new he("",{providedIn:"root",factory:()=>!1});let V0;function Wf(n){return function OT(){if(void 0===V0&&(V0=null,lt.trustedTypes))try{V0=lt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return V0}()?.createHTML(n)||n}class Rd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tr})`}}class bG extends Rd{getTypeName(){return"HTML"}}class wG extends Rd{getTypeName(){return"Style"}}class EG extends Rd{getTypeName(){return"Script"}}class IG extends Rd{getTypeName(){return"URL"}}class xG extends Rd{getTypeName(){return"ResourceURL"}}function vs(n){return n instanceof Rd?n.changingThisBreaksApplicationSecurity:n}function $a(n,t){const e=function CG(n){return n instanceof Rd&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${tr})`)}return e===t}class RG{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Wf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}}class PG{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Wf(t),e}}const OG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function B0(n){return(n=String(n)).match(OG)?n:"unsafe:"+n}function Bl(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function m_(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const WO=Bl("area,br,col,hr,img,wbr"),KO=Bl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),QO=Bl("rp,rt"),FT=m_(WO,m_(KO,Bl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),m_(QO,Bl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),m_(QO,KO)),LT=Bl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),YO=m_(LT,Bl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),NG=Bl("script,style,template");class FG{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0,r=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)r.push(e),e=UG(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=VG(e);if(o){e=o;break}e=r.pop()}return this.buf.join("")}startElement(t){const e=ZO(t).toLowerCase();if(!FT.hasOwnProperty(e))return this.sanitizedSomething=!0,!NG.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!YO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;LT[a]&&(l=B0(l)),this.buf.push(" ",s,'="',JO(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=ZO(t).toLowerCase();FT.hasOwnProperty(e)&&!WO.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(JO(t))}}function VG(n){const t=n.nextSibling;if(t&&n!==t.previousSibling)throw XO(t);return t}function UG(n){const t=n.firstChild;if(t&&function LG(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,t))throw XO(t);return t}function ZO(n){const t=n.nodeName;return"string"==typeof t?t:"FORM"}function XO(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const BG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jG=/([^\#-~ |!])/g;function JO(n){return n.replace(/&/g,"&amp;").replace(BG,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(jG,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let j0;function eN(n,t){let e=null;try{j0=j0||function qO(n){const t=new PG(n);return function kG(){try{return!!(new window.DOMParser).parseFromString(Wf(""),"text/html")}catch{return!1}}()?new RG(t):t}(n);let i=t?String(t):"";e=j0.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=j0.getInertBodyElement(i)}while(i!==o);return Wf((new FG).sanitizeChildren(VT(e)||e))}finally{if(e){const i=VT(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function VT(n){return"content"in n&&function zG(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Wr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Wr||{});function Lr(n){const t=function p_(){const n=Ae();return n&&n[Vs].sanitizer}();return t?t.sanitize(Wr.URL,n)||"":$a(n,"URL")?vs(n):B0(jt(n))}const QG=/^>|^->|<!--|-->|--!>|<!-$/g,YG=/(<|>)/g,ZG="\u200b$1\u200b";function aN(n){return n.ownerDocument.defaultView}function ys(n){return n instanceof Function?n():n}function bs(n){return"browser"===(n??we(jn)).get(es)}var Xc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Xc||{});let jT;function zT(n,t){return jT(n,t)}function Qf(n,t,e,i,r){if(null!=i){let o,s=!1;gr(i)?o=i:rr(i)&&(s=!0,i=i[Jn]);const a=pn(i);0===n&&null!==e?null==r?gN(t,e,a):Pd(t,e,a,r||null,!0):1===n&&null!==e?Pd(t,e,a,r||null,!0):2===n?function __(n,t,e){n.removeChild(null,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function gq(n,t,e,i,r){const o=e[Qo];o!==pn(e)&&Qf(t,n,i,o,r);for(let a=ji;a<e.length;a++){const l=e[a];W0(l[$e],l,n,t,i,o)}}(t,n,o,e,r)}}function $T(n,t){return n.createComment(function iN(n){return n.replace(QG,t=>t.replace(YG,ZG))}(t))}function $0(n,t,e){return n.createElement(t,e)}function fN(n,t){t[Vs].changeDetectionScheduler?.notify(9),W0(n,t,t[Ut],2,null,null)}function mN(n,t){const e=n[Ua],i=t[Oi];(rr(i)||t[fi]!==i[Oi][fi])&&(n[Tt]|=zc.HasTransplantedViews),null===e?n[Ua]=[t]:e.push(t)}function GT(n,t){const e=n[Ua],i=e.indexOf(t);e.splice(i,1)}function g_(n,t){if(n.length<=ji)return;const e=ji+t,i=n[e];if(i){const r=i[Rl];null!==r&&r!==n&&GT(r,i),t>0&&(n[e-1][Ko]=i[Ko]);const o=kc(n,ji+t);!function lq(n,t){fN(n,t),t[Jn]=null,t[Cr]=null}(i[$e],i);const s=o[ms];null!==s&&s.detachView(o[$e]),i[Oi]=null,i[Ko]=null,i[Tt]&=-129}return i}function G0(n,t){if(!(256&t[Tt])){const e=t[Ut];e.destroyNode&&W0(n,t,e,3,null,null),function uq(n){let t=n[gd];if(!t)return qT(n[$e],n);for(;t;){let e=null;if(rr(t))e=t[gd];else{const i=t[ji];i&&(e=i)}if(!e){for(;t&&!t[Ko]&&t!==n;)rr(t)&&qT(t[$e],t),t=t[Oi];null===t&&(t=n),rr(t)&&qT(t[$e],t),e=t&&t[Ko]}t=e}}(t)}}function qT(n,t){if(256&t[Tt])return;const e=ht(null);try{t[Tt]&=-129,t[Tt]|=256,t[Co]&&Pi(t[Co]),function fq(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Id)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Us(4,a,l);try{l.call(a)}finally{Us(5,a,l)}}else{Us(4,r,o);try{o.call(r)}finally{Us(5,r,o)}}}}}(n,t),function hq(n,t){const e=n.cleanup,i=t[pd];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[pd]=null);const r=t[Va];if(null!==r){t[Va]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[$e].type&&t[Ut].destroy();const i=t[Rl];if(null!==i&&gr(t[Oi])){i!==t[Oi]&&GT(i,t);const r=t[ms];null!==r&&r.detachView(n)}yT(t)}finally{ht(e)}}function WT(n,t,e){return function pN(n,t,e){let i=t;for(;null!==i&&168&i.type;)i=(t=i).parent;if(null===i)return e[Jn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===xo.None||o===xo.Emulated)return null}return $r(i,e)}}(n,t.parent,e)}function Pd(n,t,e,i,r){n.insertBefore(t,e,i,r)}function gN(n,t,e){n.appendChild(t,e)}function _N(n,t,e,i,r){null!==i?Pd(n,t,e,i,r):gN(n,t,e)}function KT(n,t){return n.parentNode(t)}function vN(n,t,e){return bN(n,t,e)}let QT,bN=function yN(n,t,e){return 40&n.type?$r(n,e):null};function q0(n,t,e,i){const r=WT(n,i,t),o=t[Ut],a=vN(i.parent||t[Cr],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)_N(o,r,e[l],a,!1);else _N(o,r,e,a,!1);void 0!==QT&&QT(o,i,t,e,r)}function kd(n,t){if(null!==t){const e=t.type;if(3&e)return $r(t,n);if(4&e)return YT(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return kd(n,i);{const r=n[t.index];return gr(r)?YT(-1,r):pn(r)}}if(128&e)return kd(n,t.next);if(32&e)return zT(t,n)()||pn(n[t.index]);{const i=EN(n,t);return null!==i?Array.isArray(i)?i[0]:kd(ua(n[fi]),i):kd(n,t.next)}}return null}function EN(n,t){return null!==t?n[fi][Cr].projection[t.projection]:null}function YT(n,t){const e=ji+n+1;if(e<t.length){const i=t[e],r=i[$e].firstChild;if(null!==r)return kd(i,r)}return t[Qo]}function ZT(n,t,e,i,r,o,s){for(;null!=e;){if(128===e.type){e=e.next;continue}const a=i[e.index],l=e.type;if(s&&0===t&&(a&&oo(pn(a),i),e.flags|=2),32&~e.flags)if(8&l)ZT(n,t,e.child,i,r,o,!1),Qf(t,n,r,a,o);else if(32&l){const c=zT(e,i);let h;for(;h=c();)Qf(t,n,r,h,o);Qf(t,n,r,a,o)}else 16&l?xN(n,t,i,e,r,o):Qf(t,n,r,a,o);e=s?e.projectionNext:e.next}}function W0(n,t,e,i,r,o){ZT(e,i,n.firstChild,t,r,o,!1)}function xN(n,t,e,i,r,o){const s=e[fi],l=s[Cr].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Qf(t,n,r,l[c],o);else{let c=l;const h=s[Oi];a_(i)&&(c.flags|=128),ZT(n,t,c,h,r,o,!0)}}function CN(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function TN(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&cg(n,t,i),null!==r&&CN(n,t,r),null!==o&&function vq(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}const qt={};function y(n=1){AN(en(),Ae(),or()+n,!1)}function AN(n,t,e,i){if(!i)if(3&~t[Tt]){const o=n.preOrderHooks;null!==o&&Ll(t,o,0,e)}else{const o=n.preOrderCheckHooks;null!==o&&Lf(t,o,e)}Fl(e)}function z(n,t=ln.Default){const e=Ae();return null===e?G(n,t):Gr(On(),e,Lt(n),t)}function XT(){throw new Error("invalid")}function SN(n,t,e,i,r,o){const s=ht(null);try{let a=null;r&sa.SignalBased&&(a=t[i][In]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&sa.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(t,o)),null!==n.setInput?n.setInput(t,a,o,e,i):Mg(t,a,i,o)}finally{ht(s)}}function K0(n,t,e,i,r,o,s,a,l,c,h){const p=t.blueprint.slice();return p[Jn]=r,p[Tt]=204|i,(null!==c||n&&2048&n[Tt])&&(p[Tt]|=2048),n0(p),p[Oi]=p[aa]=n,p[kn]=e,p[Vs]=s||n&&n[Vs],p[Ut]=a||n&&n[Ut],p[Wi]=l||n&&n[Wi]||null,p[Cr]=o,p[jc]=function z$(){return j$++}(),p[Hr]=h,p[jb]=c,p[fi]=2==t.type?n[fi]:p,p}function Od(n,t,e,i,r){let o=n.data[t];if(null===o)o=function JT(n,t,e,i,r){const o=l0(),s=Af(),l=n.data[t]=function Tq(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Ol()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,t,e,i,r),function tT(){return Bt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Nl(){const n=Bt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ps(o,!0),o}function v_(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function DN(n,t,e,i,r){const o=or(),s=2&i;try{Fl(-1),s&&t.length>_t&&AN(n,t,_t,!1),Us(s?2:0,r),e(i,r)}finally{Fl(o),Us(s?3:1,r)}}function eA(n,t,e){if(Hc(t)){const i=ht(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{ht(i)}}}function tA(n,t,e){s0()&&(function kq(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;la(e)&&function Bq(n,t,e){const i=$r(t,n),r=MN(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=Q0(n,K0(n,r,null,s,i,t,null,n[Vs].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Td(e,t),oo(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=qr(t,n,a,e);oo(c,t),null!==s&&jq(0,a-r,c,l,0,s),To(l)&&(Ao(e.index,t)[kn]=qr(t,n,a,e))}}(n,t,e,$r(e,t)),!(64&~e.flags)&&NN(n,t,e))}function nA(n,t,e=$r){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function MN(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=iA(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function iA(n,t,e,i,r,o,s,a,l,c,h){const p=_t+i,b=p+r,E=function bq(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:qt);return e}(p,b),T="function"==typeof c?c():c;return E[$e]={type:n,blueprint:E,template:e,queries:null,viewQuery:a,declTNode:t,data:E.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:T,incompleteFirstPass:!1,ssrId:h}}let RN=()=>null;function PN(n,t,e,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];if(void 0===s)continue;i??={};let a,l=sa.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(null!==r){if(!r.hasOwnProperty(o))continue;c=r[o]}0===n?kN(i,e,c,a,l):kN(i,e,c,a)}return i}function kN(n,t,e,i,r){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,i):o=n[e]=[t,i],void 0!==r&&o.push(r)}function ts(n,t,e,i,r,o,s,a){const l=$r(t,e);let h,c=t.inputs;!a&&null!=c&&(h=c[i])?(lA(n,e,h,i,r),la(t)&&function Dq(n,t){const e=Ao(t,n);16&e[Tt]||(e[Tt]|=64)}(e,t.index)):3&t.type&&(i=function Sq(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function rA(n,t,e,i){if(s0()){const r=null===i?null:{"":-1},o=function Nq(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Pb(t,s.selectors,!1))if(i||(i=[]),To(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),oA(n,t,a.length)}else i.unshift(s),oA(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&ON(n,t,e,s,r,a),r&&function Fq(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new J(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=Dl(e.mergedAttrs,e.attrs)}function ON(n,t,e,i,r,o){for(let c=0;c<i.length;c++)Yg(Td(e,t),n,i[c].type);!function Vq(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const h=i[c];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=v_(n,t,i.length,null);for(let c=0;c<i.length;c++){const h=i[c];e.mergedAttrs=Dl(e.mergedAttrs,h.hostAttrs),Uq(n,e,t,l,h),Lq(l,h,r),null!==h.contentQueries&&(e.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function Aq(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let l=null,c=null;for(let h=t.directiveStart;h<r;h++){const p=o[h],b=e?e.get(p):null,T=b?b.outputs:null;l=PN(0,p.inputs,h,l,b?b.inputs:null),c=PN(1,p.outputs,h,c,T);const R=null===l||null===s||dg(t)?null:zq(l,h,s);a.push(R)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,o)}function NN(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function nT(){return Bt.lFrame.currentDirectiveIndex}();try{Fl(o);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];h0(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Oq(l,c)}}finally{Fl(-1),h0(s)}}function Oq(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function oA(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function Lq(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;To(t)&&(e[""]=n)}}function Uq(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=Pa(r.type)),s=new Id(o,To(r),z);n.blueprint[i]=s,e[i]=s,function Rq(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function Pq(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,v_(n,e,r.hostVars,qt),r)}function Ga(n,t,e,i,r,o){const s=$r(n,t);!function sA(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?jt(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[Ut],s,o,n.value,e,i,r)}function jq(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)SN(i,e,s[a++],s[a++],s[a++],s[a++])}function zq(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function FN(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function LN(n,t){const e=n.contentQueries;if(null!==e){const i=ht(null);try{for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const a=n.data[s];Rf(e[r]),a.contentQueries(2,t[s],s)}}}finally{ht(i)}}}function Q0(n,t){return n[gd]?n[Bb][Ko]=t:n[gd]=t,n[Bb]=t,t}function aA(n,t,e){Rf(0);const i=ht(null);try{t(n,e)}finally{ht(i)}}function VN(n){return n[pd]??=[]}function UN(n){return n.cleanup??=[]}function BN(n,t,e){return(null===n||To(n))&&(e=function wf(n){for(;Array.isArray(n);){if("object"==typeof n[Ag])return n;n=n[Jn]}return null}(e[t.index])),e[Ut]}function Y0(n,t){const e=n[Wi],i=e?e.get(_s,null):null;i&&i.handleError(t)}function lA(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=e[o++];SN(n.data[s],t[s],i,a,l,r)}}function jl(n,t,e){const i=Pl(t,n);!function hN(n,t,e){n.setValue(t,e)}(n[Ut],i,e)}function Hq(n,t){const e=Ao(t,n),i=e[$e];!function $q(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[Jn];null!==r&&null===e[Hr]&&(e[Hr]=DT(r,e[Wi])),cA(i,e,e[kn])}function cA(n,t,e){Ug(t);try{const i=n.viewQuery;null!==i&&aA(1,i,e);const r=n.template;null!==r&&DN(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[ms]?.finishViewCreation(n),n.staticContentQueries&&LN(n,t),n.staticViewQueries&&aA(2,n.viewQuery,e);const o=n.components;null!==o&&function Gq(n,t){for(let e=0;e<t.length;e++)Hq(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Tt]&=-5,Bg()}}function Yf(n,t,e,i){const r=ht(null);try{const o=t.tView,l=K0(n,o,e,4096&n[Tt]?4096:16,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);l[Rl]=n[t.index];const h=n[ms];return null!==h&&(l[ms]=h.createEmbeddedView(o)),cA(o,l,e),l}finally{ht(r)}}function Nd(n,t){return!t||null===t.firstChild||a_(n)}function Zf(n,t,e,i=!0){const r=t[$e];if(function dq(n,t,e,i){const r=ji+i,o=e.length;i>0&&(e[r-1][Ko]=t),i<o-ji?(t[Ko]=e[r],sg(e,ji+i,t)):(e.push(t),t[Ko]=null),t[Oi]=e;const s=t[Rl];null!==s&&e!==s&&mN(s,t);const a=t[ms];null!==a&&a.insertView(n),xf(t),t[Tt]|=128}(r,t,n,e),i){const s=YT(e,n),a=t[Ut],l=KT(a,n[Qo]);null!==l&&function cq(n,t,e,i,r,o){i[Jn]=r,i[Cr]=t,W0(n,i,e,1,r,o)}(r,n[Cr],a,t,l,s)}const o=t[Hr];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function y_(n,t,e,i,r=!1){for(;null!==e;){if(128===e.type){e=r?e.projectionNext:e.next;continue}const o=t[e.index];null!==o&&i.push(pn(o)),gr(o)&&zN(o,i);const s=e.type;if(8&s)y_(n,t,e.child,i);else if(32&s){const a=zT(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=EN(t,e);if(Array.isArray(a))i.push(...a);else{const l=ua(t[fi]);y_(l[$e],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function zN(n,t){for(let e=ji;e<n.length;e++){const i=n[e],r=i[$e].firstChild;null!==r&&y_(i[$e],i,r,t)}n[Qo]!==n[Jn]&&t.push(n[Qo])}let HN=[];const Qq={...Re,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Cf(n.lView)},consumerOnSignalRead(){this.lView[Co]=this}},Zq={...Re,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let t=ua(n.lView);for(;t&&!$N(t[$e]);)t=ua(t);t&&Ef(t)},consumerOnSignalRead(){this.lView[Co]=this}};function $N(n){return 2!==n.type}const Xq=100;function Z0(n,t=!0,e=0){const i=n[Vs],r=i.rendererFactory;r.begin?.();try{!function Jq(n,t){const e=Lg();try{wd(!0),dA(n,t);let i=0;for(;If(n);){if(i===Xq)throw new J(103,!1);i++,dA(n,1)}}finally{wd(e)}}(n,e)}catch(s){throw t&&Y0(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function eW(n,t,e,i){const r=t[Tt];if(!(256&~r))return;t[Vs].inlineEffectRunner?.flush(),Ug(t);let a=!0,l=null,c=null;$N(n)?(c=function qq(n){return n[Co]??function Wq(n){const t=HN.pop()??Object.create(Qq);return t.lView=n,t}(n)}(t),l=Dt(c)):null===function Bn(){return rt}()?(a=!1,c=function Yq(n){const t=n[Co]??Object.create(Zq);return t.lView=n,t}(t),l=Dt(c)):t[Co]&&(Pi(t[Co]),t[Co]=null);try{n0(t),function c0(n){return Bt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&DN(n,t,e,2,i);const h=!(3&~r);if(h){const E=n.preOrderCheckHooks;null!==E&&Lf(t,E,null)}else{const E=n.preOrderHooks;null!==E&&Ll(t,E,0,null),zg(t,0)}if(function tW(n){for(let t=wO(n);null!==t;t=EO(t)){if(!(t[Tt]&zc.HasTransplantedViews))continue;const e=t[Ua];for(let i=0;i<e.length;i++)Ef(e[i])}}(t),qN(t,0),null!==n.contentQueries&&LN(n,t),h){const E=n.contentCheckHooks;null!==E&&Lf(t,E)}else{const E=n.contentHooks;null!==E&&Ll(t,E,1),zg(t,1)}!function yq(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Fl(~r);else{const o=r,s=e[++i],a=e[++i];d0(s,o),a(2,t[o])}}}finally{Fl(-1)}}(n,t);const p=n.components;null!==p&&KN(t,p,0);const b=n.viewQuery;if(null!==b&&aA(2,b,i),h){const E=n.viewCheckHooks;null!==E&&Lf(t,E)}else{const E=n.viewHooks;null!==E&&Ll(t,E,2),zg(t,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[mf]){for(const E of t[mf])E();t[mf]=null}t[Tt]&=-73}catch(h){throw Cf(t),h}finally{null!==c&&(Wt(c,l),a&&function Kq(n){n.lView[Co]!==n&&(n.lView=null,HN.push(n))}(c)),Bg()}}function qN(n,t){for(let e=wO(n);null!==e;e=EO(e))for(let i=ji;i<e.length;i++)WN(e[i],t)}function nW(n,t,e){WN(Ao(t,n),e)}function WN(n,t){bd(n)&&dA(n,t)}function dA(n,t){const i=n[$e],r=n[Tt],o=n[Co];let s=!!(0===t&&16&r);if(s||=!!(64&r&&0===t),s||=!!(1024&r),s||=!(!o?.dirty||!li(o)),s||=!1,o&&(o.dirty=!1),n[Tt]&=-9217,s)eW(i,n,i.template,n[kn]);else if(8192&r){qN(n,1);const a=i.components;null!==a&&KN(n,a,1)}}function KN(n,t,e){for(let i=0;i<t.length;i++)nW(n,t[i],e)}function b_(n,t){const e=Lg()?64:1088;for(n[Vs].changeDetectionScheduler?.notify(t);n;){n[Tt]|=e;const i=ua(n);if(ca(n)&&!i)return n;n=i}return null}class w_{get rootNodes(){const t=this._lView,e=t[$e];return y_(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kn]}set context(t){this._lView[kn]=t}get destroyed(){return!(256&~this._lView[Tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Oi];if(gr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(g_(t,i),kc(e,i))}this._attachedToViewContainer=!1}G0(this._lView[$e],this._lView)}onDestroy(t){kl(this._lView,t)}markForCheck(){b_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Tt]&=-129}reattach(){xf(this._lView),this._lView[Tt]|=128}detectChanges(){this._lView[Tt]|=1024,Z0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=ca(this._lView),e=this._lView[Rl];null!==e&&!t&&GT(e,this._lView),fN(this._lView[$e],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=t;const e=ca(this._lView),i=this._lView[Rl];null!==i&&!e&&mN(i,this._lView),xf(this._lView)}}let qa=(()=>{class n{static{this.__NG_ELEMENT_ID__=oW}}return n})();const iW=qa,rW=class extends iW{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=Yf(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:i});return new w_(r)}};function oW(){return X0(On(),Ae())}function X0(n,t){return 4&n.type?new rW(t,n,jf(n,t)):null}let g2=()=>null;function Ld(n,t){return g2(n,t)}class Jf{}const D_=new he("",{providedIn:"root",factory:()=>!1}),_2=new he(""),EA=new he("");class ZW{}class v2{}class JW{resolveComponentFactory(t){throw function XW(n){const t=Error(`No component factory found for ${Ft(n)}.`);return t.ngComponent=n,t}(t)}}class em{static{this.NULL=new JW}}class rw{}let zl=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function eK(){const n=Ae(),e=Ao(On().index,n);return(rr(e)?e:n)[Ut]}()}}return n})(),tK=(()=>{class n{static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>null})}}return n})();function sw(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Tc(r,a):2==o&&(i=Tc(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}class E2 extends em{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Jt(t);return new P_(e,this.ngModule)}}function I2(n,t){const e=[];for(const i in n){if(!n.hasOwnProperty(i))continue;const r=n[i];if(void 0===r)continue;const o=Array.isArray(r),s=o?r[0]:r;e.push(t?{propName:s,templateName:i,isSignal:!!((o?r[1]:sa.None)&sa.SignalBased)}:{propName:s,templateName:i})}return e}class P_ extends v2{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=I2(t.inputs,!0);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return I2(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function gg(n){return n.map(RC).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){const o=ht(null);try{let s=(r=r||this.ngModule)instanceof pr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new za(t,s):t,l=a.get(rw,null);if(null===l)throw new J(407,!1);const p={rendererFactory:l,sanitizer:a.get(tK,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(Jf,null)},b=l.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",T=i?function wq(n,t,e,i){const o=i.get(BO,!1)||e===xo.ShadowDom,s=n.selectRootElement(t,o);return function Eq(n){RN(n)}(s),s}(b,i,this.componentDef.encapsulation,a):$0(b,E,function rK(n){const t=n.toLowerCase();return"svg"===t?bf:"math"===t?"math":null}(E));let R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let P=null;null!==T&&(P=DT(T,a,!0));const H=iA(0,null,null,1,0,null,null,null,null,null,null),B=K0(null,H,null,R,null,null,p,b,a,null,P);Ug(B);let Q,ge,ze=null;try{const We=this.componentDef;let $,V=null;We.findHostDirectiveDefs?($=[],V=new Map,We.findHostDirectiveDefs(We,$,V),$.push(We)):$=[We];const q=function sK(n,t){const e=n[$e],i=_t;return n[i]=t,Od(e,i,2,"#host",null)}(B,T);ze=function aK(n,t,e,i,r,o,s){const a=r[$e];!function lK(n,t,e,i){for(const r of n)t.mergedAttrs=Dl(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(sw(t,t.mergedAttrs,!0),null!==e&&TN(i,e,t))}(i,n,t,s);let l=null;null!==t&&(l=DT(t,r[Wi]));const c=o.rendererFactory.createRenderer(t,e);let h=16;e.signals?h=4096:e.onPush&&(h=64);const p=K0(r,MN(e),null,h,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&oA(a,n,i.length-1),Q0(r,p),r[n.index]=p}(q,T,We,$,B,p,b),ge=$c(H,_t),T&&function uK(n,t,e,i){if(i)cg(n,e,["ng-version","18.2.13"]);else{const{attrs:r,classes:o}=function PC(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!fs(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&cg(n,e,r),o&&o.length>0&&CN(n,e,o.join(" "))}}(b,We,T,i),void 0!==e&&function dK(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(ge,this.ngContentSelectors,e),Q=function cK(n,t,e,i,r,o){const s=On(),a=r[$e],l=$r(s,r);ON(a,r,s,e,null,i);for(let h=0;h<e.length;h++)oo(qr(r,a,s.directiveStart+h,s),r);NN(a,r,s),l&&oo(l,r);const c=qr(r,a,s.directiveStart+s.componentOffset,s);if(n[kn]=r[kn]=c,null!==o)for(const h of o)h(c,t);return eA(a,s,r),c}(ze,We,$,V,B,[hK]),cA(H,B,null)}catch(We){throw null!==ze&&yT(ze),yT(B),We}finally{Bg()}return new oK(this.componentType,Q,jf(ge,B),B,ge)}finally{ht(o)}}}class oK extends ZW{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new w_(r,void 0,!1),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;lA(o[$e],o,r,t,e),this.previousInputValues.set(t,e),b_(Ao(this._tNode.index,o),1)}}get injector(){return new sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function hK(){const n=On();Ff(Ae()[$e],n)}let js=(()=>{class n{static{this.__NG_ELEMENT_ID__=fK}}return n})();function fK(){return T2(On(),Ae())}const mK=js,x2=class extends mK{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return jf(this._hostTNode,this._hostLView)}get injector(){return new sr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ad(this._hostTNode,this._hostLView);if(xd(t)){const e=Cd(t,this._hostLView),i=Vl(t);return new sr(e[$e].data[i+8],e)}return new sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=C2(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ji}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=Ld(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,Nd(this._hostTNode,s)),a}createComponent(t,e,i,r,o){const s=t&&!function fd(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const T=e||{};a=T.index,i=T.injector,r=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}const l=s?t:new P_(Jt(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const R=(s?c:this.parentInjector).get(pr,null);R&&(o=R)}const h=Jt(l.componentType??{}),p=Ld(this._lContainer,h?.id??null),E=l.create(c,r,p?.firstChild??null,o);return this.insertImpl(E.hostView,a,Nd(this._hostTNode,p)),E}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){const r=t._lView;if(function KC(n){return gr(n[Oi])}(r)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=r[Oi],c=new x2(l,l[Cr],l[Oi]);c.detach(c.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;return Zf(s,r,o,i),t.attachToViewContainerRef(),sg(CA(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=C2(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=g_(this._lContainer,e);i&&(kc(CA(this._lContainer),e),G0(i[$e],i))}detach(t){const e=this._adjustIndex(t,-1),i=g_(this._lContainer,e);return i&&null!=kc(CA(this._lContainer),e)?new w_(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function C2(n){return n[8]}function CA(n){return n[8]||(n[8]=[])}function T2(n,t){let e;const i=t[n.index];return gr(i)?e=i:(e=FN(i,t,null,n),t[n.index]=e,Q0(t,e)),A2(e,t,n,i),new x2(e,n,t)}let A2=function D2(n,t,e,i){if(n[Qo])return;let r;r=8&e.type?pn(i):function pK(n,t){const e=n[Ut],i=e.createComment(""),r=$r(t,n);return Pd(e,KT(e,r),i,function mq(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Qo]=r},TA=()=>!1;class AA{constructor(t){this.queryList=t,this.matches=null}clone(){return new AA(this.queryList)}setDirty(){this.queryList.setDirty()}}class SA{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new SA(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==kA(t,e).matches&&this.queries[e].setDirty()}}class M2{constructor(t,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof t?function IK(n){return n.split(",").map(t=>t.trim())}(t):t}}class DA{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new DA(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class MA{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new MA(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,yK(e,o)),this.matchTNodeWithReadOption(t,e,Bf(e,t,o,!1,!1))}else i===qa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Bf(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Qn||r===js||r===qa&&4&e.type)this.addMatch(e.index,-2);else{const o=Bf(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function yK(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function wK(n,t,e,i){return-1===e?function bK(n,t){return 11&n.type?jf(n,t):4&n.type?X0(n,t):null}(t,n):-2===e?function EK(n,t,e){return e===Qn?jf(t,n):e===qa?X0(t,n):e===js?T2(t,n):void 0}(n,t,i):qr(n,n[$e],e,t)}function R2(n,t,e,i){const r=t[ms].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:wK(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function RA(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=R2(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],h=t[-l];for(let p=ji;p<h.length;p++){const b=h[p];b[Rl]===b[Oi]&&RA(b[$e],b,c,i)}if(null!==h[Ua]){const p=h[Ua];for(let b=0;b<p.length;b++){const E=p[b];RA(E[$e],E,c,i)}}}}}return i}function k2(n,t,e){const i=en();return i.firstCreatePass&&(function N2(n,t,e){null===n.queries&&(n.queries=new DA),n.queries.track(new MA(t,e))}(i,new M2(n,t,e),-1),!(2&~t)&&(i.staticViewQueries=!0)),function P2(n,t,e){const i=new zf(!(4&~e));return function Cq(n,t,e,i){const r=VN(t);r.push(e),n.firstCreatePass&&UN(n).push(i,r.length-1)}(n,t,i,i.destroy),(t[ms]??=new SA).queries.push(new AA(i))-1}(i,Ae(),t)}function kA(n,t){return n.queries.getByIndex(t)}function F2(n,t){const e=n[$e],i=kA(e,t);return i.crossesNgTemplate?RA(e,n,t,[]):R2(e,n,i,t)}const L2=new Set;function So(n){L2.has(n)||(L2.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Vd(n,t){So("NgSignals");const e=function qn(n){const t=Object.create(Be);t.value=n;const e=()=>(Ue(t),t.value);return e[In]=t,e}(n),i=e[In];return t?.equal&&(i.equal=t.equal),e.set=r=>Ie(i,r),e.update=r=>function ue(n,t){Bi()||pt(),Ie(n,t(n.value))}(i,r),e.asReadonly=V2.bind(e),e}function V2(){const n=this[In];if(void 0===n.readonlyFn){const t=()=>this();t[In]=n,n.readonlyFn=t}return n.readonlyFn}function U2(n){return function aw(n){return"function"==typeof n&&void 0!==n[In]}(n)&&"function"==typeof n.set}function gn(n){let t=function Y2(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(To(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new J(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=cw(n.inputs),s.inputTransforms=cw(n.inputTransforms),s.declaredInputs=cw(n.declaredInputs),s.outputs=cw(n.outputs);const a=r.hostBindings;a&&VK(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&FK(n,l),c&&LK(n,c),OK(n,r),wo(n.outputs,r.outputs),To(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===gn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function NK(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Dl(r.hostAttrs,e=Dl(e,r.hostAttrs))}}(i)}function OK(n,t){for(const e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;const i=t.inputs[e];if(void 0!==i&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e],null!==t.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=t.inputTransforms[r]}}}function cw(n){return n===Wo?{}:n===mn?[]:n}function FK(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function LK(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function VK(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function O_(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}n.inputTransforms=e}class Ud{}class tF{}class FA extends Ud{constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new E2(this);const o=kr(t);this._bootstrapComponents=ys(o.bootstrap),this._r3Injector=i_(t,e,[{provide:Ud,useValue:this},{provide:em,useValue:this.componentFactoryResolver},...i],Ft(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class LA extends tF{constructor(t){super(),this.moduleType=t}create(t){return new FA(this.moduleType,t,[])}}class nF extends Ud{constructor(t){super(),this.componentFactoryResolver=new E2(this),this.instance=null;const e=new Fc([...t.providers,{provide:Ud,useValue:this},{provide:em,useValue:this.componentFactoryResolver}],t.parent||Nc(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function uw(n,t,e=null){return new nF({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}function dw(n){return!!function VA(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Wa(n,t,e){return n[t]=e}function ar(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Bd(n,t,e,i){const r=ar(n,t,e);return ar(n,t+1,i)||r}function F_(n,t,e,i,r,o,s,a,l,c){const h=e+_t,p=t.firstCreatePass?function YK(n,t,e,i,r,o,s,a,l){const c=t.consts,h=Od(t,n,4,s||null,a||null);rA(t,e,h,Yo(c,l)),Ff(t,h);const p=h.tView=iA(2,h,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,h),p.queries=t.queries.embeddedTView(h)),h}(h,t,n,i,r,o,s,a,l):t.data[h];ps(p,!1);const b=iF(t,n,p,e);Ed()&&q0(t,n,b,p),oo(b,n);const E=FN(b,n,b,p);return n[h]=E,Q0(n,E),function S2(n,t,e){return TA(n,t,e)}(E,p,n),gf(p)&&tA(t,n,p),null!=l&&nA(n,p,c),p}function pe(n,t,e,i,r,o,s,a){const l=Ae(),c=en();return F_(l,c,n,t,e,i,r,Yo(c.consts,o),s,a),pe}let iF=function rF(n,t,e,i){return Zo(!0),t[Ut].createComment("")};var rm=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(rm||{});let uF=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>new n})}}return n})();class U_{constructor(){this.ngZone=we(At),this.scheduler=we(Jf),this.errorHandler=we(_s,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[rm.EarlyRead,rm.Write,rm.MixedReadWrite,rm.Read]}execute(){this.executing=!0;for(const t of U_.PHASES)for(const e of this.sequences)if(!e.erroredOrDestroyed&&e.hooks[t])try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[t](e.pipelinedValue))}catch(i){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=Pe({token:U_,providedIn:"root",factory:()=>new U_})}}class eQ{constructor(t,e,i,r){this.impl=t,this.hooks=e,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function jd(n,t){!t?.injector&&xg();const e=t?.injector??we(jn);return bs(e)?(So("NgAfterNextRender"),hF(n,e,t,!0)):fF}function hF(n,t,e,i){const r=t.get(uF);r.impl??=t.get(U_);const o=e?.phase??rm.MixedReadWrite,s=!0!==e?.manualCleanup?t.get(o_):null,a=new eQ(r.impl,function tQ(n,t){if(n instanceof Function){const e=[void 0,void 0,void 0,void 0];return e[t]=n,e}return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}(n,o),i,s);return r.impl.register(a),a}const fF={destroy(){}};function ei(n,t,e,i){const r=Ae();return ar(r,gs(),t)&&(en(),Ga(Kn(),r,n,t,e,i)),ei}function dm(n,t,e,i){return ar(n,gs(),e)?t+jt(e)+i:qt}function mm(n,t,e,i,r,o,s,a,l,c){const p=function zs(n,t,e,i,r,o){const s=Bd(n,t,e,i);return Bd(n,t+2,r,o)||s}(n,Bs(),e,r,s,l);return da(4),p?t+jt(e)+i+jt(r)+o+jt(s)+a+jt(l)+c:qt}function vw(n,t){return n<<17|t<<2}function nu(n){return n>>17&32767}function QA(n){return 2|n}function Hd(n){return(131068&n)>>2}function YA(n,t){return-131069&n|t<<2}function ZA(n){return 1|n}function UF(n,t,e,i){const r=n[e+1],o=null===t;let s=i?nu(r):Hd(r),a=!1;for(;0!==s&&(!1===a||o);){const c=n[s+1];LQ(n[s],t)&&(a=!0,n[s+1]=i?ZA(c):QA(c)),s=i?nu(c):Hd(c)}a&&(n[e+1]=i?QA(r):ZA(r))}function LQ(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Oa(n,t)>=0}const Tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BF(n){return n.substring(Tr.key,Tr.keyEnd)}function jF(n,t){const e=Tr.textEnd;return e===t?-1:(t=Tr.keyEnd=function jQ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Tr.key=t,e),ym(n,t,e))}function ym(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function O(n,t,e){const i=Ae();return ar(i,gs(),t)&&ts(en(),Kn(),i,n,t,i[Ut],e,!1),O}function XA(n,t,e,i,r){const s=r?"class":"style";lA(n,e,t.inputs[s],s,i)}function _r(n,t){return function ma(n,t,e,i){const r=Ae(),o=en(),s=da(2);o.firstUpdatePass&&KF(o,n,s,i),t!==qt&&ar(r,s,t)&&YF(o,o.data[or()],r,r[Ut],n,r[s+1]=function XQ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ft(vs(n)))),n}(t,e),i,s)}(n,t,null,!0),_r}function yw(n){!function pa(n,t,e,i){const r=en(),o=da(2);r.firstUpdatePass&&KF(r,null,o,i);const s=Ae();if(e!==qt&&ar(s,o,e)){const a=r.data[or()];if(XF(a,i)&&!WF(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Tc(l,e||"")),XA(r,a,s,e,i)}else!function ZQ(n,t,e,i,r,o,s,a){r===qt&&(r=mn);let l=0,c=0,h=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;null!==h||null!==p;){const b=l<r.length?r[l+1]:void 0,E=c<o.length?o[c+1]:void 0;let R,T=null;h===p?(l+=2,c+=2,b!==E&&(T=p,R=E)):null===p||null!==h&&h<p?(l+=2,T=h):(c+=2,T=p,R=E),null!==T&&YF(n,t,e,i,T,R,s,a),h=l<r.length?r[l]:null,p=c<o.length?o[c]:null}}(r,a,s,s[Ut],s[o+1],s[o+1]=function QQ(n,t,e){if(null==e||""===e)return mn;const i=[],r=vs(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}(YQ,Qa,n,!0)}function Qa(n,t){for(let e=function UQ(n){return function HF(n){Tr.key=0,Tr.keyEnd=0,Tr.value=0,Tr.valueEnd=0,Tr.textEnd=n.length}(n),jF(n,ym(n,0,Tr.textEnd))}(t);e>=0;e=jF(t,e))zr(n,BF(t),!0)}function WF(n,t){return t>=n.expandoStartIndex}function KF(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[or()],s=WF(n,e);XF(o,i)&&null===t&&!s&&(t=!1),t=function GQ(n,t,e,i){const r=Vg(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=j_(e=JA(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=JA(r,n,t,e,i),null===o){let l=function qQ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Hd(i))return n[nu(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=JA(null,n,t,l[1],i),l=j_(l,t.attrs,i),function WQ(n,t,e,i){n[nu(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function KQ(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=j_(i,n[o].hostAttrs,e);return j_(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function NQ(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=nu(s),l=Hd(s);n[i]=e;let h,c=!1;if(Array.isArray(e)?(h=e[1],(null===h||Oa(e,h)>0)&&(c=!0)):h=e,r)if(0!==l){const b=nu(n[a+1]);n[i+1]=vw(b,a),0!==b&&(n[b+1]=YA(n[b+1],i)),n[a+1]=function kQ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=vw(a,0),0!==a&&(n[a+1]=YA(n[a+1],i)),a=i;else n[i+1]=vw(l,0),0===a?a=i:n[l+1]=YA(n[l+1],i),l=i;c&&(n[i+1]=QA(n[i+1])),UF(n,h,i,!0),UF(n,h,i,!1),function FQ(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Oa(o,t)>=0&&(e[i+1]=ZA(e[i+1]))}(t,h,n,i,o),s=vw(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function JA(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=j_(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function j_(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zr(n,s,!!e||t[++o]))}return void 0===n?null:n}function YQ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&zr(n,i,e)}function YF(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],h=function OQ(n){return!(1&~n)}(c)?ZF(l,t,e,r,Hd(c),s):void 0;bw(h)||(bw(o)||function PQ(n){return!(2&~n)}(c)&&(o=ZF(l,null,e,r,a,s)),function _q(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:Xc.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Xc.Important),n.setStyle(e,i,r,o))}}(i,s,Pl(or(),e),r,o))}function ZF(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),h=c?l[1]:l,p=null===h;let b=e[r+1];b===qt&&(b=p?mn:void 0);let E=p?Sl(b,i):h===i?b:void 0;if(c&&!bw(E)&&(E=Sl(l,i)),bw(E)&&(a=E,s))return a;const T=n[r+1];r=s?nu(T):Hd(T)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Sl(l,i))}return a}function bw(n){return void 0!==n}function XF(n,t){return!!(n.flags&(t?8:16))}function _(n,t,e,i){const r=Ae(),o=en(),s=_t+n,a=r[Ut],l=o.firstCreatePass?function bY(n,t,e,i,r,o){const s=t.consts,l=Od(t,n,2,i,Yo(s,r));return rA(t,e,l,Yo(s,o)),null!==l.attrs&&sw(l,l.attrs,!1),null!==l.mergedAttrs&&sw(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,e,i):o.data[s],c=nL(o,r,l,a,t,n);r[s]=c;const h=gf(l);return ps(l,!0),TN(a,c,l),!function nm(n){return!(32&~n.flags)}(l)&&Ed()&&q0(o,r,c,l),0===function QC(){return Bt.lFrame.elementDepthCount}()&&oo(c,r),function Fg(){Bt.lFrame.elementDepthCount++}(),h&&(tA(o,r,l),eA(o,l,r)),null!==i&&nA(r,l),_}function v(){let n=On();Af()?Sf():(n=n.parent,ps(n,!1));const t=n;(function ZC(n){return Bt.skipHydrationRootTNode===n})(t)&&function eT(){Bt.skipHydrationRootTNode=null}(),function YC(){Bt.lFrame.elementDepthCount--}();const e=en();return e.firstCreatePass&&(Ff(e,n),Hc(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function b0(n){return!!(8&n.flags)}(t)&&XA(e,t,Ae(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function lT(n){return!!(16&n.flags)}(t)&&XA(e,t,Ae(),t.stylesWithoutHost,!1),v}function fe(n,t,e,i){return _(n,t,e,i),v(),fe}let nL=(n,t,e,i,r,o)=>(Zo(!0),$0(i,r,function Nf(){return Bt.lFrame.currentNamespace}()));function ti(n,t,e){const i=Ae(),r=en(),o=n+_t,s=r.firstCreatePass?function IY(n,t,e,i,r){const o=t.consts,s=Yo(o,i),a=Od(t,n,8,"ng-container",s);return null!==s&&sw(a,s,!0),rA(t,e,a,Yo(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];ps(s,!0);const a=rL(r,i,s,n);return i[o]=a,Ed()&&q0(r,i,a,s),oo(a,i),gf(s)&&(tA(r,i,s),eA(r,s,i)),null!=e&&nA(i,s),ti}function ni(){let n=On();const t=en();return Af()?Sf():(n=n.parent,ps(n,!1)),t.firstCreatePass&&(Ff(t,n),Hc(n)&&t.queries.elementEnd(n)),ni}let rL=(n,t,e,i)=>(Zo(!0),$T(t[Ut],""));function st(){return Ae()}function r1(n,t,e){const i=Ae();if(ar(i,gs(),t)){const o=en(),s=Kn();ts(o,s,i,n,t,BN(Vg(o.data),s,i),e,!0)}return r1}const $d=void 0;var AY=["en",[["a","p"],["AM","PM"],$d],[["AM","PM"],$d,$d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$d,"{1} 'at' {0}",$d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TY(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let bm={};function Do(n){const t=function SY(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=aL(t);if(e)return e;const i=t.split("-")[0];if(e=aL(i),e)return e;if("en"===i)return AY;throw new J(701,!1)}function aL(n){return n in bm||(bm[n]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[n]),bm[n]}var mi=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(mi||{});const Ew="en-US";let lL=Ew,TL=(n,t,e)=>{};function le(n,t,e,i){const r=Ae(),o=en(),s=On();return l1(o,r,r[Ut],s,n,t,i),le}function a1(n,t){const e=On(),i=Ae(),r=en();return l1(r,i,BN(Vg(r.data),e,i),e,n,t),a1}function l1(n,t,e,i,r,o,s){const a=gf(i),c=n.firstCreatePass&&UN(n),h=t[kn],p=VN(t);let b=!0;if(3&i.type||s){const R=$r(i,t),P=s?s(R):R,H=p.length,B=s?ge=>s(pn(ge[i.index])):i.index;let Q=null;if(!s&&a&&(Q=function gZ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[pd],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==Q)(Q.__ngLastListenerFn__||Q).__ngNextListenerFn__=o,Q.__ngLastListenerFn__=o,b=!1;else{o=DL(i,t,h,o),TL(R,r,o);const ge=e.listen(P,r,o);p.push(o,ge),c&&c.push(r,B,H,H+1)}}else o=DL(i,t,h,o);const E=i.outputs;let T;if(b&&null!==E&&(T=E[r])){const R=T.length;if(R)for(let P=0;P<R;P+=2){const ze=t[T[P]][T[P+1]].subscribe(o),We=p.length;p.push(o,ze),c&&c.push(r,i.index,We,-(We+1))}}}function SL(n,t,e,i){const r=ht(null);try{return Us(6,t,e),!1!==e(i)}catch(o){return Y0(n,o),!1}finally{Us(7,t,e),ht(r)}}function DL(n,t,e,i){return function r(o){if(o===Function)return i;b_(n.componentOffset>-1?Ao(n.index,t):t,5);let a=SL(t,e,i,o),l=r.__ngNextListenerFn__;for(;l;)a=SL(t,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function L(n=1){return function rT(n){return(Bt.lFrame.contextLView=function r0(n,t){for(;n>0;)t=t[aa],n--;return t}(n,Bt.lFrame.contextLView))[kn]}(n)}function _Z(n,t){let e=null;const i=function mg(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Pb(n,o,!0):MC(i,o))return r}else e=r}return e}function iu(n){const t=Ae()[fi][Cr];if(!t.projection){const i=t.projection=function ad(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){if(128!==o.type){const s=n?_Z(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function so(n,t=0,e,i,r,o){const s=Ae(),a=en(),l=i?n+1:null;null!==l&&F_(s,a,l,i,r,o,null,e);const c=Od(a,_t+n,16,null,e||null);null===c.projection&&(c.projection=t),Sf();const p=!s[Hr]||Ol();null===s[fi][Cr].projection[c.projection]&&null!==l?function vZ(n,t,e){const i=_t+e,r=t.data[i],o=n[i],s=Ld(o,r.tView.ssrId);Zf(o,Yf(n,r,void 0,{dehydratedView:s}),0,Nd(r,s))}(s,a,l):p&&32&~c.flags&&function pq(n,t,e){xN(t[Ut],0,t,e,WT(n,e,t),vN(e.parent||t[Cr],e,t))}(a,s,c)}function is(n,t,e){return c1(n,"",t,"",e),is}function c1(n,t,e,i,r){const o=Ae(),s=dm(o,t,e,i);return s!==qt&&ts(en(),Kn(),o,n,s,o[Ut],r,!1),c1}function $l(){return function PA(n,t){return n[ms].queries[t].queryList}(Ae(),ha())}function Ki(n){return ja(function Df(){return Bt.lFrame.contextLView}(),_t+n)}function x(n,t=""){const e=Ae(),i=en(),r=n+_t,o=i.firstCreatePass?Od(i,r,1,t,null):i.data[r],s=WL(i,e,o,t,n);e[r]=s,Ed()&&q0(i,e,s,o),ps(o,!1)}let WL=(n,t,e,i,r)=>(Zo(!0),function HT(n,t){return n.createText(t)}(t[Ut],i));function U(n){return ee("",n,""),U}function ee(n,t,e){const i=Ae(),r=dm(i,n,t,e);return r!==qt&&jl(i,or(),r),ee}function rs(n,t,e,i,r){const o=Ae(),s=function hm(n,t,e,i,r,o){const a=Bd(n,Bs(),e,r);return da(2),a?t+jt(e)+i+jt(r)+o:qt}(o,n,t,e,i,r);return s!==qt&&jl(o,or(),s),rs}function h1(n,t,e,i,r,o,s,a,l){const c=Ae(),h=mm(c,n,t,e,i,r,o,s,a,l);return h!==qt&&jl(c,or(),h),h1}function xn(n,t,e){U2(t)&&(t=t());const i=Ae();return ar(i,gs(),t)&&ts(en(),Kn(),i,n,t,i[Ut],e,!1),xn}function Mn(n,t){const e=U2(n);return e&&n.set(t),e}function Cn(n,t){const e=Ae(),i=en(),r=On();return l1(i,e,e[Ut],r,n,t),Cn}function f1(n,t,e,i,r){if(n=Lt(n),Array.isArray(n))for(let o=0;o<n.length;o++)f1(n[o],t,e,i,r);else{const o=en(),s=Ae(),a=On();let l=Ml(n)?n:Lt(n.provide);const c=Lb(n),h=1048575&a.providerIndexes,p=a.directiveStart,b=a.providerIndexes>>20;if(Ml(n)||!n.multi){const E=new Id(c,r,z),T=p1(l,t,r?h:h+b,p);-1===T?(Yg(Td(a,s),o,l),m1(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(E),s.push(E)):(e[T]=E,s[T]=E)}else{const E=p1(l,t,h+b,p),T=p1(l,t,h,h+b),P=T>=0&&e[T];if(r&&!P||!r&&!(E>=0&&e[E])){Yg(Td(a,s),o,l);const H=function VZ(n,t,e,i,r){const o=new Id(n,e,z);return o.multi=[],o.index=t,o.componentProviders=0,nV(o,r,i&&!e),o}(r?LZ:FZ,e.length,r,i,c);!r&&P&&(e[T].providerFactory=H),m1(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(H),s.push(H)}else m1(o,n,E>-1?E:T,nV(e[r?T:E],c,!r&&i));!r&&i&&P&&e[T].componentProviders++}}}function m1(n,t,e,i){const r=Ml(t),o=function VC(n){return!!n.useClass}(t);if(r||o){const l=(o?Lt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const h=c.indexOf(e);-1===h?c.push(e,[i,l]):c[h+1].push(i,l)}else c.push(e,l)}}}function nV(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function p1(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function FZ(n,t,e,i){return g1(this.multi,[])}function LZ(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=qr(e,e[$e],this.providerFactory.index,i);o=a.slice(0,s),g1(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],g1(r,o);return o}function g1(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function pi(n,t=[]){return e=>{e.providersResolver=(i,r)=>function NZ(n,t,e){const i=en();if(i.firstCreatePass){const r=To(n);f1(e,i.data,i.blueprint,r,!0),f1(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}let UZ=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=Ob(0,e.type),r=i.length>0?uw([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Pe({token:n,providedIn:"environment",factory:()=>new n(G(pr))})}}return n})();function ga(n){So("NgStandalone"),n.getStandaloneInjector=t=>t.get(UZ).getOrCreateStandaloneInjector(n)}function _1(n,t,e,i){return sV(Ae(),Nr(),n,t,e,i)}function K_(n,t){const e=n[t];return e===qt?void 0:e}function sV(n,t,e,i,r,o){const s=t+e;return ar(n,s,r)?Wa(n,s+1,o?i.call(o,r):i(r)):K_(n,s+1)}function aV(n,t,e,i,r,o,s){const a=t+e;return Bd(n,a,r,o)?Wa(n,a+2,s?i.call(s,r,o):i(r,o)):K_(n,a+2)}function S(n,t){const e=en();let i;const r=n+_t;e.firstCreatePass?(i=function ZZ(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Pa(i.type)),a=Pr(z);try{const l=Fr(!1),c=o();return Fr(l),function d1(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,Ae(),r,c),c}finally{Pr(a)}}function D(n,t,e){const i=n+_t,r=Ae(),o=ja(r,i);return Q_(r,i)?sV(r,Nr(),t,o.transform,e,o):o.transform(e)}function Gl(n,t,e,i){const r=n+_t,o=Ae(),s=ja(o,r);return Q_(o,r)?aV(o,Nr(),t,s.transform,e,i,s):s.transform(e,i)}function Q_(n,t){return n[$e].data[t].pure}function Ar(n,t){return X0(n,t)}class ru{constructor(t){this.full=t;const e=t.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}}const EX=new ru("18.2.13");let TV=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const RV=new he(""),Mw=new he("");let C1,I1=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,C1||(function KX(n){C1=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{At.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(G(At),G(x1),G(Mw))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),x1=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return C1?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function X_(n){return!!n&&"function"==typeof n.then}function PV(n){return!!n&&"function"==typeof n.subscribe}const T1=new he("");let kV=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=we(T1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(X_(o))e.push(o);else if(PV(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Rw=new he("");function NV(n,t){return Array.isArray(t)?t.reduce(NV,n):{...n,...t}}let _a=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=we(L$),this.afterRenderManager=we(uF),this.zonelessEnabled=we(D_),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new F,this.afterTick=new F,this.componentTypes=[],this.components=[],this.isStable=we(Ul).hasPendingTasks.pipe(Le(e=>!e)),this._injector=we(pr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof v2;if(!this._injector.get(kV).done)throw!r&&function Na(n){const t=Jt(n)||nr(n)||xr(n);return null!==t&&t.standalone}(e),new J(405,!1);let s;s=r?e:this._injector.get(em).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function QX(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Ud),c=s.create(jn.NULL,[],i||s.selector,a),h=c.location.nativeElement,p=c.injector.get(RV,null);return p?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),Pw(this.components,c),p?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new J(101,!1);const e=ht(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ht(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(rw,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;0!==this.dirtyFlags&&i++<10;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)XX(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else e?.begin?.(),e?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:e})=>If(e))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Pw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(Rw,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Pw(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new J(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Pw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function XX(n,t,e,i){(e||If(n))&&Z0(n,t,e&&!i?0:1)}class JX{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let LV=(()=>{class n{compileModuleSync(e){return new LA(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=ys(kr(e).declarations).reduce((s,a)=>{const l=Jt(a);return l&&s.push(new P_(l)),s},[]);return new JX(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nJ=(()=>{class n{constructor(){this.zone=we(At),this.changeDetectionScheduler=we(Jf),this.applicationRef=we(_a)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function A1({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new At({...S1(),scheduleInRootZone:e}),[{provide:At,useFactory:n},{provide:Fs,multi:!0,useFactory:()=>{const i=we(nJ,{optional:!0});return()=>i.initialize()}},{provide:Fs,multi:!0,useFactory:()=>{const i=we(rJ);return()=>{i.initialize()}}},!0===t?{provide:_2,useValue:!0}:[],{provide:EA,useValue:e??A0}]}function S1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let rJ=(()=>{class n{constructor(){this.subscription=new ct,this.initialized=!1,this.zone=we(At),this.pendingTasks=we(Ul)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{At.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{At.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),J_=(()=>{class n{constructor(){this.appRef=we(_a),this.taskService=we(Ul),this.ngZone=we(At),this.zonelessEnabled=we(D_),this.disableScheduling=we(_2,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ct,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(D0):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(we(EA,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gT||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?sO:oO;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(D0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sO(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ql=new he("",{providedIn:"root",factory:()=>we(ql,ln.Optional|ln.SkipSelf)||function oJ(){return typeof $localize<"u"&&$localize.locale||Ew}()}),Ow=new he("");function Nw(n){return!n.moduleRef}let HV=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=i?.scheduleInRootZone,s=i?.ignoreChangesOutsideZone,a=[A1({ngZoneFactory:()=>function F$(n="zone.js",t){return"noop"===n?new gT:"zone.js"===n?new At(t):n}(i?.ngZone,{...S1({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}),scheduleInRootZone:r}),ignoreChangesOutsideZone:s}),{provide:Jf,useExisting:J_}],l=function GK(n,t,e){return new FA(n,t,e,!1)}(e.moduleType,this.injector,a);return function zV(n){const t=Nw(n)?n.r3Injector:n.moduleRef.injector,e=t.get(At);return e.run(()=>{Nw(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const i=t.get(_s,null);let r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:o=>{i.handleError(o)}})}),Nw(n)){const o=()=>t.destroy(),s=n.platformInjector.get(Ow);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{const o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ow);s.add(o),n.moduleRef.onDestroy(()=>{Pw(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return function ZX(n,t,e){try{const i=e();return X_(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(i,e,()=>{const o=t.get(kV);return o.runInitializers(),o.donePromise.then(()=>{if(function PY(n){"string"==typeof n&&(lL=n.toLowerCase().replace(/_/g,"-"))}(t.get(ql,Ew)||Ew),Nw(n)){const a=t.get(_a);return void 0!==n.rootComponent&&a.bootstrap(n.rootComponent),a}return function dJ(n,t){const e=n.injector.get(_a);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>e.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new J(-403,!1);n.instance.ngDoBootstrap(e)}t.push(n)}(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,i=[]){const r=NV({},i);return function tJ(n,t,e){const i=new LA(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Ow,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(G(jn))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),ou=null;const $V=new he("");function GV(n,t,e=[]){const i=`Platform: ${t}`,r=new he(i);return(o=[])=>{let s=M1();if(!s||s.injector.get($V,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function hJ(n){if(ou&&!ou.get($V,!1))throw new J(400,!1);(function OV(){!function un(n){yt=n}(()=>{throw new J(600,!1)})})(),ou=n;const t=n.get(HV);(function WV(n){n.get(RO,null)?.forEach(e=>e())})(n)}(function qV(n=[],t){return jn.create({name:t,providers:[{provide:bg,useValue:"platform"},{provide:Ow,useValue:new Set([()=>ou=null])},...n]})}(a,i))}return function fJ(){const t=M1();if(!t)throw new J(401,!1);return t}()}}function M1(){return ou?.get(HV)??null}let Wl=(()=>{class n{static{this.__NG_ELEMENT_ID__=pJ}}return n})();function pJ(n){return function gJ(n,t,e){if(la(n)&&!e){const i=Ao(n.index,t);return new w_(i,i)}return 175&n.type?new w_(t[fi],t):null}(On(),Ae(),!(16&~n))}class JV{constructor(){}supports(t){return dw(t)}create(t){return new wJ(t)}}const bJ=(n,t)=>t;class wJ{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bJ}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<t4(i,r,o)?e:i,a=t4(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,h=l-r;if(c!=h){for(let b=0;b<c;b++){const E=b<o.length?o[b]:o[b]=0,T=E+b;h<=T&&T<c&&(o[b]=E+1)}o[s.previousIndex]=h-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!dw(t))throw new J(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function KK(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new EJ(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new e4),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new e4),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class EJ{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IJ{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class e4{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new IJ,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function t4(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}function r4(){return new N1([new JV])}let N1=(()=>{class n{static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:r4})}constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||r4()),deps:[[n,new Pc,new hs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new J(901,!1)}}return n})();const SJ=GV(null,"core",[]);let DJ=(()=>{class n{constructor(e){}static{this.\u0275fac=function(i){return new(i||n)(G(_a))}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({})}}return n})();function Hs(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function iv(n,t){So("NgSignals");const e=function An(n){const t=Object.create(Ge);t.computation=n;const e=()=>{if(Pt(t),Ue(t),t.value===Te)throw t.error;return t.value};return e[In]=t,e}(n);return t?.equal&&(e[In].equal=t.equal),e}function va(n){const t=ht(null);try{return n()}finally{ht(t)}}let D4=null;function su(){return D4}class fee{}const _n=new he("");let V1=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:()=>we(pee),providedIn:"platform"})}}return n})();const mee=new he("");let pee=(()=>{class n extends V1{constructor(){super(),this._doc=we(_n),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return su().getBaseHref(this._doc)}onPopState(e){const i=su().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=su().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function U1(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function M4(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Kl(n){return n&&"?"!==n[0]?"?"+n:n}let Wd=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:()=>we(P4),providedIn:"root"})}}return n})();const R4=new he("");let P4=(()=>{class n extends Wd{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??we(_n).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return U1(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Kl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Kl(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Kl(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(G(V1),G(R4,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gee=(()=>{class n extends Wd{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=U1(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Kl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Kl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(G(V1),G(R4,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),Kd=(()=>{class n{constructor(e){this._subject=new Qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function yee(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(M4(k4(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Kl(i))}normalize(e){return n.stripTrailingSlash(function vee(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,k4(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Kl(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Kl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=Kl}static{this.joinWithSlash=U1}static{this.stripTrailingSlash=M4}static{this.\u0275fac=function(i){return new(i||n)(G(Wd))}}static{this.\u0275prov=Pe({token:n,factory:()=>function _ee(){return new Kd(G(Wd))}(),providedIn:"root"})}}return n})();function k4(n){return n.replace(/\/index.html$/,"")}var Ro=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ro||{}),ii=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ii||{}),Es=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Es||{});const vr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qw(n,t){return Gs(Do(n)[mi.DateFormat],t)}function Ww(n,t){return Gs(Do(n)[mi.TimeFormat],t)}function Kw(n,t){return Gs(Do(n)[mi.DateTimeFormat],t)}function $s(n,t){const e=Do(n),i=e[mi.NumberSymbols][t];if(typeof i>"u"){if(t===vr.CurrencyDecimal)return e[mi.NumberSymbols][vr.Decimal];if(t===vr.CurrencyGroup)return e[mi.NumberSymbols][vr.Group]}return i}function N4(n){if(!n[mi.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[mi.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Gs(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function j1(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const kee=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qw={},Oee=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ql=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Ql||{}),Vn=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Vn||{}),Un=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Un||{});function Nee(n,t,e,i){let r=function $ee(n){if(V4(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Yw(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(kee))return function Gee(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(n);if(!V4(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Yl(e,t)||t;let a,s=[];for(;t;){if(a=Oee.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const h=s.pop();if(!h)break;t=h}}let l=r.getTimezoneOffset();i&&(l=L4(i,l),r=function Hee(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function zee(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(L4(t,r)-r))}(r,i,!0));let c="";return s.forEach(h=>{const p=function jee(n){if(H1[n])return H1[n];let t;switch(n){case"G":case"GG":case"GGG":t=gi(Un.Eras,ii.Abbreviated);break;case"GGGG":t=gi(Un.Eras,ii.Wide);break;case"GGGGG":t=gi(Un.Eras,ii.Narrow);break;case"y":t=yr(Vn.FullYear,1,0,!1,!0);break;case"yy":t=yr(Vn.FullYear,2,0,!0,!0);break;case"yyy":t=yr(Vn.FullYear,3,0,!1,!0);break;case"yyyy":t=yr(Vn.FullYear,4,0,!1,!0);break;case"Y":t=eE(1);break;case"YY":t=eE(2,!0);break;case"YYY":t=eE(3);break;case"YYYY":t=eE(4);break;case"M":case"L":t=yr(Vn.Month,1,1);break;case"MM":case"LL":t=yr(Vn.Month,2,1);break;case"MMM":t=gi(Un.Months,ii.Abbreviated);break;case"MMMM":t=gi(Un.Months,ii.Wide);break;case"MMMMM":t=gi(Un.Months,ii.Narrow);break;case"LLL":t=gi(Un.Months,ii.Abbreviated,Ro.Standalone);break;case"LLLL":t=gi(Un.Months,ii.Wide,Ro.Standalone);break;case"LLLLL":t=gi(Un.Months,ii.Narrow,Ro.Standalone);break;case"w":t=z1(1);break;case"ww":t=z1(2);break;case"W":t=z1(1,!0);break;case"d":t=yr(Vn.Date,1);break;case"dd":t=yr(Vn.Date,2);break;case"c":case"cc":t=yr(Vn.Day,1);break;case"ccc":t=gi(Un.Days,ii.Abbreviated,Ro.Standalone);break;case"cccc":t=gi(Un.Days,ii.Wide,Ro.Standalone);break;case"ccccc":t=gi(Un.Days,ii.Narrow,Ro.Standalone);break;case"cccccc":t=gi(Un.Days,ii.Short,Ro.Standalone);break;case"E":case"EE":case"EEE":t=gi(Un.Days,ii.Abbreviated);break;case"EEEE":t=gi(Un.Days,ii.Wide);break;case"EEEEE":t=gi(Un.Days,ii.Narrow);break;case"EEEEEE":t=gi(Un.Days,ii.Short);break;case"a":case"aa":case"aaa":t=gi(Un.DayPeriods,ii.Abbreviated);break;case"aaaa":t=gi(Un.DayPeriods,ii.Wide);break;case"aaaaa":t=gi(Un.DayPeriods,ii.Narrow);break;case"b":case"bb":case"bbb":t=gi(Un.DayPeriods,ii.Abbreviated,Ro.Standalone,!0);break;case"bbbb":t=gi(Un.DayPeriods,ii.Wide,Ro.Standalone,!0);break;case"bbbbb":t=gi(Un.DayPeriods,ii.Narrow,Ro.Standalone,!0);break;case"B":case"BB":case"BBB":t=gi(Un.DayPeriods,ii.Abbreviated,Ro.Format,!0);break;case"BBBB":t=gi(Un.DayPeriods,ii.Wide,Ro.Format,!0);break;case"BBBBB":t=gi(Un.DayPeriods,ii.Narrow,Ro.Format,!0);break;case"h":t=yr(Vn.Hours,1,-12);break;case"hh":t=yr(Vn.Hours,2,-12);break;case"H":t=yr(Vn.Hours,1);break;case"HH":t=yr(Vn.Hours,2);break;case"m":t=yr(Vn.Minutes,1);break;case"mm":t=yr(Vn.Minutes,2);break;case"s":t=yr(Vn.Seconds,1);break;case"ss":t=yr(Vn.Seconds,2);break;case"S":t=yr(Vn.FractionalSeconds,1);break;case"SS":t=yr(Vn.FractionalSeconds,2);break;case"SSS":t=yr(Vn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Xw(Ql.Short);break;case"ZZZZZ":t=Xw(Ql.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Xw(Ql.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Xw(Ql.Long);break;default:return null}return H1[n]=t,t}(h);c+=p?p(r,e,l):"''"===h?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Yw(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Yl(n,t){const e=function wee(n){return Do(n)[mi.LocaleId]}(n);if(Qw[e]??={},Qw[e][t])return Qw[e][t];let i="";switch(t){case"shortDate":i=qw(n,Es.Short);break;case"mediumDate":i=qw(n,Es.Medium);break;case"longDate":i=qw(n,Es.Long);break;case"fullDate":i=qw(n,Es.Full);break;case"shortTime":i=Ww(n,Es.Short);break;case"mediumTime":i=Ww(n,Es.Medium);break;case"longTime":i=Ww(n,Es.Long);break;case"fullTime":i=Ww(n,Es.Full);break;case"short":const r=Yl(n,"shortTime"),o=Yl(n,"shortDate");i=Zw(Kw(n,Es.Short),[r,o]);break;case"medium":const s=Yl(n,"mediumTime"),a=Yl(n,"mediumDate");i=Zw(Kw(n,Es.Medium),[s,a]);break;case"long":const l=Yl(n,"longTime"),c=Yl(n,"longDate");i=Zw(Kw(n,Es.Long),[l,c]);break;case"full":const h=Yl(n,"fullTime"),p=Yl(n,"fullDate");i=Zw(Kw(n,Es.Full),[h,p])}return i&&(Qw[e][t]=i),i}function Zw(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ya(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function yr(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function Lee(n,t){switch(n){case Vn.FullYear:return t.getFullYear();case Vn.Month:return t.getMonth();case Vn.Date:return t.getDate();case Vn.Hours:return t.getHours();case Vn.Minutes:return t.getMinutes();case Vn.Seconds:return t.getSeconds();case Vn.FractionalSeconds:return t.getMilliseconds();case Vn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===Vn.Hours)0===a&&-12===e&&(a=12);else if(n===Vn.FractionalSeconds)return function Fee(n,t){return ya(n,3).substring(0,t)}(a,t);const l=$s(s,vr.MinusSign);return ya(a,t,l,i,r)}}function gi(n,t,e=Ro.Format,i=!1){return function(r,o){return function Vee(n,t,e,i,r,o){switch(e){case Un.Months:return function xee(n,t,e){const i=Do(n),o=Gs([i[mi.MonthsFormat],i[mi.MonthsStandalone]],t);return Gs(o,e)}(t,r,i)[n.getMonth()];case Un.Days:return function Iee(n,t,e){const i=Do(n),o=Gs([i[mi.DaysFormat],i[mi.DaysStandalone]],t);return Gs(o,e)}(t,r,i)[n.getDay()];case Un.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function See(n){const t=Do(n);return N4(t),(t[mi.ExtraData][2]||[]).map(i=>"string"==typeof i?j1(i):[j1(i[0]),j1(i[1])])}(t),h=function Dee(n,t,e){const i=Do(n);N4(i);const o=Gs([i[mi.ExtraData][0],i[mi.ExtraData][1]],t)||[];return Gs(o,e)||[]}(t,r,i),p=c.findIndex(b=>{if(Array.isArray(b)){const[E,T]=b,R=s>=E.hours&&a>=E.minutes,P=s<T.hours||s===T.hours&&a<T.minutes;if(E.hours<T.hours){if(R&&P)return!0}else if(R||P)return!0}else if(b.hours===s&&b.minutes===a)return!0;return!1});if(-1!==p)return h[p]}return function Eee(n,t,e){const i=Do(n),o=Gs([i[mi.DayPeriodsFormat],i[mi.DayPeriodsStandalone]],t);return Gs(o,e)}(t,r,i)[s<12?0:1];case Un.Eras:return function Cee(n,t){return Gs(Do(n)[mi.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Xw(n){return function(t,e,i){const r=-1*i,o=$s(e,vr.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ql.Short:return(r>=0?"+":"")+ya(s,2,o)+ya(Math.abs(r%60),2,o);case Ql.ShortGMT:return"GMT"+(r>=0?"+":"")+ya(s,1,o);case Ql.Long:return"GMT"+(r>=0?"+":"")+ya(s,2,o)+":"+ya(Math.abs(r%60),2,o);case Ql.Extended:return 0===i?"Z":(r>=0?"+":"")+ya(s,2,o)+":"+ya(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Uee=0,Jw=4;function F4(n){const t=n.getDay(),e=0===t?-3:Jw-t;return Yw(n.getFullYear(),n.getMonth(),n.getDate()+e)}function z1(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=F4(e),s=function Bee(n){const t=Yw(n,Uee,1).getDay();return Yw(n,0,1+(t<=Jw?Jw:Jw+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return ya(r,n,$s(i,vr.MinusSign))}}function eE(n,t=!1){return function(e,i){return ya(F4(e).getFullYear(),n,$s(i,vr.MinusSign),t)}}const H1={};function L4(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function V4(n){return n instanceof Date&&!isNaN(n.valueOf())}function z4(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const Q1=/\s+/,H4=[];let au=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=H4,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Q1):H4}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Q1):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Q1).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(z(Qn),z(zl))}}static{this.\u0275dir=at({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class rte{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Is=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new rte(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),G4(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{G4(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(z(js),z(qa),z(N1))}}static{this.\u0275dir=at({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function G4(n,t){n.context.$implicit=t.item}let Ii=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new ote,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){q4("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){q4("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(z(js),z(qa))}}static{this.\u0275dir=at({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class ote{constructor(){this.$implicit=null,this.ngIf=null}}function q4(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ft(t)}'.`)}class Y1{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ov=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=at({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),Z1=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Y1(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||n)(z(js),z(qa),z(ov,9))}}static{this.\u0275dir=at({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})();function ba(n,t){return new J(2100,!1)}class cte{createSubscription(t,e){return va(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){va(()=>t.unsubscribe())}}class ute{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const dte=new ute,hte=new cte;let os=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(X_(e))return dte;if(PV(e))return hte;throw ba()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(z(Wl,16))}}static{this.\u0275pipe=qi({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const mte=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Q4=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw ba();return e.replace(mte,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=qi({name:"titlecase",type:n,pure:!0,standalone:!0})}}return n})();const _te=new he(""),vte=new he("");let sv=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return Nee(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw ba()}}static{this.\u0275fac=function(i){return new(i||n)(z(ql,16),z(_te,24),z(vte,24))}}static{this.\u0275pipe=qi({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),X1=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=qi({name:"json",type:n,pure:!1,standalone:!0})}}return n})(),av=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({})}}return n})();const Z4="browser";function X4(n){return n===Z4}function nE(n){return"server"===n}let Ste=(()=>{class n{static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>X4(we(es))?new Dte(we(_n),window):new Rte})}}return n})();class Dte{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function Mte(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class Rte{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class J4{}class one extends fee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rS extends one{static makeCurrent(){!function hee(n){D4??=n}(new rS)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function sne(){return uv=uv||document.querySelector("base"),uv?uv.getAttribute("href"):null}();return null==e?null:function ane(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){uv=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return z4(document.cookie,t)}}let uv=null,cne=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();const oS=new he("");let d3=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new J(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(G(oS),G(At))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();class h3{constructor(t){this._doc=t}}const sS="ng-app-id";let f3=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nE(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${sS}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(sS),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(sS,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(G(_n),G($f),G(ET,8),G(es))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();const aS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lS=/%COMP%/g,fne=new he("",{providedIn:"root",factory:()=>!0});function p3(n,t){return t.map(e=>e.replace(lS,n))}let cS=(()=>{class n{constructor(e,i,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=nE(a),this.defaultRenderer=new uS(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===xo.ShadowDom&&(i={...i,encapsulation:xo.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof _3?r.applyToHost(e):r instanceof dS&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case xo.Emulated:o=new _3(l,c,i,this.appId,h,s,a,p);break;case xo.ShadowDom:return new _ne(l,c,e,i,s,a,this.nonce,p);default:o=new dS(l,c,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(G(d3),G(f3),G($f),G(fne),G(_n),G(es),G(At),G(ET))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();class uS{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(aS[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(g3(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(g3(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new J(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=aS[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=aS[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Xc.DashCase|Xc.Important)?t.style.setProperty(e,i,r&Xc.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Xc.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){null!=t&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=su().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function g3(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _ne extends uS{constructor(t,e,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=p3(r.id,r.styles);for(const h of c){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dS extends uS{constructor(t,e,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?p3(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class _3 extends dS{constructor(t,e,i,r,o,s,a,l){const c=r+"-"+i.id;super(t,e,i,o,s,a,l,c),this.contentAttr=function mne(n){return"_ngcontent-%COMP%".replace(lS,n)}(c),this.hostAttr=function pne(n){return"_nghost-%COMP%".replace(lS,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let vne=(()=>{class n extends h3{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(G(_n))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();const v3=["alt","control","meta","shift"],yne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bne={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wne=(()=>{class n extends h3{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>su().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),v3.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=yne[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),v3.forEach(s=>{s!==r&&(0,bne[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(G(_n))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();const Cne=GV(SJ,"browser",[{provide:es,useValue:Z4},{provide:RO,useValue:function Ene(){rS.makeCurrent()},multi:!0},{provide:_n,useFactory:function xne(){return function oG(n){wT=n}(document),document},deps:[]}]),Tne=new he(""),w3=[{provide:Mw,useClass:class lne{addToWindow(t){lt.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new J(5103,!1);return o},lt.getAllAngularTestabilities=()=>t.getAllTestabilities(),lt.getAllAngularRootElements=()=>t.getAllRootElements(),lt.frameworkStabilizers||(lt.frameworkStabilizers=[]),lt.frameworkStabilizers.push(i=>{const r=lt.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?su().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:RV,useClass:I1,deps:[At,x1,Mw]},{provide:I1,useClass:I1,deps:[At,x1,Mw]}],E3=[{provide:bg,useValue:"root"},{provide:_s,useFactory:function Ine(){return new _s},deps:[]},{provide:oS,useClass:vne,multi:!0,deps:[_n,At,es]},{provide:oS,useClass:wne,multi:!0,deps:[_n]},cS,f3,d3,{provide:rw,useExisting:cS},{provide:J4,useClass:cne,deps:[]},[]];let I3=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:$f,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(G(Tne,12))}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({providers:[...E3,...w3],imports:[av,DJ]})}}return n})(),Ane=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(G(_n))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:function(i){let r=null;return r=i?new(i||n):G(Rne),r},providedIn:"root"})}}return n})(),Rne=(()=>{class n extends hS{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Wr.NONE:return i;case Wr.HTML:return $a(i,"HTML")?vs(i):eN(this._doc,String(i)).toString();case Wr.STYLE:return $a(i,"Style")?vs(i):i;case Wr.SCRIPT:if($a(i,"Script"))return vs(i);throw new J(5200,!1);case Wr.URL:return $a(i,"URL")?vs(i):B0(String(i));case Wr.RESOURCE_URL:if($a(i,"ResourceURL"))return vs(i);throw new J(5201,!1);default:throw new J(5202,!1)}}bypassSecurityTrustHtml(e){return function TG(n){return new bG(n)}(e)}bypassSecurityTrustStyle(e){return function AG(n){return new wG(n)}(e)}bypassSecurityTrustScript(e){return function SG(n){return new EG(n)}(e)}bypassSecurityTrustUrl(e){return function DG(n){return new IG(n)}(e)}bypassSecurityTrustResourceUrl(e){return function MG(n){return new xG(n)}(e)}static{this.\u0275fac=function(i){return new(i||n)(G(_n))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ht=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ht||{});const Zl="*";function Cm(n,t){return{type:Ht.Trigger,name:n,definitions:t,options:{}}}function lu(n,t=null){return{type:Ht.Animate,styles:t,timings:n}}function T3(n,t=null){return{type:Ht.Group,steps:n,options:t}}function xs(n){return{type:Ht.Style,styles:n,offset:null}}function cu(n,t,e){return{type:Ht.State,name:n,styles:t,options:e}}function Xl(n,t,e=null){return{type:Ht.Transition,expr:n,animation:t,options:e}}function fS(n=null){return{type:Ht.AnimateChild,options:n}}function mS(n,t,e=null){return{type:Ht.Query,selector:n,animation:t,options:e}}class dv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class A3{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function S3(n){return new J(3e3,!1)}function uu(n){switch(n.length){case 0:return new dv;case 1:return n[0];default:return new A3(n)}}function D3(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),h=c==s,p=h&&a||new Map;l.forEach((b,E)=>{let T=E,R=b;if("offset"!==E)switch(T=n.normalizePropertyName(T,r),R){case"!":R=e.get(E);break;case Zl:R=i.get(E);break;default:R=n.normalizeStyleValue(E,T,R,r)}p.set(T,R)}),h||o.push(p),a=p,s=c}),r.length)throw function oie(){return new J(3502,!1)}();return o}function gS(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&_S(e,"start",n)));break;case"done":n.onDone(()=>i(e&&_S(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&_S(e,"destroy",n)))}}function _S(n,t,e){const o=vS(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function vS(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Cs(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function M3(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const _ie=typeof document>"u"?null:document.documentElement;function yS(n){const t=n.parentNode||n.host||null;return t===_ie?null:t}let Yd=null,R3=!1;function P3(n,t){for(;t;){if(t===n)return!0;t=yS(t)}return!1}function k3(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let bS=(()=>{class n{validateStyleProperty(e){return function yie(n){Yd||(Yd=function bie(){return typeof document<"u"?document.body:null}()||{},R3=!!Yd.style&&"WebkitAppearance"in Yd.style);let t=!0;return Yd.style&&!function vie(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Yd.style,!t&&R3&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Yd.style)),t}(e)}containsElement(e,i){return P3(e,i)}getParentElement(e){return yS(e)}query(e,i,r){return k3(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new dv(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();class wS{static{this.NOOP=new bS}}class ES{}const Eie=1e3,IS="ng-enter",aE="ng-leave",lE="ng-trigger",cE=".ng-trigger",N3="ng-animating",xS=".ng-animating";function Jl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:CS(parseFloat(t[1]),t[2])}function CS(n,t){return"s"===t?n*Eie:n}function uE(n,t,e){return n.hasOwnProperty("duration")?n:function xie(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(S3()),{duration:0,delay:0,easing:""};r=CS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=CS(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function Lne(){return new J(3100,!1)}()),a=!0),o<0&&(t.push(function Vne(){return new J(3101,!1)}()),a=!0),a&&t.splice(l,0,S3())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Ya(n,t,e){t.forEach((i,r)=>{const o=AS(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function Zd(n,t){t.forEach((e,i)=>{const r=AS(i);n.style[r]=""})}function hv(n){return Array.isArray(n)?1==n.length?n[0]:function Pne(n,t=null){return{type:Ht.Sequence,steps:n,options:t}}(n):n}const TS=new RegExp("{{\\s*(.+?)\\s*}}","g");function L3(n){let t=[];if("string"==typeof n){let e;for(;e=TS.exec(n);)t.push(e[1]);TS.lastIndex=0}return t}function fv(n,t,e){const i=`${n}`,r=i.replace(TS,(o,s)=>{let a=t[s];return null==a&&(e.push(function Bne(){return new J(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const Aie=/-+([a-z0-9])/g;function AS(n){return n.replace(Aie,(...t)=>t[1].toUpperCase())}function Ts(n,t,e){switch(t.type){case Ht.Trigger:return n.visitTrigger(t,e);case Ht.State:return n.visitState(t,e);case Ht.Transition:return n.visitTransition(t,e);case Ht.Sequence:return n.visitSequence(t,e);case Ht.Group:return n.visitGroup(t,e);case Ht.Animate:return n.visitAnimate(t,e);case Ht.Keyframes:return n.visitKeyframes(t,e);case Ht.Style:return n.visitStyle(t,e);case Ht.Reference:return n.visitReference(t,e);case Ht.AnimateChild:return n.visitAnimateChild(t,e);case Ht.AnimateRef:return n.visitAnimateRef(t,e);case Ht.Query:return n.visitQuery(t,e);case Ht.Stagger:return n.visitStagger(t,e);default:throw function jne(){return new J(3004,!1)}()}}function SS(n,t){return window.getComputedStyle(n)[t]}const Mie=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class V3 extends ES{normalizePropertyName(t,e){return AS(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(Mie.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function zne(){return new J(3005,!1)}())}return s+o}}const dE="*";const hE=new Set(["true","1"]),fE=new Set(["false","0"]);function U3(n,t){const e=hE.has(n)||fE.has(n),i=hE.has(t)||fE.has(t);return(r,o)=>{let s=n==dE||n==r,a=t==dE||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?hE.has(n):fE.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?hE.has(t):fE.has(t)),s&&a}}const Oie=new RegExp("s*:selfs*,?","g");function DS(n,t,e,i){return new Nie(n).build(t,e,i)}class Nie{constructor(t){this._driver=t}build(t,e,i){const r=new Vie(e);return this._resetContextStyleTimingState(r),Ts(this,hv(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function Hne(){return new J(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Ht.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==Ht.Transition){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function $ne(){return new J(3007,!1)}())}),{type:Ht.Trigger,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{L3(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(function Gne(){return new J(3008,!1)}(0,o.values()))}return{type:Ht.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ts(this,hv(t.animation),e),r=function Rie(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Pie(n,t,e){if(":"==n[0]){const l=function kie(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function tie(){return new J(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function eie(){return new J(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(U3(r,s)),"<"==o[0]&&(r!=dE||s!=dE)&&t.push(U3(s,r))}(i,e,t)):e.push(n),e}(t.expr,e.errors);return{type:Ht.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Xd(t.options)}}visitSequence(t,e){return{type:Ht.Sequence,steps:t.steps.map(i=>Ts(this,i,e)),options:Xd(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=Ts(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:Ht.Group,steps:o,options:Xd(t.options)}}visitAnimate(t,e){const i=function Bie(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return MS(uE(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=MS(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=uE(e,t);return MS(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:xs({});if(o.type==Ht.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=xs(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:Ht.Animate,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Zl?i.push(a):e.errors.push(new J(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:Ht.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),h=c.get(l);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(e.errors.push(function Wne(){return new J(3010,!1)}()),p=!1),o=h.startTime),p&&c.set(l,{startTime:o,endTime:r}),e.options&&function Tie(n,t,e){const i=t.params||{},r=L3(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Une(){return new J(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:Ht.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Kne(){return new J(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const h=t.steps.map(H=>{const B=this._makeStyleAst(H,e);let Q=null!=B.offset?B.offset:function Uie(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(B.styles),ge=0;return null!=Q&&(o++,ge=B.offset=Q),l=l||ge<0||ge>1,a=a||ge<c,c=ge,s.push(ge),B});l&&e.errors.push(function Qne(){return new J(3012,!1)}()),a&&e.errors.push(function Yne(){return new J(3200,!1)}());const p=t.steps.length;let b=0;o>0&&o<p?e.errors.push(function Zne(){return new J(3202,!1)}()):0==o&&(b=1/(p-1));const E=p-1,T=e.currentTime,R=e.currentAnimateTimings,P=R.duration;return h.forEach((H,B)=>{const Q=b>0?B==E?1:b*B:s[B],ge=Q*P;e.currentTime=T+R.delay+ge,R.duration=ge,this._validateStyleAst(H,e),H.offset=Q,i.styles.push(H)}),i}visitReference(t,e){return{type:Ht.Reference,animation:Ts(this,hv(t.animation),e),options:Xd(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Ht.AnimateChild,options:Xd(t.options)}}visitAnimateRef(t,e){return{type:Ht.AnimateRef,animation:this.visitReference(t.animation,e),options:Xd(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function Fie(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Oie,"")),n=n.replace(/@\*/g,cE).replace(/@\w+/g,e=>cE+"-"+e.slice(1)).replace(/:animating/g,xS),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Cs(e.collectedStyles,e.currentQuerySelector,new Map);const a=Ts(this,hv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Ht.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Xd(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Xne(){return new J(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:uE(t.timings,e.errors,!0);return{type:Ht.Stagger,animation:Ts(this,hv(t.animation),e),timings:i,options:null}}}class Vie{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xd(n){return n?(n={...n}).params&&(n.params=function Lie(n){return n?{...n}:null}(n.params)):n={},n}function MS(n,t,e){return{duration:n,delay:t,easing:e}}function RS(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class mE{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Hie=new RegExp(":enter","g"),Gie=new RegExp(":leave","g");function PS(n,t,e,i,r,o=new Map,s=new Map,a,l,c=[]){return(new qie).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class qie{buildKeyframes(t,e,i,r,o,s,a,l,c,h=[]){c=c||new mE;const p=new kS(t,e,c,r,o,h,[]);p.options=l;const b=l.delay?Jl(l.delay):0;p.currentTimeline.delayNextStep(b),p.currentTimeline.setStyles([s],null,p.errors,l),Ts(this,i,p);const E=p.timelines.filter(T=>T.containsAnimation());if(E.length&&a.size){let T;for(let R=E.length-1;R>=0;R--){const P=E[R];if(P.element===e){T=P;break}}T&&!T.allowOnlyTimelineStyles()&&T.setStyles([a],null,p.errors,l)}return E.length?E.map(T=>T.buildKeyframes()):[RS(e,[],[],[],0,b,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Jl(fv(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Jl(i.duration):null,a=null!=i.delay?Jl(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ts(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Ht.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=pE);const s=Jl(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Ts(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Jl(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Ts(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return uE(e.params?fv(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;o.type==Ht.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Jl(r.delay):0;o&&(e.previousNode.type===Ht.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=pE);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{e.currentQueryIndex=h;const p=e.createSubContext(t.options,c);o&&p.delayNextStep(o),c===e.element&&(l=p.currentTimeline),Ts(this,t.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const h=e.currentTimeline;l&&h.delayNextStep(l);const p=h.currentTime;Ts(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const pE={};class kS{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new gE(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Jl(i.duration)),null!=i.delay&&(r.delay=Jl(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=fv(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new kS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=pE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Wie(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Hie,"."+this._enterClassName)).replace(Gie,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function Jne(){return new J(3014,!1)}()),a}}class gE{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new gE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Zl),this._currentKeyframe.set(e,Zl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function Kie(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i??=t.keys();for(let o of i)e.set(o,Zl)}else for(let[o,s]of r)e.set(o,s)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=fv(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Zl),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((h,p)=>{"!"===h?t.add(p):h===Zl&&e.add(p)}),i||c.set("offset",l/this.duration),r.push(c)});const o=[...t.values()],s=[...e.values()];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return RS(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Wie extends gE{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);const c=new Map(t[0]);c.set("offset",z3(a)),o.push(c);const h=t.length-1;for(let p=1;p<=h;p++){let b=new Map(t[p]);const E=b.get("offset");b.set("offset",z3((e+E*i)/s)),o.push(b)}i=s,e=0,r="",t=o}return RS(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function z3(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}function H3(n,t,e,i,r,o,s,a,l,c,h,p,b){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:p,errors:b}}const OS={};class $3{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Qie(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,c,h){const p=[],b=this.ast.options&&this.ast.options.params||OS,T=this.buildStyles(i,a&&a.params||OS,p),R=l&&l.params||OS,P=this.buildStyles(r,R,p),H=new Set,B=new Map,Q=new Map,ge="void"===r,ze={params:G3(R,b),delay:this.ast.options?.delay},We=h?[]:PS(t,e,this.ast.animation,o,s,T,P,ze,c,p);let $=0;return We.forEach(V=>{$=Math.max(V.duration+V.delay,$)}),p.length?H3(e,this._triggerName,i,r,ge,T,P,[],[],B,Q,$,p):(We.forEach(V=>{const q=V.element,X=Cs(B,q,new Set);V.preStyleProps.forEach(ce=>X.add(ce));const ne=Cs(Q,q,new Set);V.postStyleProps.forEach(ce=>ne.add(ce)),q!==e&&H.add(q)}),H3(e,this._triggerName,i,r,ge,T,P,We,[...H.values()],B,Q,$))}}function G3(n,t){const e={...t};return Object.entries(n).forEach(([i,r])=>{null!=r&&(e[i]=r)}),e}class Yie{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=G3(t,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=fv(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}}class Xie{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Yie(r.style,r.options&&r.options.params||{},i))}),q3(this.states,"true","1"),q3(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new $3(t,r,this.states))}),this.fallbackTransition=function Jie(n,t){return new $3(n,{type:Ht.Transition,animation:{type:Ht.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function q3(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const ere=new mE;class tre{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=DS(this._driver,e,i,[]);if(i.length)throw function sie(){return new J(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=D3(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=PS(this._driver,e,o,IS,aE,new Map,new Map,i,ere,r),s.forEach(h=>{const p=Cs(a,h.element,new Map);h.postStyleProps.forEach(b=>p.set(b,null))})):(r.push(function aie(){return new J(3300,!1)}()),s=[]),r.length)throw function lie(){return new J(3504,!1)}();a.forEach((h,p)=>{h.forEach((b,E)=>{h.set(E,this._driver.computeStyle(p,E,Zl))})});const c=uu(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function cie(){return new J(3301,!1)}();return e}listen(t,e,i,r){const o=vS(e,"","","");return gS(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const W3="ng-animate-queued",NS="ng-animate-disabled",sre=[],K3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},are={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wa="__ng_removed";class FS{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function dre(n){return n??null}(i?t.value:t),i){const{value:o,...s}=t;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const mv="void",LS=new FS(mv);class lre{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,qs(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function uie(){return new J(3302,!1)}();if(null==i||0==i.length)throw function die(){return new J(3303,!1)}();if(!function hre(n){return"start"==n||"done"==n}(i))throw function hie(){return new J(3400,!1)}();const o=Cs(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=Cs(this._engine.statesByElement,t,new Map);return a.has(e)||(qs(t,lE),qs(t,lE+"-"+e),a.set(e,LS)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function fie(){return new J(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new VS(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(qs(t,lE),qs(t,lE+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new FS(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=LS),c.value!==mv&&l.value===c.value){if(!function pre(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const R=[],P=o.matchStyles(l.value,l.params,R),H=o.matchStyles(c.value,c.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{Zd(t,P),Ya(t,H)})}return}const b=Cs(this._engine.playersByElement,t,[]);b.forEach(R=>{R.namespaceId==this.id&&R.triggerName==e&&R.queued&&R.destroy()});let E=o.matchTransition(l.value,c.value,t,c.params),T=!1;if(!E){if(!r)return;E=o.fallbackTransition,T=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:E,fromState:l,toState:c,player:s,isFallbackTransition:T}),T||(qs(t,W3),s.onStart(()=>{Tm(t,W3)})),s.onDone(()=>{let R=this.players.indexOf(s);R>=0&&this.players.splice(R,1);const P=this._engine.playersByElement.get(t);if(P){let H=P.indexOf(s);H>=0&&P.splice(H,1)}}),this.players.push(s),b.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,cE,!0);i.forEach(r=>{if(r[wa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const h=this.trigger(t,c,mv,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&uu(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||LS,h=new FS(mv),p=new VS(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[wa];(!o||o===K3)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){qs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=vS(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,gS(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class cre{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new lre(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(_E(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!_E(e))return;const o=e[wa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),qs(t,NS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Tm(t,NS))}removeNode(t,e,i){if(_E(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[wa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return _E(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,cE,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,xS,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return uu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[wa];if(e&&e.setForRemoval){if(t[wa]=K3,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(NS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)qs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?uu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function mie(){return new J(3402,!1)}()}_flushAnimations(t,e){const i=new mE,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(mt=>{h.add(mt);const xt=this.driver.query(mt,".ng-animate-queued",!0);for(let Rt=0;Rt<xt.length;Rt++)h.add(xt[Rt])});const p=this.bodyNode,b=Array.from(this.statesByElement.keys()),E=Z3(b,this.collectedEnterElements),T=new Map;let R=0;E.forEach((mt,xt)=>{const Rt=IS+R++;T.set(xt,Rt),mt.forEach(yn=>qs(yn,Rt))});const P=[],H=new Set,B=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const xt=this.collectedLeaveElements[mt],Rt=xt[wa];Rt&&Rt.setForRemoval&&(P.push(xt),H.add(xt),Rt.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(yn=>H.add(yn)):B.add(xt))}const Q=new Map,ge=Z3(b,Array.from(H));ge.forEach((mt,xt)=>{const Rt=aE+R++;Q.set(xt,Rt),mt.forEach(yn=>qs(yn,Rt))}),t.push(()=>{E.forEach((mt,xt)=>{const Rt=T.get(xt);mt.forEach(yn=>Tm(yn,Rt))}),ge.forEach((mt,xt)=>{const Rt=Q.get(xt);mt.forEach(yn=>Tm(yn,Rt))}),P.forEach(mt=>{this.processLeaveNode(mt)})});const ze=[],We=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(e).forEach(Rt=>{const yn=Rt.player,fr=Rt.element;if(ze.push(yn),this.collectedEnterElements.length){const Xi=fr[wa];if(Xi&&Xi.setForMove){if(Xi.previousTriggersValues&&Xi.previousTriggersValues.has(Rt.triggerName)){const yc=Xi.previousTriggersValues.get(Rt.triggerName),ls=this.statesByElement.get(Rt.element);if(ls&&ls.has(Rt.triggerName)){const bc=ls.get(Rt.triggerName);bc.value=yc,ls.set(Rt.triggerName,bc)}}return void yn.destroy()}}const ta=!p||!this.driver.containsElement(p,fr),Zi=Q.get(fr),Di=T.get(fr),Mi=this._buildInstruction(Rt,i,Di,Zi,ta);if(Mi.errors&&Mi.errors.length)return void We.push(Mi);if(ta)return yn.onStart(()=>Zd(fr,Mi.fromStyles)),yn.onDestroy(()=>Ya(fr,Mi.toStyles)),void r.push(yn);if(Rt.isFallbackTransition)return yn.onStart(()=>Zd(fr,Mi.fromStyles)),yn.onDestroy(()=>Ya(fr,Mi.toStyles)),void r.push(yn);const qu=[];Mi.timelines.forEach(Xi=>{Xi.stretchStartingKeyframe=!0,this.disabledNodes.has(Xi.element)||qu.push(Xi)}),Mi.timelines=qu,i.append(fr,Mi.timelines),s.push({instruction:Mi,player:yn,element:fr}),Mi.queriedElements.forEach(Xi=>Cs(a,Xi,[]).push(yn)),Mi.preStyleProps.forEach((Xi,yc)=>{if(Xi.size){let ls=l.get(yc);ls||l.set(yc,ls=new Set),Xi.forEach((bc,Wu)=>ls.add(Wu))}}),Mi.postStyleProps.forEach((Xi,yc)=>{let ls=c.get(yc);ls||c.set(yc,ls=new Set),Xi.forEach((bc,Wu)=>ls.add(Wu))})});if(We.length){const mt=[];We.forEach(xt=>{mt.push(function pie(){return new J(3505,!1)}())}),ze.forEach(xt=>xt.destroy()),this.reportError(mt)}const $=new Map,V=new Map;s.forEach(mt=>{const xt=mt.element;i.has(xt)&&(V.set(xt,xt),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,$))}),r.forEach(mt=>{const xt=mt.element;this._getPreviousPlayers(xt,!1,mt.namespaceId,mt.triggerName,null).forEach(yn=>{Cs($,xt,[]).push(yn),yn.destroy()})});const q=P.filter(mt=>J3(mt,l,c)),X=new Map;Y3(X,this.driver,B,c,Zl).forEach(mt=>{J3(mt,l,c)&&q.push(mt)});const ce=new Map;E.forEach((mt,xt)=>{Y3(ce,this.driver,new Set(mt),l,"!")}),q.forEach(mt=>{const xt=X.get(mt),Rt=ce.get(mt);X.set(mt,new Map([...xt?.entries()??[],...Rt?.entries()??[]]))});const K=[],ea=[],Gu={};s.forEach(mt=>{const{element:xt,player:Rt,instruction:yn}=mt;if(i.has(xt)){if(h.has(xt))return Rt.onDestroy(()=>Ya(xt,yn.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(yn.totalTime),void r.push(Rt);let fr=Gu;if(V.size>1){let Zi=xt;const Di=[];for(;Zi=Zi.parentNode;){const Mi=V.get(Zi);if(Mi){fr=Mi;break}Di.push(Zi)}Di.forEach(Mi=>V.set(Mi,fr))}const ta=this._buildAnimation(Rt.namespaceId,yn,$,o,ce,X);if(Rt.setRealPlayer(ta),fr===Gu)K.push(Rt);else{const Zi=this.playersByElement.get(fr);Zi&&Zi.length&&(Rt.parentPlayer=uu(Zi)),r.push(Rt)}}else Zd(xt,yn.fromStyles),Rt.onDestroy(()=>Ya(xt,yn.toStyles)),ea.push(Rt),h.has(xt)&&r.push(Rt)}),ea.forEach(mt=>{const xt=o.get(mt.element);if(xt&&xt.length){const Rt=uu(xt);mt.setRealPlayer(Rt)}}),r.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<P.length;mt++){const xt=P[mt],Rt=xt[wa];if(Tm(xt,aE),Rt&&Rt.hasAnimation)continue;let yn=[];if(a.size){let ta=a.get(xt);ta&&ta.length&&yn.push(...ta);let Zi=this.driver.query(xt,xS,!0);for(let Di=0;Di<Zi.length;Di++){let Mi=a.get(Zi[Di]);Mi&&Mi.length&&yn.push(...Mi)}}const fr=yn.filter(ta=>!ta.destroyed);fr.length?fre(this,xt,fr):this.processLeaveNode(xt)}return P.length=0,K.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const xt=this.players.indexOf(mt);this.players.splice(xt,1)}),mt.play()}),K}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==mv;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,h=c!==o,p=Cs(i,c,[]);this._getPreviousPlayers(c,h,s,a,e.toState).forEach(E=>{const T=E.getRealPlayer();T.beforeDestroy&&T.beforeDestroy(),E.destroy(),p.push(E)})}Zd(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],h=new Set,p=new Set,b=e.timelines.map(T=>{const R=T.element;h.add(R);const P=R[wa];if(P&&P.removedBeforeQueried)return new dv(T.duration,T.delay);const H=R!==l,B=function mre(n){const t=[];return X3(n,t),t}((i.get(R)||sre).map($=>$.getRealPlayer())).filter($=>!!$.element&&$.element===R),Q=o.get(R),ge=s.get(R),ze=D3(this._normalizer,T.keyframes,Q,ge),We=this._buildPlayer(T,ze,B);if(T.subTimeline&&r&&p.add(R),H){const $=new VS(t,a,R);$.setRealPlayer(We),c.push($)}return We});c.forEach(T=>{Cs(this.playersByQueriedElement,T.element,[]).push(T),T.onDone(()=>function ure(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,T.element,T))}),h.forEach(T=>qs(T,N3));const E=uu(b);return E.onDestroy(()=>{h.forEach(T=>Tm(T,N3)),Ya(l,e.toStyles)}),p.forEach(T=>{Cs(r,T,[]).push(E)}),E}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new dv(t.duration,t.delay)}}class VS{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new dv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>gS(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Cs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function _E(n){return n&&1===n.nodeType}function Q3(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Y3(n,t,e,i,r){const o=[];e.forEach(l=>o.push(Q3(l)));const s=[];i.forEach((l,c)=>{const h=new Map;l.forEach(p=>{const b=t.computeStyle(c,p,r);h.set(p,b),(!b||0==b.length)&&(c[wa]=are,s.push(c))}),n.set(c,h)});let a=0;return e.forEach(l=>Q3(l,o[a++])),s}function Z3(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function qs(n,t){n.classList?.add(t)}function Tm(n,t){n.classList?.remove(t)}function fre(n,t,e){uu(e).onDone(()=>n.processLeaveNode(t))}function X3(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof A3?X3(i.players,t):t.push(i)}}function J3(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class pv{constructor(t,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new cre(t.body,e,i),this._timelineEngine=new tre(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],h=DS(this._driver,o,l,[]);if(l.length)throw function rie(){return new J(3404,!1)}();a=function Zie(n,t,e){return new Xie(n,t,e)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=M3(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=M3(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}class gv{static{this.initialStylesByElement=new WeakMap}constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let r=gv.initialStylesByElement.get(t);r||gv.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ya(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ya(this._element,this._initialStyles),this._endStyles&&(Ya(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(gv.initialStylesByElement.delete(this._element),this._startStyles&&(Zd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zd(this._element,this._endStyles),this._endStyles=null),Ya(this._element,this._initialStyles),this._state=3)}}function US(n){let t=null;return n.forEach((e,i)=>{(function _re(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class eU{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:SS(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class tU{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return P3(t,e)}getParentElement(t){return yS(t)}query(t,e,i){return k3(t,e,i)}computeStyle(t,e,i){return SS(t,e)}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,h=s.filter(E=>E instanceof eU);(function Sie(n,t){return 0===n||0===t})(i,r)&&h.forEach(E=>{E.currentSnapshot.forEach((T,R)=>c.set(R,T))});let p=function Cie(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}(e).map(E=>new Map(E));p=function Die(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,SS(n,a)))}}return t}(t,p,c);const b=function gre(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=US(t[0]),t.length>1&&(i=US(t[t.length-1]))):t instanceof Map&&(e=US(t)),e||i?new gv(n,e,i):null}(t,p);return new eU(t,p,l,b)}}const nU="@.disabled";class iU{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==nU?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class vre extends iU{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==nU?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function yre(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function bre(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}class wre{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){const r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){const c=this._rendererCache;let h=c.get(r);return h||(h=new iU("",r,this.engine,()=>c.delete(r)),c.set(r,h)),h}const o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return e.data.animation.forEach(a),new vre(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>e(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const rU=[{provide:ES,useFactory:function Ire(){return new V3}},{provide:pv,useClass:(()=>{class n extends pv{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(G(_n),G(wS),G(ES))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})()},{provide:rw,useFactory:function xre(n,t,e){return new wre(n,t,e)},deps:[cS,pv,At]}],BS=[{provide:wS,useFactory:()=>new tU},{provide:Zc,useValue:"BrowserAnimations"},...rU],oU=[{provide:wS,useClass:bS},{provide:Zc,useValue:"NoopAnimations"},...rU];let Cre=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?oU:BS}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({providers:BS,imports:[I3]})}}return n})();var ve=Et(467);function sU(n){return n&&nt(n.schedule)}function jS(n){return n[n.length-1]}function aU(n){return nt(jS(n))?n.pop():void 0}function _v(n){return sU(jS(n))?n.pop():void 0}var Am=Et(635);const zS=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function lU(n){return nt(n?.then)}function cU(n){return nt(n[us])}function uU(n){return Symbol.asyncIterator&&nt(n?.[Symbol.asyncIterator])}function dU(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hU=function Are(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fU(n){return nt(n?.[hU])}function mU(n){return(0,Am.AQ)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Am.N3)(e.read());if(r)return yield(0,Am.N3)(void 0);yield yield(0,Am.N3)(i)}}finally{e.releaseLock()}})}function pU(n){return nt(n?.getReader)}function Po(n){if(n instanceof Dn)return n;if(null!=n){if(cU(n))return function Sre(n){return new Dn(t=>{const e=n[us]();if(nt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(zS(n))return function Dre(n){return new Dn(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(lU(n))return function Mre(n){return new Dn(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,vl)})}(n);if(uU(n))return gU(n);if(fU(n))return function Rre(n){return new Dn(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(pU(n))return function Pre(n){return gU(mU(n))}(n)}throw dU(n)}function gU(n){return new Dn(t=>{(function kre(n,t){var e,i,r,o;return(0,Am.sH)(this,void 0,void 0,function*(){try{for(e=(0,Am.xN)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function ec(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Za(n,t=0){return Qe((e,i)=>{e.subscribe(Xe(i,r=>ec(i,n,()=>i.next(r),t),()=>ec(i,n,()=>i.complete(),t),r=>ec(i,n,()=>i.error(r),t)))})}function Sm(n,t=0){return Qe((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function _U(n,t){if(!n)throw new Error("Iterable cannot be null");return new Dn(e=>{ec(e,t,()=>{const i=n[Symbol.asyncIterator]();ec(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Yt(n,t){return t?function Ure(n,t){if(null!=n){if(cU(n))return function Ore(n,t){return Po(n).pipe(Sm(t),Za(t))}(n,t);if(zS(n))return function Fre(n,t){return new Dn(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(lU(n))return function Nre(n,t){return Po(n).pipe(Sm(t),Za(t))}(n,t);if(uU(n))return _U(n,t);if(fU(n))return function Lre(n,t){return new Dn(e=>{let i;return ec(e,t,()=>{i=n[hU](),ec(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>nt(i?.return)&&i.return()})}(n,t);if(pU(n))return function Vre(n,t){return _U(mU(n),t)}(n,t)}throw dU(n)}(n,t):Po(n)}function qe(...n){return Yt(n,_v(n))}function Kr(n,t,e=1/0){return nt(t)?Kr((i,r)=>Le((o,s)=>t(i,o,r,s))(Po(n(i,r))),e):("number"==typeof t&&(e=t),Qe((i,r)=>function Bre(n,t,e,i,r,o,s,a){const l=[];let c=0,h=0,p=!1;const b=()=>{p&&!l.length&&!c&&t.complete()},E=R=>c<i?T(R):l.push(R),T=R=>{o&&t.next(R),c++;let P=!1;Po(e(R,h++)).subscribe(Xe(t,H=>{r?.(H),o?E(H):t.next(H)},()=>{P=!0},void 0,()=>{if(P)try{for(c--;l.length&&c<i;){const H=l.shift();s?ec(t,s,()=>T(H)):T(H)}b()}catch(H){t.error(H)}}))};return n.subscribe(Xe(t,E,()=>{p=!0,b()})),()=>{a?.()}}(i,r,n,e)))}function Jd(n,t){return nt(t)?Kr(n,t,1):Kr(n,1)}function ur(n,t){return Qe((e,i)=>{let r=0;e.subscribe(Xe(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Dm(n){return Qe((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function St(n,t){return Qe((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Xe(i,l=>{r?.unsubscribe();let c=0;const h=o++;Po(n(l,h)).subscribe(r=Xe(i,p=>i.next(t?t(l,p,h,c++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}class yE{}class bE{}class Ws{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ws?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ws;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ws?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class jre{encodeKey(t){return vU(t)}encodeValue(t){return vU(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Hre=/%(\d[a-f0-9])/gi,$re={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vU(n){return encodeURIComponent(n).replace(Hre,(t,e)=>$re[e]??t)}function wE(n){return`${n}`}class du{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new jre,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zre(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(wE):[wE(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new du({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(wE(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(wE(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Gre{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function yU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bU(n){return typeof Blob<"u"&&n instanceof Blob}function wU(n){return typeof FormData<"u"&&n instanceof FormData}class vv{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qre(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ws,this.context??=new Gre,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new du,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||yU(this.body)||bU(this.body)||wU(this.body)||function Wre(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof du?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wU(this.body)?null:bU(this.body)?this.body.type||null:yU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof du?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress;let c=t.headers||this.headers,h=t.params||this.params;const p=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((b,E)=>b.set(E,t.setHeaders[E]),c)),t.setParams&&(h=Object.keys(t.setParams).reduce((b,E)=>b.set(E,t.setParams[E]),h)),new vv(e,i,s,{params:h,headers:c,context:p,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}}var hu=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(hu||{});class HS{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ws,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class EE extends HS{constructor(t={}){super(t),this.type=hu.ResponseHeader}clone(t={}){return new EE({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class eh extends HS{constructor(t={}){super(t),this.type=hu.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new eh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Mm extends HS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $S(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let tc=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof vv)o=e;else{let l,c;l=r.headers instanceof Ws?r.headers:new Ws(r.headers),r.params&&(c=r.params instanceof du?r.params:new du({fromObject:r.params})),o=new vv(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=qe(o).pipe(Jd(l=>this.handler.handle(l)));if(e instanceof vv||"events"===r.observe)return s;const a=s.pipe(ur(l=>l instanceof eh));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Le(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Le(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Le(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Le(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new du).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,$S(r,i))}post(e,i,r={}){return this.request("POST",e,$S(r,i))}put(e,i,r={}){return this.request("PUT",e,$S(r,i))}static{this.\u0275fac=function(i){return new(i||n)(G(yE))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();const Yre=/^\)\]\}',?\n/;function IU(n){if(n.url)return n.url;const t="X-Request-URL".toLocaleLowerCase();return n.headers.get(t)}let GS=(()=>{class n{constructor(){this.fetchImpl=we(Xre,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=we(At)}handle(e){return new Dn(i=>{const r=new AbortController;return this.doRequest(e,r.signal,i).then(qS,o=>i.error(new Mm({error:o}))),()=>r.abort()})}doRequest(e,i,r){var o=this;return(0,ve.A)(function*(){const s=o.createRequestInit(e);let a;try{const T=o.ngZone.runOutsideAngular(()=>o.fetchImpl(e.urlWithParams,{signal:i,...s}));(function Jre(n){n.then(qS,qS)})(T),r.next({type:hu.Sent}),a=yield T}catch(T){return void r.error(new Mm({error:T,status:T.status??0,statusText:T.statusText,url:e.urlWithParams,headers:T.headers}))}const l=new Ws(a.headers),c=a.statusText,h=IU(a)??e.urlWithParams;let p=a.status,b=null;if(e.reportProgress&&r.next(new EE({headers:l,status:p,statusText:c,url:h})),a.body){const T=a.headers.get("content-length"),R=[],P=a.body.getReader();let B,Q,H=0;const ge=typeof Zone<"u"&&Zone.current;yield o.ngZone.runOutsideAngular((0,ve.A)(function*(){for(;;){const{done:We,value:$}=yield P.read();if(We)break;if(R.push($),H+=$.length,e.reportProgress){Q="text"===e.responseType?(Q??"")+(B??=new TextDecoder).decode($,{stream:!0}):void 0;const V=()=>r.next({type:hu.DownloadProgress,total:T?+T:void 0,loaded:H,partialText:Q});ge?ge.run(V):V()}}}));const ze=o.concatChunks(R,H);try{const We=a.headers.get("Content-Type")??"";b=o.parseBody(e,ze,We)}catch(We){return void r.error(new Mm({error:We,headers:new Ws(a.headers),status:a.status,statusText:a.statusText,url:IU(a)??e.urlWithParams}))}}0===p&&(p=b?200:0),p>=200&&p<300?(r.next(new eh({body:b,headers:l,status:p,statusText:c,url:h})),r.complete()):r.error(new Mm({error:b,headers:l,status:p,statusText:c,url:h}))})()}parseBody(e,i,r){switch(e.responseType){case"json":const o=(new TextDecoder).decode(i).replace(Yre,"");return""===o?null:JSON.parse(o);case"text":return(new TextDecoder).decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){const i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>i[o]=s.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){const o=e.detectContentTypeHeader();null!==o&&(i["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){const r=new Uint8Array(i);let o=0;for(const s of e)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();class Xre{}function qS(){}function xU(n,t){return t(n)}function eoe(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const noe=new he(""),yv=new he(""),CU=new he(""),TU=new he("",{providedIn:"root",factory:()=>!0});function ioe(){let n=null;return(t,e)=>{null===n&&(n=(we(noe,{optional:!0})??[]).reduceRight(eoe,xU));const i=we(Ul);if(we(TU)){const o=i.add();return n(t,e).pipe(Dm(()=>i.remove(o)))}return n(t,e)}}let AU=(()=>{class n extends yE{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=we(Ul),this.contributeToStability=we(TU)}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(yv),...this.injector.get(CU,[])]));this.chain=i.reduceRight((r,o)=>function toe(n,t,e){return(i,r)=>Ls(e,()=>t(i,o=>n(o,r)))}(r,o,this.injector),xU)}if(this.contributeToStability){const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Dm(()=>this.pendingTasks.remove(i)))}return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(G(bE),G(pr))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();const loe=/^\)\]\}',?\n/;let DU=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new J(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Yt(i.\u0275loadImpl()):qe(null)).pipe(St(()=>new Dn(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((R,P)=>s.setRequestHeader(R,P.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const R=e.detectContentTypeHeader();null!==R&&s.setRequestHeader("Content-Type",R)}if(e.responseType){const R=e.responseType.toLowerCase();s.responseType="json"!==R?R:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const R=s.statusText||"OK",P=new Ws(s.getAllResponseHeaders()),H=function coe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return l=new EE({headers:P,status:s.status,statusText:R,url:H}),l},h=()=>{let{headers:R,status:P,statusText:H,url:B}=c(),Q=null;204!==P&&(Q=typeof s.response>"u"?s.responseText:s.response),0===P&&(P=Q?200:0);let ge=P>=200&&P<300;if("json"===e.responseType&&"string"==typeof Q){const ze=Q;Q=Q.replace(loe,"");try{Q=""!==Q?JSON.parse(Q):null}catch(We){Q=ze,ge&&(ge=!1,Q={error:We,text:Q})}}ge?(o.next(new eh({body:Q,headers:R,status:P,statusText:H,url:B||void 0})),o.complete()):o.error(new Mm({error:Q,headers:R,status:P,statusText:H,url:B||void 0}))},p=R=>{const{url:P}=c(),H=new Mm({error:R,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(H)};let b=!1;const E=R=>{b||(o.next(c()),b=!0);let P={type:hu.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(P.total=R.total),"text"===e.responseType&&s.responseText&&(P.partialText=s.responseText),o.next(P)},T=R=>{let P={type:hu.UploadProgress,loaded:R.loaded};R.lengthComputable&&(P.total=R.total),o.next(P)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),e.reportProgress&&(s.addEventListener("progress",E),null!==a&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:hu.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",E),null!==a&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(G(J4))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();const WS=new he(""),MU=new he("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),RU=new he("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class PU{}let hoe=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=z4(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(G(_n),G(es),G(MU))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();function foe(n,t){const e=n.url.toLowerCase();if(!we(WS)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=we(PU).getToken(),r=we(RU);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var fu=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(fu||{});function th(n,t){return{\u0275kind:n,\u0275providers:t}}function moe(...n){const t=[tc,DU,AU,{provide:yE,useExisting:AU},{provide:bE,useFactory:()=>we(GS,{optional:!0})??we(DU)},{provide:yv,useValue:foe,multi:!0},{provide:WS,useValue:!0},{provide:PU,useClass:hoe}];for(const e of n)t.push(...e.\u0275providers);return function ud(n){return{\u0275providers:n}}(t)}const kU=new he("");let goe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({providers:[moe(th(fu.LegacyInterceptors,[{provide:kU,useFactory:ioe},{provide:yv,useExisting:kU,multi:!0}]))]})}}return n})();function nc(n){return!!n&&(n instanceof Dn||nt(n.lift)&&nt(n.subscribe))}const{isArray:Coe}=Array,{getPrototypeOf:Toe,prototype:Aoe,keys:Soe}=Object;function jU(n){if(1===n.length){const t=n[0];if(Coe(t))return{args:t,keys:null};if(function Doe(n){return n&&"object"==typeof n&&Toe(n)===Aoe}(t)){const e=Soe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Moe}=Array;function KS(n){return Le(t=>function Roe(n,t){return Moe(t)?n(...t):n(t)}(n,t))}function zU(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function nh(...n){const t=_v(n),e=aU(n),{args:i,keys:r}=jU(n);if(0===i.length)return Yt([],t);const o=new Dn(function Poe(n,t,e=no){return i=>{HU(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)HU(t,()=>{const c=Yt(n[l],t);let h=!1;c.subscribe(Xe(i,p=>{o[l]=p,h||(h=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>zU(r,s):no));return e?o.pipe(KS(e)):o}function HU(n,t,e){n?ec(e,n,t):t()}const bv=Sn(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Rm(n=1/0){return Kr(no,n)}function Pm(...n){return function koe(){return Rm(1)}()(Yt(n,_v(n)))}function wv(n){return new Dn(t=>{Po(n()).subscribe(t)})}function Xa(n,t){const e=nt(n)?n:()=>n,i=r=>r.error(e());return new Dn(t?r=>t.schedule(i,0,r):i)}const ko=new Dn(n=>n.complete());function QS(){return Qe((n,t)=>{let e=null;n._refCount++;const i=Xe(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class $U extends Dn{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,de(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ct;const e=this.getSubject();t.add(this.source.subscribe(Xe(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ct.EMPTY)}return t}refCount(){return QS()(this)}}function Qr(n){return n<=0?()=>ko:Qe((t,e)=>{let i=0;t.subscribe(Xe(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Ja(...n){const t=_v(n);return Qe((e,i)=>{(t?Pm(n,e,t):Pm(n,e)).subscribe(i)})}function xE(n){return Qe((t,e)=>{let i=!1;t.subscribe(Xe(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function GU(n=Noe){return Qe((t,e)=>{let i=!1;t.subscribe(Xe(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Noe(){return new bv}function mu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ur((r,o)=>n(r,o,i)):no,Qr(1),e?xE(t):GU(()=>new bv))}function vn(n,t,e){const i=nt(n)||t||e?{next:n,error:t,complete:e}:n;return i?Qe((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Xe(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):no}function xi(n){return Qe((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Xe(e,void 0,void 0,s=>{o=Po(n(s,xi(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function CE(n,t){return Qe(function Foe(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(Xe(s,h=>{const p=c++;l=a?n(l,h,p):(a=!0,h),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,t,arguments.length>=2,!0))}function YS(n){return n<=0?()=>ko:Qe((t,e)=>{let i=[];t.subscribe(Xe(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function km(n){return Qe((t,e)=>{Po(n).subscribe(Xe(e,()=>e.complete(),yo)),!e.closed&&t.subscribe(e)})}const sn="primary",Ev=Symbol("RouteTitle");class Uoe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Om(n){return new Uoe(n)}function Boe(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(":"===s[0])r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function el(n,t){const e=n?ZS(n):void 0,i=t?ZS(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!qU(n[r],t[r]))return!1;return!0}function ZS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function qU(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function WU(n){return n.length>0?n[n.length-1]:null}function pu(n){return nc(n)?n:X_(n)?Yt(Promise.resolve(n)):qe(n)}const zoe={exact:function YU(n,t,e){if(!rh(n.segments,t.segments)||!TE(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!YU(n.children[i],t.children[i],e))return!1;return!0},subset:ZU},KU={exact:function Hoe(n,t){return el(n,t)},subset:function $oe(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>qU(n[e],t[e]))},ignored:()=>!0};function QU(n,t,e){return zoe[e.paths](n.root,t.root,e.matrixParams)&&KU[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ZU(n,t,e){return XU(n,t,t.segments,e)}function XU(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!rh(r,e)||t.hasChildren()||!TE(r,e,i))}if(n.segments.length===e.length){if(!rh(n.segments,e)||!TE(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!ZU(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(rh(n.segments,r)&&TE(n.segments,r,i)&&n.children[sn])&&XU(n.children[sn],t,o,i)}}function TE(n,t,e){return t.every((i,r)=>KU[e](n[r].parameters,i.parameters))}class ih{constructor(t=new Yn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Om(this.queryParams),this._queryParamMap}toString(){return Woe.serialize(this)}}class Yn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return SE(this)}}class Iv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Om(this.parameters),this._parameterMap}toString(){return tB(this)}}function rh(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Nm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:()=>new AE,providedIn:"root"})}}return n})();class AE{parse(t){const e=new rse(t);return new ih(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${xv(t.root,!0)}`,i=function Yoe(n){const t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${DE(e)}=${DE(r)}`).join("&"):`${DE(e)}=${DE(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Koe(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Woe=new AE;function SE(n){return n.segments.map(t=>tB(t)).join("/")}function xv(n,t){if(!n.hasChildren())return SE(n);if(t){const e=n.children[sn]?xv(n.children[sn],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==sn&&i.push(`${r}:${xv(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function qoe(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===sn&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==sn&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===sn?[xv(n.children[sn],!1)]:[`${r}:${xv(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${SE(n)}/${e[0]}`:`${SE(n)}/(${e.join("//")})`}}function JU(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function DE(n){return JU(n).replace(/%3B/gi,";")}function XS(n){return JU(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ME(n){return decodeURIComponent(n)}function eB(n){return ME(n.replace(/\+/g,"%20"))}function tB(n){return`${XS(n.path)}${function Qoe(n){return Object.entries(n).map(([t,e])=>`;${XS(t)}=${XS(e)}`).join("")}(n.parameters)}`}const Zoe=/^[^\/()?;#]+/;function JS(n){const t=n.match(Zoe);return t?t[0]:""}const Xoe=/^[^\/()?;=#]+/,ese=/^[^=?&#]+/,nse=/^[^&#]+/;class rse{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[sn]=new Yn(t,e)),i}parseSegment(){const t=JS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(t),new Iv(ME(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Joe(n){const t=n.match(Xoe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=JS(this.remaining);r&&(i=r,this.capture(i))}t[ME(e)]=ME(i)}parseQueryParam(t){const e=function tse(n){const t=n.match(ese);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function ise(n){const t=n.match(nse);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=eB(e),o=eB(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=JS(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new J(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=sn);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[sn]:new Yn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new J(4011,!1)}}function nB(n){return n.segments.length>0?new Yn([],{[sn]:n}):n}function iB(n){const t={};for(const[i,r]of Object.entries(n.children)){const o=iB(r);if(i===sn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function ose(n){if(1===n.numberOfChildren&&n.children[sn]){const t=n.children[sn];return new Yn(n.segments.concat(t.segments),t.children)}return n}(new Yn(n.segments,t))}function oh(n){return n instanceof ih}function rB(n){let t;const r=nB(function e(o){const s={};for(const l of o.children){const c=e(l);s[l.outlet]=c}const a=new Yn(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function oB(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return eD(r,r,r,e,i);const o=function ase(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new aB(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new aB(e,t,i)}(t);if(o.toRoot())return eD(r,r,new Yn([],{}),e,i);const s=function lse(n,t,e){if(n.isAbsolute)return new PE(t,!0,0);if(!e)return new PE(t,!1,NaN);if(null===e.parent)return new PE(e,!0,0);const i=RE(n.commands[0])?0:1;return function cse(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new J(4005,!1);r=i.segments.length}return new PE(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Tv(s.segmentGroup,s.index,o.commands):lB(s.segmentGroup,s.index,o.commands);return eD(r,s.segmentGroup,a,e,i)}function RE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cv(n){return"object"==typeof n&&null!=n&&n.outlets}function eD(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),s=n===t?e:sB(n,t,e);const a=nB(iB(s));return new ih(a,o,r)}function sB(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:sB(o,t,e)}),new Yn(n.segments,i)}class aB{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&RE(i[0]))throw new J(4003,!1);const r=i.find(Cv);if(r&&r!==WU(i))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class PE{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function lB(n,t,e){if(n??=new Yn([],{}),0===n.segments.length&&n.hasChildren())return Tv(n,t,e);const i=function dse(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(Cv(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!uB(l,c,s))return o;i+=2}else{if(!uB(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Yn(n.segments.slice(0,i.pathIndex),{});return o.children[sn]=new Yn(n.segments.slice(i.pathIndex),n.children),Tv(o,0,r)}return i.match&&0===r.length?new Yn(n.segments,{}):i.match&&!n.hasChildren()?tD(n,t,e):i.match?Tv(n,0,r):tD(n,t,e)}function Tv(n,t,e){if(0===e.length)return new Yn(n.segments,{});{const i=function use(n){return Cv(n[0])?n[0].outlets:{[sn]:n}}(e),r={};if(Object.keys(i).some(o=>o!==sn)&&n.children[sn]&&1===n.numberOfChildren&&0===n.children[sn].segments.length){const o=Tv(n.children[sn],t,e);return new Yn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=lB(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Yn(n.segments,r)}}function tD(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Cv(o)){const l=hse(o.outlets);return new Yn(i,l)}if(0===r&&RE(e[0])){i.push(new Iv(n.segments[t].path,cB(e[0]))),r++;continue}const s=Cv(o)?o.outlets[sn]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&RE(a)?(i.push(new Iv(s,cB(a))),r+=2):(i.push(new Iv(s,{})),r++)}return new Yn(i,{})}function hse(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=tD(new Yn([],{}),0,i))}),t}function cB(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function uB(n,t,e){return n==e.path&&el(t,e.parameters)}const Av="imperative";var Tn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Tn||{});class tl{constructor(t,e){this.id=t,this.url=e}}class kE extends tl{constructor(t,e,i="imperative",r=null){super(t,e),this.type=Tn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nl extends tl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=Tn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var As=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(As||{}),OE=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(OE||{});class sh extends tl{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=Tn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fm extends tl{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=Tn.NavigationSkipped}}class nD extends tl{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=Tn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dB extends tl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Tn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fse extends tl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Tn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mse extends tl{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Tn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pse extends tl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Tn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gse extends tl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Tn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _se{constructor(t){this.route=t,this.type=Tn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vse{constructor(t){this.route=t,this.type=Tn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yse{constructor(t){this.snapshot=t,this.type=Tn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bse{constructor(t){this.snapshot=t,this.type=Tn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wse{constructor(t){this.snapshot=t,this.type=Tn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ese{constructor(t){this.snapshot=t,this.type=Tn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hB{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=Tn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class iD{}class NE{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function Ea(n){return n.outlet||sn}function Sv(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Sse{get injector(){return Sv(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Dv(this.rootInjector),this.attachRef=null}}let Dv=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Sse(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)(G(pr))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class fB{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=rD(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=rD(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=oD(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return oD(t,this._root).map(e=>e.value)}}function rD(n,t){if(n===t.value)return t;for(const e of t.children){const i=rD(n,e);if(i)return i}return null}function oD(n,t){if(n===t.value)return[t];for(const e of t.children){const i=oD(n,e);if(i.length)return i.unshift(t),i}return[]}class Ia{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Lm(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class mB extends fB{constructor(t,e){super(t),this.snapshot=e,sD(this,t)}toString(){return this.snapshot.toString()}}function pB(n){const t=function Dse(n){const o=new LE([],{},{},"",{},sn,n,null,{});return new gB("",new Ia(o,[]))}(n),e=new xe([new Iv("",{})]),i=new xe({}),r=new xe({}),o=new xe({}),s=new xe(""),a=new ic(e,i,o,s,r,sn,n,t.root);return a.snapshot=t.root,new mB(new Ia(a,[]),t)}class ic{constructor(t,e,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Le(c=>c[Ev]))??qe(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Le(t=>Om(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Le(t=>Om(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FE(n,t,e="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===t||"always"!==e&&""!==r?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...r?.data,...n._resolvedData}},r&&vB(r)&&(i.resolve[Ev]=r.title),i}class LE{get title(){return this.data?.[Ev]}constructor(t,e,i,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Om(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Om(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gB extends fB{constructor(t,e){super(e),this.url=t,sD(this,e)}toString(){return _B(this._root)}}function sD(n,t){t.value._routerState=n,t.children.forEach(e=>sD(n,e))}function _B(n){const t=n.children.length>0?` { ${n.children.map(_B).join(", ")} } `:"";return`${n.value}${t}`}function aD(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,el(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),el(t.params,e.params)||n.paramsSubject.next(e.params),function joe(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!el(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),el(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function lD(n,t){const e=el(n.params,t.params)&&function Goe(n,t){return rh(n,t)&&n.every((e,i)=>el(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||lD(n.parent,t.parent))}function vB(n){return"string"==typeof n.title||null===n.title}let cD=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=sn,this.activateEvents=new Qt,this.deactivateEvents=new Qt,this.attachEvents=new Qt,this.detachEvents=new Qt,this.parentContexts=we(Dv),this.location=we(js),this.changeDetector=we(Wl),this.inputBinder=we(VE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new uD(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=at({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Or]})}}return n})();class uD{__ngOutletInjector(t){return new uD(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ic?this.route:t===Dv?this.childContexts:this.parent.get(t,e)}}const VE=new he("");let yB=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=nh([i.queryParams,i.params,i.data]).pipe(St(([o,s,a],l)=>(a={...o,...s,...a},0===l?qe(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function dee(n){const t=Jt(n);if(!t)return null;const e=new P_(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();function Mv(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Rse(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Mv(n,i,r);return Mv(n,i)})}(n,t,e);return new Ia(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Mv(n,a)),s}}const i=function Pse(n){return new ic(new xe(n.url),new xe(n.params),new xe(n.queryParams),new xe(n.fragment),new xe(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Mv(n,o));return new Ia(i,r)}}class dD{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const bB="ngNavigationCancelingError";function UE(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=oh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=wB(!1,As.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function wB(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[bB]=!0,e.cancellationCode=t,e}function EB(n){return!!n&&n[bB]}class Nse{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),aD(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Lm(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Lm(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Lm(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Lm(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Ese(o.value.snapshot))}),t.children.length&&this.forwardEvent(new bse(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(aD(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),aD(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}}class IB{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class BE{constructor(t,e){this.component=t,this.route=e}}function Fse(n,t,e){const i=n._root;return Rv(i,t?t._root:null,e,[i.value])}function Vm(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function Qp(n){return null!==Yh(n)}(n)?t.get(n):n:i}function Rv(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Lm(t);return n.children.forEach(s=>{(function Vse(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Use(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!rh(n.url,t.url);case"pathParamsOrQueryParamsChange":return!rh(n.url,t.url)||!el(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lD(n,t)||!el(n.queryParams,t.queryParams);default:return!lD(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new IB(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Rv(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new BE(a.outlet.component,s))}else s&&Pv(t,a,r),r.canActivateChecks.push(new IB(i)),Rv(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pv(a,e.getContext(s),r)),r}function Pv(n,t,e){const i=Lm(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Pv(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new BE(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function kv(n){return"function"==typeof n}function xB(n){return n instanceof bv||"EmptyError"===n?.name}const jE=Symbol("INITIAL_VALUE");function Um(){return St(n=>nh(n.map(t=>t.pipe(Qr(1),Ja(jE)))).pipe(Le(t=>{for(const e of t)if(!0!==e){if(e===jE)return jE;if(!1===e||qse(e))return e}return!0}),ur(t=>t!==jE),Qr(1)))}function qse(n){return oh(n)||n instanceof dD}function CB(n){return function Ic(...n){return Ma(n)}(vn(t=>{if("boolean"!=typeof t)throw UE(0,t)}),Le(t=>!0===t))}class hD{constructor(t){this.segmentGroup=t||null}}class zE extends Error{constructor(t){super(),this.urlTree=t}}function Bm(n){return Xa(new hD(n))}class oae{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return qe(i);if(r.numberOfChildren>1||!r.children[sn])return Xa(new J(4e3,!1));r=r.children[sn]}}applyRedirectCommands(t,e,i,r,o){if("string"!=typeof e){const a=e,{queryParams:l,fragment:c,routeConfig:h,url:p,outlet:b,params:E,data:T,title:R}=r,P=Ls(o,()=>a({params:E,data:T,queryParams:l,fragment:c,routeConfig:h,url:p,outlet:b,title:R}));if(P instanceof ih)throw new zE(P);e=P}const s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if("/"===e[0])throw new zE(s);return s}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new ih(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new Yn(o,s)}createSegments(t,e,i,r){return e.map(o=>":"===o.path[0]?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new J(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const fD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sae(n,t,e,i,r){const o=TB(n,t,e);return o.matched?(i=function Ise(n,t){return n.providers&&!n._injector&&(n._injector=uw(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function nae(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?qe(r.map(s=>{const a=Vm(s,n);return pu(function Gse(n){return n&&kv(n.canMatch)}(a)?a.canMatch(t,e):Ls(n,()=>a(t,e)))})).pipe(Um(),CB()):qe(!0)}(i,t,e).pipe(Le(s=>!0===s?o:{...fD}))):qe(o)}function TB(n,t,e){if("**"===t.path)return function aae(n){return{matched:!0,parameters:n.length>0?WU(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...fD}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Boe)(e,n,t);if(!r)return{...fD};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function AB(n,t,e,i){return e.length>0&&function uae(n,t,e){return e.some(i=>HE(n,t,i)&&Ea(i)!==sn)}(n,e,i)?{segmentGroup:new Yn(t,cae(i,new Yn(e,n.children))),slicedSegments:[]}:0===e.length&&function dae(n,t,e){return e.some(i=>HE(n,t,i))}(n,e,i)?{segmentGroup:new Yn(n.segments,lae(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Yn(n.segments,n.children),slicedSegments:e}}function lae(n,t,e,i){const r={};for(const o of e)if(HE(n,t,o)&&!i[Ea(o)]){const s=new Yn([],{});r[Ea(o)]=s}return{...i,...r}}function cae(n,t){const e={};e[sn]=t;for(const i of n)if(""===i.path&&Ea(i)!==sn){const r=new Yn([],{});e[Ea(i)]=r}return e}function HE(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class fae{}class gae{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new oae(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new J(4002,`'${t.segmentGroup}'`)}recognize(){const t=AB(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Le(({children:e,rootSnapshot:i})=>{const r=new Ia(i,e),o=new gB("",r),s=function sse(n,t,e=null,i=null){return oB(rB(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){const e=new LE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),sn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,sn,e).pipe(Le(i=>({children:i,rootSnapshot:e})),xi(i=>{if(i instanceof zE)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof hD?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(Le(s=>s instanceof Ia?[s]:[]))}processChildren(t,e,i,r){const o=[];for(const s of Object.keys(i.children))"primary"===s?o.unshift(s):o.push(s);return Yt(o).pipe(Jd(s=>{const a=i.children[s],l=function Ase(n,t){const e=n.filter(i=>Ea(i)===t);return e.push(...n.filter(i=>Ea(i)!==t)),e}(e,s);return this.processSegmentGroup(t,l,a,s,r)}),CE((s,a)=>(s.push(...a),s)),xE(null),function Loe(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ur((r,o)=>n(r,o,i)):no,YS(1),e?xE(t):GU(()=>new bv))}(),Kr(s=>{if(null===s)return Bm(i);const a=SB(s);return function _ae(n){n.sort((t,e)=>t.value.outlet===sn?-1:e.value.outlet===sn?1:t.value.outlet.localeCompare(e.value.outlet))}(a),qe(a)}))}processSegment(t,e,i,r,o,s,a){return Yt(e).pipe(Jd(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,r,o,s,a).pipe(xi(c=>{if(c instanceof hD)return qe(null);throw c}))),mu(l=>!!l),xi(l=>{if(xB(l))return function hae(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?qe(new fae):Bm(i);throw l}))}processSegmentAgainstRoute(t,e,i,r,o,s,a,l){return Ea(i)===s||s!==sn&&HE(r,o,i)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,l):Bm(r):Bm(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,a){const{matched:l,parameters:c,consumedSegments:h,positionalParamSegments:p,remainingSegments:b}=TB(e,r,o);if(!l)return Bm(e);"string"==typeof r.redirectTo&&"/"===r.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const E=new LE(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,DB(r),Ea(r),r.component??r._loadedComponent??null,r,MB(r)),T=FE(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(T.params),E.data=Object.freeze(T.data);const R=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,E,t);return this.applyRedirects.lineralizeSegments(r,R).pipe(Kr(P=>this.processSegment(t,i,e,P.concat(b),s,!1,a)))}matchSegmentAgainstRoute(t,e,i,r,o,s){const a=sae(e,i,r,t);return"**"===i.path&&(e.children={}),a.pipe(St(l=>l.matched?this.getChildConfig(t=i._injector??t,i,r).pipe(St(({routes:c})=>{const h=i._loadedInjector??t,{parameters:p,consumedSegments:b,remainingSegments:E}=l,T=new LE(b,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,DB(i),Ea(i),i.component??i._loadedComponent??null,i,MB(i)),R=FE(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(R.params),T.data=Object.freeze(R.data);const{segmentGroup:P,slicedSegments:H}=AB(e,b,E,c);if(0===H.length&&P.hasChildren())return this.processChildren(h,c,P,T).pipe(Le(Q=>new Ia(T,Q)));if(0===c.length&&0===H.length)return qe(new Ia(T,[]));const B=Ea(i)===o;return this.processSegment(h,c,P,H,B?sn:o,!0,T).pipe(Le(Q=>new Ia(T,Q instanceof Ia?[Q]:[])))})):Bm(e)))}getChildConfig(t,e,i){return e.children?qe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function tae(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?qe(!0):qe(r.map(s=>{const a=Vm(s,n);return pu(function jse(n){return n&&kv(n.canLoad)}(a)?a.canLoad(t,e):Ls(n,()=>a(t,e)))})).pipe(Um(),CB())}(t,e,i).pipe(Kr(r=>r?this.configLoader.loadChildren(t,e).pipe(vn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function rae(){return Xa(wB(!1,As.GuardRejected))}())):qe({routes:[],injector:t})}}function vae(n){const t=n.value.routeConfig;return t&&""===t.path}function SB(n){const t=[],e=new Set;for(const i of n){if(!vae(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=SB(i.children);t.push(new Ia(i.value,r))}return t.filter(i=>!e.has(i))}function DB(n){return n.data||{}}function MB(n){return n.resolve||{}}function RB(n){const t=n.children.map(e=>RB(e)).flat();return[n,...t]}function mD(n){return St(t=>{const e=n(t);return e?Yt(e).pipe(Le(()=>t)):qe(t)})}let PB=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===sn);return i}getResolvedTitleForRoute(e){return e.data[Ev]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:()=>we(xae),providedIn:"root"})}}return n})(),xae=(()=>{class n extends PB{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(G(Ane))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const jm=new he("",{providedIn:"root",factory:()=>({})});let kB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=on({type:n,selectors:[["ng-component"]],standalone:!0,features:[ga],decls:1,vars:0,template:function(i,r){1&i&&fe(0,"router-outlet")},dependencies:[cD],encapsulation:2})}}return n})();function pD(n){const t=n.children&&n.children.map(pD),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==sn&&(e.component=kB),e}const zm=new he("");let gD=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=we(LV)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=pu(e.loadComponent()).pipe(Le(OB),vn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Dm(()=>{this.componentLoaders.delete(e)})),r=new $U(i,()=>new F).pipe(QS());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Cae(n,t,e,i){return pu(n.loadChildren()).pipe(Le(OB),Kr(r=>r instanceof tF||Array.isArray(r)?qe(r):Yt(t.compileModuleAsync(r))),Le(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(zm,[],{optional:!0,self:!0}).flat()),{routes:s.map(pD),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Dm(()=>{this.childrenLoaders.delete(i)})),s=new $U(o,()=>new F).pipe(QS());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function OB(n){return function Tae(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let _D=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:()=>we(Aae),providedIn:"root"})}}return n})(),Aae=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const NB=new he(""),FB=new he("");function Sae(n,t,e){const i=n.get(FB),r=n.get(_n);return n.get(At).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o;const s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),function Dae(n){return new Promise(t=>{jd({read:()=>setTimeout(t)},{injector:n})})}(n))),{onViewTransitionCreated:l}=i;return l&&Ls(n,()=>l({transition:a,from:t,to:e})),s})}const LB=new he("");let $E=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new F,this.transitionAbortSubject=new F,this.configLoader=we(gD),this.environmentInjector=we(pr),this.urlSerializer=we(Nm),this.rootContexts=we(Dv),this.location=we(Kd),this.inputBindingEnabled=null!==we(VE,{optional:!0}),this.titleStrategy=we(PB),this.options=we(jm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=we(_D),this.createViewTransition=we(NB,{optional:!0}),this.navigationErrorHandler=we(LB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new vse(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new _se(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new xe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Av,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ur(o=>0!==o.id),Le(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),St(o=>{let s=!1,a=!1;return qe(o).pipe(St(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",As.SupersededByNewNavigation),ko;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:"string"==typeof l.extras.browserUrl?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const p="";return this.events.next(new Fm(l.id,this.urlSerializer.serialize(l.rawUrl),p,OE.IgnoredSameUrlNavigation)),l.resolve(!1),ko}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return qe(l).pipe(St(p=>{const b=this.transitions?.getValue();return this.events.next(new kE(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),b!==this.transitions?.getValue()?ko:Promise.resolve(p)}),function yae(n,t,e,i,r,o){return Kr(s=>function mae(n,t,e,i,r,o,s="emptyOnly"){return new gae(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(Le(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),vn(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const b=new dB(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:p,extractedUrl:b,source:E,restoredState:T,extras:R}=l,P=new kE(p,this.urlSerializer.serialize(b),E,T);this.events.next(P);const H=pB(this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:H,urlAfterRedirects:b,extras:{...R,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,qe(o)}{const p="";return this.events.next(new Fm(l.id,this.urlSerializer.serialize(l.extractedUrl),p,OE.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ko}}),vn(l=>{const c=new fse(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Le(l=>(this.currentTransition=o={...l,guards:Fse(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Wse(n,t){return Kr(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?qe({...e,guardsResult:!0}):function Kse(n,t,e,i){return Yt(n).pipe(Kr(r=>function eae(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?qe(o.map(a=>{const l=Sv(t)??r,c=Vm(a,l);return pu(function $se(n){return n&&kv(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):Ls(l,()=>c(n,t,e,i))).pipe(mu())})).pipe(Um()):qe(!0)}(r.component,r.route,e,t,i)),mu(r=>!0!==r,!0))}(s,i,r,n).pipe(Kr(a=>a&&function Bse(n){return"boolean"==typeof n}(a)?function Qse(n,t,e,i){return Yt(t).pipe(Jd(r=>Pm(function Zse(n,t){return null!==n&&t&&t(new yse(n)),qe(!0)}(r.route.parent,i),function Yse(n,t){return null!==n&&t&&t(new wse(n)),qe(!0)}(r.route,i),function Jse(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Lse(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>wv(()=>qe(s.guards.map(l=>{const c=Sv(s.node)??e,h=Vm(l,c);return pu(function Hse(n){return n&&kv(n.canActivateChild)}(h)?h.canActivateChild(i,n):Ls(c,()=>h(i,n))).pipe(mu())})).pipe(Um())));return qe(o).pipe(Um())}(n,r.path,e),function Xse(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return qe(!0);const r=i.map(o=>wv(()=>{const s=Sv(t)??e,a=Vm(o,s);return pu(function zse(n){return n&&kv(n.canActivate)}(a)?a.canActivate(t,n):Ls(s,()=>a(t,n))).pipe(mu())}));return qe(r).pipe(Um())}(n,r.route,e))),mu(r=>!0!==r,!0))}(i,o,n,t):qe(a)),Le(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),vn(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&"boolean"!=typeof l.guardsResult)throw UE(0,l.guardsResult);const c=new mse(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ur(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",As.GuardRejected),!1)),mD(l=>{if(l.guards.canActivateChecks.length)return qe(l).pipe(vn(c=>{const h=new pse(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),St(c=>{let h=!1;return qe(c).pipe(function bae(n,t){return Kr(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return qe(e);const o=new Set(r.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const c of RB(l))s.add(c);let a=0;return Yt(s).pipe(Jd(l=>o.has(l)?function wae(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!vB(r)&&(o[Ev]=r.title),function Eae(n,t,e,i){const r=ZS(n);if(0===r.length)return qe({});const o={};return Yt(r).pipe(Kr(s=>function Iae(n,t,e,i){const r=Sv(t)??i,o=Vm(n,r);return pu(o.resolve?o.resolve(t,e):Ls(r,()=>o(t,e)))}(n[s],t,e,i).pipe(mu(),vn(a=>{if(a instanceof dD)throw UE(new AE,a);o[s]=a}))),YS(1),function Voe(n){return Le(()=>n)}(o),xi(s=>xB(s)?ko:Xa(s)))}(o,n,t,i).pipe(Le(s=>(n._resolvedData=s,n.data=FE(n,n.parent,e).resolve,null)))}(l,i,n,t):(l.data=FE(l,l.parent,n).resolve,qe(void 0))),vn(()=>a++),YS(1),Kr(l=>a===s.size?qe(e):ko))})}(this.paramsInheritanceStrategy,this.environmentInjector),vn({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",As.NoDataFromResolver)}}))}),vn(c=>{const h=new gse(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),mD(l=>{const c=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(vn(b=>{h.component=b}),Le(()=>{})));for(const b of h.children)p.push(...c(b));return p};return nh(c(l.targetSnapshot.root)).pipe(xE(null),Qr(1))}),mD(()=>this.afterPreactivation()),St(()=>{const{currentSnapshot:l,targetSnapshot:c}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return h?Yt(h).pipe(Le(()=>o)):qe(o)}),Le(l=>{const c=function Mse(n,t,e){const i=Mv(n,t._root,e?e._root:void 0);return new mB(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,o}),vn(()=>{this.events.next(new iD)}),((n,t,e,i)=>Le(r=>(new Nse(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qr(1),vn({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),km(this.transitionAbortSubject.pipe(vn(l=>{throw l}))),Dm(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",As.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xi(l=>{if(a=!0,EB(l))this.events.next(new sh(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function kse(n){return EB(n)&&oh(n.url)}(l)?this.events.next(new NE(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{const c=new nD(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{const h=Ls(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(h instanceof dD){const{message:p,cancellationCode:b}=UE(0,h);this.events.next(new sh(o.id,this.urlSerializer.serialize(o.extractedUrl),p,b)),this.events.next(new NE(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(c);const p=e.errorHandler(l);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return ko}))}))}cancelNavigationTransition(e,i,r){const o=new sh(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Mae(n){return n!==Av}let Rae=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:()=>we(kae),providedIn:"root"})}}return n})();class Pae{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let kae=(()=>{class n extends Pae{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})()}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),VB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:()=>we(Oae),providedIn:"root"})}}return n})(),Oae=(()=>{class n extends VB{constructor(){super(...arguments),this.location=we(Kd),this.urlSerializer=we(Nm),this.options=we(jm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=we(_D),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ih,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pB(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof kE)this.stateMemento=this.createStateMemento();else if(e instanceof Fm)this.rawUrlTree=i.initialUrl;else if(e instanceof dB){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof iD?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof sh&&(e.code===As.GuardRejected||e.code===As.NoDataFromResolver)?this.restoreHistory(i):e instanceof nD?this.restoreHistory(i,!0):e instanceof nl&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const r=e instanceof ih?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&0===o&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})()}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ov=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ov||{});function UB(n,t){n.events.pipe(ur(e=>e instanceof nl||e instanceof sh||e instanceof nD||e instanceof Fm),Le(e=>e instanceof nl||e instanceof Fm?Ov.COMPLETE:e instanceof sh&&(e.code===As.Redirect||e.code===As.SupersededByNewNavigation)?Ov.REDIRECTING:Ov.FAILED),ur(e=>e!==Ov.REDIRECTING),Qr(1)).subscribe(()=>{t()})}function Nae(n){throw n}const Fae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=we(TV),this.stateManager=we(VB),this.options=we(jm,{optional:!0})||{},this.pendingTasks=we(Ul),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=we($E),this.urlSerializer=we(Nm),this.location=we(Kd),this.urlHandlingStrategy=we(_D),this._events=new F,this.errorHandler=this.options.errorHandler||Nae,this.navigated=!1,this.routeReuseStrategy=we(Rae),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=we(zm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!we(VE,{optional:!0}),this.eventsSubscription=new ct,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof sh&&i.code!==As.Redirect&&i.code!==As.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof nl)this.navigated=!0;else if(i instanceof NE){const s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l={browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Mae(r.source),...s};this.scheduleNavigation(a,Av,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function Uae(n){return!(n instanceof iD||n instanceof NE)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Av,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(pD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let p,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=rB(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),p=this.currentUrlTree.root}return oB(p,e,h,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=oh(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Av,null,i)}navigate(e,i={skipLocationChange:!1}){return function Vae(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new J(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(r=!0===i?{...Fae}:!1===i?{...Lae}:i,oh(e))return QU(this.currentUrlTree,e,r);const o=this.parseUrl(e);return QU(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,b)=>{a=p,l=b});const h=this.pendingTasks.add();return UB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class BB{}let zae=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ur(e=>e instanceof nl),Jd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=uw(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Yt(r).pipe(Rm())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):qe(null);const o=r.pipe(Kr(s=>null===s?qe(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?Yt([o,this.loader.loadComponent(i)]).pipe(Rm()):o})}static{this.\u0275fac=function(i){return new(i||n)(G(oi),G(LV),G(pr),G(BB),G(gD))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const yD=new he("");let jB=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof kE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof nl?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Fm&&e.code===OE.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof hB&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hB(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){XT()}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();function il(n,t){return{\u0275kind:n,\u0275providers:t}}function HB(){const n=we(jn);return t=>{const e=n.get(_a);if(t!==e.components[0])return;const i=n.get(oi),r=n.get($B);1===n.get(bD)&&i.initialNavigation(),n.get(GB,null,ln.Optional)?.setUpPreloading(),n.get(yD,null,ln.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const $B=new he("",{factory:()=>new F}),bD=new he("",{providedIn:"root",factory:()=>1}),GB=new he("");function qae(n){return il(0,[{provide:GB,useExisting:zae},{provide:BB,useExisting:n}])}function Kae(n){return il(9,[{provide:NB,useValue:Sae},{provide:FB,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const qB=new he("ROUTER_FORROOT_GUARD"),Qae=[Kd,{provide:Nm,useClass:AE},oi,Dv,{provide:ic,useFactory:function zB(n){return n.routerState.root},deps:[oi]},gD,[]];let Yae=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Qae,[],{provide:zm,multi:!0,useValue:e},{provide:qB,useFactory:ele,deps:[[oi,new hs,new Pc]]},{provide:jm,useValue:i||{}},i?.useHash?{provide:Wd,useClass:gee}:{provide:Wd,useClass:P4},{provide:yD,useFactory:()=>{const n=we(Ste),t=we(At),e=we(jm),i=we($E),r=we(Nm);return e.scrollOffset&&n.setOffset(e.scrollOffset),new jB(r,i,n,t,e)}},i?.preloadingStrategy?qae(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?tle(i):[],i?.bindToComponentInputs?il(8,[yB,{provide:VE,useExisting:yB}]).\u0275providers:[],i?.enableViewTransitions?Kae().\u0275providers:[],[{provide:WB,useFactory:HB},{provide:Rw,multi:!0,useExisting:WB}]]}}static forChild(e){return{ngModule:n,providers:[{provide:zm,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(G(qB,8))}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({})}}return n})();function ele(n){return"guarded"}function tle(n){return["disabled"===n.initialNavigation?il(3,[{provide:T1,multi:!0,useFactory:()=>{const t=we(oi);return()=>{t.setUpLocationChangeListener()}}},{provide:bD,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?il(2,[{provide:bD,useValue:0},{provide:T1,multi:!0,deps:[jn],useFactory:t=>{const e=t.get(mee,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(oi),o=t.get($B);UB(r,()=>{i(!0)}),t.get($E).afterPreactivation=()=>(i(!0),o.closed?qe(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const WB=new he("");function wD(...n){const t=aU(n),{args:e,keys:i}=jU(n),r=new Dn(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let h=0;h<s;h++){let p=!1;Po(e[h]).subscribe(Xe(o,b=>{p||(p=!0,c--),a[h]=b},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(i?zU(i,a):a),o.complete())}))}});return t?r.pipe(KS(t)):r}let KB=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(z(zl),z(Qn))}}static{this.\u0275dir=at({type:n})}}return n})(),ah=(()=>{class n extends KB{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})()}static{this.\u0275dir=at({type:n,features:[gn]})}}return n})();const xa=new he(""),ile={provide:xa,useExisting:Ln(()=>GE),multi:!0};let GE=(()=>{class n extends ah{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})()}static{this.\u0275dir=at({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&le("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[pi([ile]),gn]})}}return n})();const rle={provide:xa,useExisting:Ln(()=>Ks),multi:!0},sle=new he("");let Ks=(()=>{class n extends KB{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ole(){const n=su()?su().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(z(zl),z(Qn),z(sle,8))}}static{this.\u0275dir=at({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&le("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[pi([rle]),gn]})}}return n})();function gu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function QB(n){return null!=n&&"number"==typeof n.length}const ao=new he(""),_u=new he(""),ale=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qs{static min(t){return YB(t)}static max(t){return function ZB(n){return t=>{if(gu(t.value)||gu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return XB(t)}static requiredTrue(t){return function JB(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function e5(n){return gu(n.value)||ale.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function t5(n){return t=>gu(t.value)||!QB(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function n5(n){return t=>QB(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function r5(n){if(!n)return qE;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(gu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return u5(t)}static composeAsync(t){return d5(t)}}function YB(n){return t=>{if(gu(t.value)||gu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function XB(n){return gu(n.value)?{required:!0}:null}function qE(n){return null}function o5(n){return null!=n}function s5(n){return X_(n)?Yt(n):n}function a5(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function l5(n,t){return t.map(e=>e(n))}function c5(n){return n.map(t=>function lle(n){return!n.validate}(t)?t:e=>t.validate(e))}function u5(n){if(!n)return null;const t=n.filter(o5);return 0==t.length?null:function(e){return a5(l5(e,t))}}function ED(n){return null!=n?u5(c5(n)):null}function d5(n){if(!n)return null;const t=n.filter(o5);return 0==t.length?null:function(e){return wD(l5(e,t).map(s5)).pipe(Le(a5))}}function ID(n){return null!=n?d5(c5(n)):null}function h5(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function f5(n){return n._rawValidators}function m5(n){return n._rawAsyncValidators}function xD(n){return n?Array.isArray(n)?n:[n]:[]}function WE(n,t){return Array.isArray(n)?n.includes(t):n===t}function p5(n,t){const e=xD(t);return xD(n).forEach(r=>{WE(e,r)||e.push(r)}),e}function g5(n,t){return xD(t).filter(e=>!WE(n,e))}class _5{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ED(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ID(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Oo extends _5{get formDirective(){return null}get path(){return null}}class vu extends _5{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class v5{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let rl=(()=>{class n extends v5{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(z(vu,2))}}static{this.\u0275dir=at({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&_r("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[gn]})}}return n})(),yu=(()=>{class n extends v5{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(z(Oo,10))}}static{this.\u0275dir=at({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&_r("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[gn]})}}return n})();const Nv="VALID",QE="INVALID",Hm="PENDING",Fv="DISABLED";class $m{}class b5 extends $m{constructor(t,e){super(),this.value=t,this.source=e}}class AD extends $m{constructor(t,e){super(),this.pristine=t,this.source=e}}class SD extends $m{constructor(t,e){super(),this.touched=t,this.source=e}}class YE extends $m{constructor(t,e){super(),this.status=t,this.source=e}}class fle extends $m{constructor(t){super(),this.source=t}}class mle extends $m{constructor(t){super(),this.source=t}}function DD(n){return(ZE(n)?n.validators:n)||null}function MD(n,t){return(ZE(t)?t.asyncValidators:n)||null}function ZE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function w5(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new J(1e3,"");if(!i[e])throw new J(1001,"")}function E5(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new J(1002,"")})}class XE{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=iv(()=>this.statusReactive()),this.statusReactive=Vd(void 0),this._pristine=iv(()=>this.pristineReactive()),this.pristineReactive=Vd(!0),this._touched=iv(()=>this.touchedReactive()),this.touchedReactive=Vd(!1),this._events=new F,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return va(this.statusReactive)}set status(t){va(()=>this.statusReactive.set(t))}get valid(){return this.status===Nv}get invalid(){return this.status===QE}get pending(){return this.status==Hm}get disabled(){return this.status===Fv}get enabled(){return this.status!==Fv}get pristine(){return va(this.pristineReactive)}set pristine(t){va(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return va(this.touchedReactive)}set touched(t){va(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(p5(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(p5(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(g5(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(g5(t,this._rawAsyncValidators))}hasValidator(t){return WE(this._rawValidators,t)}hasAsyncValidator(t){return WE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new SD(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&!1!==t.emitEvent&&this._events.next(new SD(!1,i))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new AD(!1,i))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&!1!==t.emitEvent&&this._events.next(new AD(!0,i))}markAsPending(t={}){this.status=Hm;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new YE(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Fv,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue();const i=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new b5(this.value,i)),this._events.next(new YE(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Nv,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nv||this.status===Hm)&&this._runAsyncValidator(i,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new b5(this.value,e)),this._events.next(new YE(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fv:Nv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Hm,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const i=s5(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new YE(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new Qt,this.statusChanges=new Qt}_calculateStatus(){return this._allControlsDisabled()?Fv:this.errors?QE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hm)?Hm:this._anyControlsHaveStatus(QE)?QE:Nv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new AD(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new SD(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ZE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function ple(n){return Array.isArray(n)?ED(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function gle(n){return Array.isArray(n)?ID(n):n||null}(this._rawAsyncValidators)}}class Lv extends XE{constructor(t,e,i){super(DD(e),MD(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){E5(this,0,t),Object.keys(t).forEach(i=>{w5(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class I5 extends Lv{}const lh=new he("CallSetDisabledState",{providedIn:"root",factory:()=>Vv}),Vv="always";function JE(n,t){return[...t.path,n]}function Uv(n,t,e=Vv){RD(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function vle(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&x5(n,t)})}(n,t),function ble(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function yle(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&x5(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function _le(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function eI(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),nI(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function RD(n,t){const e=f5(n);null!==t.validator?n.setValidators(h5(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=m5(n);null!==t.asyncValidator?n.setAsyncValidators(h5(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();tI(t._rawValidators,r),tI(t._rawAsyncValidators,r)}function nI(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=f5(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=m5(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return tI(t._rawValidators,i),tI(t._rawAsyncValidators,i),e}function x5(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function C5(n,t){RD(n,t)}function kD(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function T5(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function OD(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Ks?e=o:function Ile(n){return Object.getPrototypeOf(n.constructor)===ah}(o)?i=o:r=o}),r||i||e||null}const Cle={provide:Oo,useExisting:Ln(()=>rc)},Bv=Promise.resolve();let rc=(()=>{class n extends Oo{get submitted(){return va(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=iv(()=>this.submittedReactive()),this.submittedReactive=Vd(!1),this._directives=new Set,this.ngSubmit=new Qt,this.form=new Lv({},ED(e),ID(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Bv.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Uv(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Bv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Bv.then(()=>{const i=this._findContainer(e.path),r=new Lv({});C5(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Bv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Bv.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),T5(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(z(ao,10),z(_u,10),z(lh,8))}}static{this.\u0275dir=at({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&le("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pi([Cle]),gn]})}}return n})();function A5(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function S5(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const jv=class extends XE{constructor(t=null,e,i){super(DD(e),MD(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ZE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=S5(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){A5(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){A5(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){S5(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let D5=(()=>{class n extends Oo{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return JE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})()}static{this.\u0275dir=at({type:n,features:[gn]})}}return n})();const Sle={provide:vu,useExisting:Ln(()=>Ca)},R5=Promise.resolve();let Ca=(()=>{class n extends vu{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new jv,this._registered=!1,this.name="",this.update=new Qt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=OD(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),kD(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Uv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){R5.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Hs(i);R5.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?JE(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(z(Oo,9),z(ao,10),z(_u,10),z(xa,10),z(Wl,8),z(lh,8))}}static{this.\u0275dir=at({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[pi([Sle]),gn,Or]})}}return n})(),bu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=at({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const Dle={provide:xa,useExisting:Ln(()=>ND),multi:!0};let ND=(()=>{class n extends ah{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})()}static{this.\u0275dir=at({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&le("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[pi([Dle]),gn]})}}return n})();const FD=new he(""),Ole={provide:Oo,useExisting:Ln(()=>iI)};let iI=(()=>{class n extends Oo{get submitted(){return va(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=iv(()=>this._submittedReactive()),this._submittedReactive=Vd(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Uv(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){eI(e.control||null,e,!1),function xle(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),T5(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new fle(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new mle(this.form))}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(eI(i||null,e),(n=>n instanceof jv)(r)&&(Uv(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);C5(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function wle(n,t){return nI(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){RD(this.form,this),this._oldForm&&nI(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(z(ao,10),z(_u,10),z(lh,8))}}static{this.\u0275dir=at({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&le("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pi([Ole]),gn,Or]})}}return n})();const Nle={provide:Oo,useExisting:Ln(()=>rI)};let rI=(()=>{class n extends D5{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){N5(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(z(Oo,13),z(ao,10),z(_u,10))}}static{this.\u0275dir=at({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[pi([Nle]),gn]})}}return n})();const Fle={provide:Oo,useExisting:Ln(()=>oI)};let oI=(()=>{class n extends Oo{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return JE(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){N5(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(z(Oo,13),z(ao,10),z(_u,10))}}static{this.\u0275dir=at({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[pi([Fle]),gn]})}}return n})();function N5(n){return!(n instanceof rI||n instanceof iI||n instanceof oI)}const Lle={provide:vu,useExisting:Ln(()=>LD)};let LD=(()=>{class n extends vu{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Qt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=OD(0,o)}ngOnChanges(e){this._added||this._setUpControl(),kD(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return JE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(z(Oo,13),z(ao,10),z(_u,10),z(xa,10),z(FD,8))}}static{this.\u0275dir=at({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[pi([Lle]),gn,Or]})}}return n})();const Vle={provide:xa,useExisting:Ln(()=>ch),multi:!0};function F5(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let ch=(()=>{class n extends ah{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=F5(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Ule(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})()}static{this.\u0275dir=at({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&le("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[pi([Vle]),gn]})}}return n})(),zv=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(F5(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(z(Qn),z(zl),z(ch,9))}}static{this.\u0275dir=at({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const Ble={provide:xa,useExisting:Ln(()=>VD),multi:!0};function L5(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let VD=(()=>{class n extends ah{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);r.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function jle(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})()}static{this.\u0275dir=at({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&le("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[pi([Ble]),gn]})}}return n})(),Hv=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(L5(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(L5(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(z(Qn),z(zl),z(VD,9))}}static{this.\u0275dir=at({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let uh=(()=>{class n{constructor(){this._validator=qE}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):qE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=at({type:n,features:[Or]})}}return n})();const Hle={provide:ao,useExisting:Ln(()=>UD),multi:!0};let UD=(()=>{class n extends uh{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function U5(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>YB(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})()}static{this.\u0275dir=at({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&ei("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[pi([Hle]),gn]})}}return n})();const $le={provide:ao,useExisting:Ln(()=>wu),multi:!0};let wu=(()=>{class n extends uh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Hs,this.createValidator=e=>XB}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})()}static{this.\u0275dir=at({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&ei("required",r._enabled?"":null)},inputs:{required:"required"},features:[pi([$le]),gn]})}}return n})(),q5=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({})}}return n})();class W5 extends XE{constructor(t,e,i){super(DD(e),MD(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){E5(this,0,t),t.forEach((i,r)=>{w5(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function K5(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Yle=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return K5(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Lv(r,o)}record(e,i=null){const r=this._reduceControls(e);return new I5(r,i)}control(e,i,r){let o={};return this.useNonNullable?(K5(i)?o=i:(o.validators=i,o.asyncValidators=r),new jv(e,{...o,nonNullable:!0})):new jv(e,i,r)}array(e,i,r){const o=e.map(s=>this._createControl(s));return new W5(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof jv||e instanceof XE?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Zle=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:lh,useValue:e.callSetDisabledState??Vv}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[q5]})}}return n})(),Xle=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:FD,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:lh,useValue:e.callSetDisabledState??Vv}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[q5]})}}return n})();var ol=Et(979);(0,ol.registerVersion)("firebase","10.14.1","app");class tce extends ct{constructor(t,e){super()}schedule(t,e=0){return this}}const sI={setInterval(n,t,...e){const{delegate:i}=sI;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=sI;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class aI extends tce{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return sI.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&sI.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Vt(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const BD={now:()=>(BD.delegate||Date).now(),delegate:void 0};class $v{constructor(t,e=$v.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}$v.now=BD.now;class lI extends $v{constructor(t,e=$v.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const rce=new class ice extends lI{}(class nce extends aI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Gm=new lI(aI),oce=Gm,qm=new ru("ANGULARFIRE2_VERSION");class cI{constructor(){return(n=>{const e=(0,ol.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(ace)}}const ace="app-check";function Wm(){}class Q5{zone;delegate;constructor(t,e=rce){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class lce{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wm,{},Wm,Wm)),e.pipe(vn({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let uI=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Q5(Zone.current)),this.insideAngular=e.run(()=>new Q5(Zone.current,Gm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(G(At))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Km(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Y5(n){return n.pipe(Za(Km().outsideAngular))}function No(n){return function uce(n){return function(e){return(e=e.lift(new lce(n.ngZone))).pipe(Sm(n.outsideAngular),Za(n.insideAngular))}}(Km())(n)}var Ys=Et(574);Ys.A.registerVersion("firebase","10.14.1","app-compat");const mce=["ngOnDestroy"],Z5=(n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(mce.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>e.run(()=>c)):e.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(h=>{const p=h?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,p),p})})})});class J5{constructor(t){return t}}const Qm=new he("angularfire2.app.options"),Ym=new he("angularfire2.app.name");function Gv(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=Ys.A.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Ys.A.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;pce("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new J5(s)}const pce=(n,...t)=>{},gce={provide:J5,useFactory:Gv,deps:[Qm,At,[new hs,Ym]]};let _ce=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:Qm,useValue:e},{provide:Ym,useValue:i}]}}constructor(e){Ys.A.registerVersion("angularfire",qm.full,"core"),Ys.A.registerVersion("angularfire",qm.full,"app-compat"),Ys.A.registerVersion("angular",EX.full,e.toString())}static \u0275fac=function(i){return new(i||n)(G(es))};static \u0275mod=Kt({type:n});static \u0275inj=Gt({providers:[gce]})}return n})();function dI(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function vce(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(e6("error",`${t} was already initialized on the ${e} Firebase App with different settings.${yce?" You may need to reload as Firebase is not HMR aware.":""}`),e6("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const yce=typeof module<"u"&&!!module.hot,e6=(n,...t)=>{};function hI(...n){const t=_v(n),e=function Tre(n,t){return"number"==typeof jS(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Po(i[0]):Rm(e)(Yt(i,t)):ko}globalThis.\u0275AngularfireInstanceCache||=[],Et(324);class bce extends F{constructor(t=1/0,e=1/0,i=BD){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function t6(n={}){const{connector:t=()=>new F,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,h=!1,p=!1;const b=()=>{a?.unsubscribe(),a=void 0},E=()=>{b(),s=l=void 0,h=p=!1},T=()=>{const R=s;E(),R?.unsubscribe()};return Qe((R,P)=>{c++,!p&&!h&&b();const H=l=l??t();P.add(()=>{c--,0===c&&!p&&!h&&(a=jD(T,r))}),H.subscribe(P),!s&&c>0&&(s=new ki({next:B=>H.next(B),error:B=>{p=!0,b(),a=jD(E,e,B),H.error(B)},complete:()=>{h=!0,b(),a=jD(E,i),H.complete()}}),Po(R).subscribe(s))})(o)}}function jD(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new ki({next:()=>{i.unsubscribe(),n()}});return Po(t(...e)).subscribe(i)}function qv(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,t6({connector:()=>new bce(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function n6(n,t){return nt(t)?St(()=>n,t):St(()=>n)}const i6=new he("angularfire2.auth.use-emulator"),r6=new he("angularfire2.auth.settings"),o6=new he("angularfire2.auth.tenant-id"),s6=new he("angularfire2.auth.langugage-code"),a6=new he("angularfire2.auth.use-device-language"),l6=new he("angularfire.auth.persistence"),c6=(n,t,e,i,r,o,s,a)=>dI(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=t.runOutsideAngular(()=>n.auth());if(e&&l.useEmulator(...e),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,h]of Object.entries(s))l.settings[c]=h;return a&&l.setPersistence(a),l},[e,i,r,o,s,a]);let Wv=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,l,c,h,p,b,E){const T=new F,R=qe(void 0).pipe(Za(s.outsideAngular),St(()=>o.runOutsideAngular(()=>Promise.resolve().then(Et.bind(Et,324)))),Le(()=>Gv(e,o,i)),Le(P=>c6(P,o,a,c,h,p,l,b)),qv({bufferSize:1,refCount:!1}));if(nE(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qe(null);else{R.pipe(mu()).subscribe();const P=R.pipe(St(Q=>Q.getRedirectResult().then(ge=>ge,()=>null)),No,qv({bufferSize:1,refCount:!1})),H=R.pipe(St(Q=>new Dn(ge=>({unsubscribe:o.runOutsideAngular(()=>Q.onAuthStateChanged(ze=>ge.next(ze),ze=>ge.error(ze),()=>ge.complete()))})))),B=R.pipe(St(Q=>new Dn(ge=>({unsubscribe:o.runOutsideAngular(()=>Q.onIdTokenChanged(ze=>ge.next(ze),ze=>ge.error(ze),()=>ge.complete()))}))));this.authState=P.pipe(n6(H),Sm(s.outsideAngular),Za(s.insideAngular)),this.user=P.pipe(n6(B),Sm(s.outsideAngular),Za(s.insideAngular)),this.idToken=this.user.pipe(St(Q=>Q?Yt(Q.getIdToken()):qe(null))),this.idTokenResult=this.user.pipe(St(Q=>Q?Yt(Q.getIdTokenResult()):qe(null))),this.credential=hI(P,T,this.authState.pipe(ur(Q=>!Q))).pipe(Le(Q=>Q?.user?Q:null),Sm(s.outsideAngular),Za(s.insideAngular))}return Z5(this,R,o,{spy:{apply:(P,H,B)=>{(P.startsWith("signIn")||P.startsWith("createUser"))&&B.then(Q=>T.next(Q))}}})}static \u0275fac=function(i){return new(i||n)(G(Qm),G(Ym,8),G(es),G(At),G(uI),G(i6,8),G(r6,8),G(o6,8),G(s6,8),G(a6,8),G(l6,8),G(cI,8))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Ece=(()=>{class n{constructor(){Ys.A.registerVersion("angularfire",qm.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Kt({type:n});static \u0275inj=Gt({providers:[Wv]})}return n})();function zD(){return Qe((n,t)=>{let e,i=!1;n.subscribe(Xe(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function u6(n,t=no){return n=n??Ice,Qe((e,i)=>{let r,o=!0;e.subscribe(Xe(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Ice(n,t){return n===t}var hh,f6,fI=Et(779),sl=Et(398),an=Et(401),d6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},h6={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r($,V,q){q||(q=0);var X=Array(16);if("string"==typeof V)for(var ne=0;16>ne;++ne)X[ne]=V.charCodeAt(q++)|V.charCodeAt(q++)<<8|V.charCodeAt(q++)<<16|V.charCodeAt(q++)<<24;else for(ne=0;16>ne;++ne)X[ne]=V[q++]|V[q++]<<8|V[q++]<<16|V[q++]<<24;var ce=$.g[3],K=(V=$.g[0])+(ce^(q=$.g[1])&((ne=$.g[2])^ce))+X[0]+3614090360&4294967295;K=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=(q=(ne=(ce=(V=q+(K<<7&4294967295|K>>>25))+((K=ce+(ne^V&(q^ne))+X[1]+3905402710&4294967295)<<12&4294967295|K>>>20))+((K=ne+(q^ce&(V^q))+X[2]+606105819&4294967295)<<17&4294967295|K>>>15))+((K=q+(V^ne&(ce^V))+X[3]+3250441966&4294967295)<<22&4294967295|K>>>10))+((K=V+(ce^q&(ne^ce))+X[4]+4118548399&4294967295)<<7&4294967295|K>>>25))+((K=ce+(ne^V&(q^ne))+X[5]+1200080426&4294967295)<<12&4294967295|K>>>20))+((K=ne+(q^ce&(V^q))+X[6]+2821735955&4294967295)<<17&4294967295|K>>>15))+((K=q+(V^ne&(ce^V))+X[7]+4249261313&4294967295)<<22&4294967295|K>>>10))+((K=V+(ce^q&(ne^ce))+X[8]+1770035416&4294967295)<<7&4294967295|K>>>25))+((K=ce+(ne^V&(q^ne))+X[9]+2336552879&4294967295)<<12&4294967295|K>>>20))+((K=ne+(q^ce&(V^q))+X[10]+4294925233&4294967295)<<17&4294967295|K>>>15))+((K=q+(V^ne&(ce^V))+X[11]+2304563134&4294967295)<<22&4294967295|K>>>10))+((K=V+(ce^q&(ne^ce))+X[12]+1804603682&4294967295)<<7&4294967295|K>>>25))+((K=ce+(ne^V&(q^ne))+X[13]+4254626195&4294967295)<<12&4294967295|K>>>20))+((K=ne+(q^ce&(V^q))+X[14]+2792965006&4294967295)<<17&4294967295|K>>>15))+((K=q+(V^ne&(ce^V))+X[15]+1236535329&4294967295)<<22&4294967295|K>>>10))+((K=V+(ne^ce&(q^ne))+X[1]+4129170786&4294967295)<<5&4294967295|K>>>27))+((K=ce+(q^ne&(V^q))+X[6]+3225465664&4294967295)<<9&4294967295|K>>>23))+((K=ne+(V^q&(ce^V))+X[11]+643717713&4294967295)<<14&4294967295|K>>>18))+((K=q+(ce^V&(ne^ce))+X[0]+3921069994&4294967295)<<20&4294967295|K>>>12))+((K=V+(ne^ce&(q^ne))+X[5]+3593408605&4294967295)<<5&4294967295|K>>>27))+((K=ce+(q^ne&(V^q))+X[10]+38016083&4294967295)<<9&4294967295|K>>>23))+((K=ne+(V^q&(ce^V))+X[15]+3634488961&4294967295)<<14&4294967295|K>>>18))+((K=q+(ce^V&(ne^ce))+X[4]+3889429448&4294967295)<<20&4294967295|K>>>12))+((K=V+(ne^ce&(q^ne))+X[9]+568446438&4294967295)<<5&4294967295|K>>>27))+((K=ce+(q^ne&(V^q))+X[14]+3275163606&4294967295)<<9&4294967295|K>>>23))+((K=ne+(V^q&(ce^V))+X[3]+4107603335&4294967295)<<14&4294967295|K>>>18))+((K=q+(ce^V&(ne^ce))+X[8]+1163531501&4294967295)<<20&4294967295|K>>>12))+((K=V+(ne^ce&(q^ne))+X[13]+2850285829&4294967295)<<5&4294967295|K>>>27))+((K=ce+(q^ne&(V^q))+X[2]+4243563512&4294967295)<<9&4294967295|K>>>23))+((K=ne+(V^q&(ce^V))+X[7]+1735328473&4294967295)<<14&4294967295|K>>>18))+((K=q+(ce^V&(ne^ce))+X[12]+2368359562&4294967295)<<20&4294967295|K>>>12))+((K=V+(q^ne^ce)+X[5]+4294588738&4294967295)<<4&4294967295|K>>>28))+((K=ce+(V^q^ne)+X[8]+2272392833&4294967295)<<11&4294967295|K>>>21))+((K=ne+(ce^V^q)+X[11]+1839030562&4294967295)<<16&4294967295|K>>>16))+((K=q+(ne^ce^V)+X[14]+4259657740&4294967295)<<23&4294967295|K>>>9))+((K=V+(q^ne^ce)+X[1]+2763975236&4294967295)<<4&4294967295|K>>>28))+((K=ce+(V^q^ne)+X[4]+1272893353&4294967295)<<11&4294967295|K>>>21))+((K=ne+(ce^V^q)+X[7]+4139469664&4294967295)<<16&4294967295|K>>>16))+((K=q+(ne^ce^V)+X[10]+3200236656&4294967295)<<23&4294967295|K>>>9))+((K=V+(q^ne^ce)+X[13]+681279174&4294967295)<<4&4294967295|K>>>28))+((K=ce+(V^q^ne)+X[0]+3936430074&4294967295)<<11&4294967295|K>>>21))+((K=ne+(ce^V^q)+X[3]+3572445317&4294967295)<<16&4294967295|K>>>16))+((K=q+(ne^ce^V)+X[6]+76029189&4294967295)<<23&4294967295|K>>>9))+((K=V+(q^ne^ce)+X[9]+3654602809&4294967295)<<4&4294967295|K>>>28))+((K=ce+(V^q^ne)+X[12]+3873151461&4294967295)<<11&4294967295|K>>>21))+((K=ne+(ce^V^q)+X[15]+530742520&4294967295)<<16&4294967295|K>>>16))+((K=q+(ne^ce^V)+X[2]+3299628645&4294967295)<<23&4294967295|K>>>9))+((K=V+(ne^(q|~ce))+X[0]+4096336452&4294967295)<<6&4294967295|K>>>26))+((K=ce+(q^(V|~ne))+X[7]+1126891415&4294967295)<<10&4294967295|K>>>22))+((K=ne+(V^(ce|~q))+X[14]+2878612391&4294967295)<<15&4294967295|K>>>17))+((K=q+(ce^(ne|~V))+X[5]+4237533241&4294967295)<<21&4294967295|K>>>11))+((K=V+(ne^(q|~ce))+X[12]+1700485571&4294967295)<<6&4294967295|K>>>26))+((K=ce+(q^(V|~ne))+X[3]+2399980690&4294967295)<<10&4294967295|K>>>22))+((K=ne+(V^(ce|~q))+X[10]+4293915773&4294967295)<<15&4294967295|K>>>17))+((K=q+(ce^(ne|~V))+X[1]+2240044497&4294967295)<<21&4294967295|K>>>11))+((K=V+(ne^(q|~ce))+X[8]+1873313359&4294967295)<<6&4294967295|K>>>26))+((K=ce+(q^(V|~ne))+X[15]+4264355552&4294967295)<<10&4294967295|K>>>22))+((K=ne+(V^(ce|~q))+X[6]+2734768916&4294967295)<<15&4294967295|K>>>17))+((K=q+(ce^(ne|~V))+X[13]+1309151649&4294967295)<<21&4294967295|K>>>11))+((ce=(V=q+((K=V+(ne^(q|~ce))+X[4]+4149444226&4294967295)<<6&4294967295|K>>>26))+((K=ce+(q^(V|~ne))+X[11]+3174756917&4294967295)<<10&4294967295|K>>>22))^((ne=ce+((K=ne+(V^(ce|~q))+X[2]+718787259&4294967295)<<15&4294967295|K>>>17))|~V))+X[9]+3951481745&4294967295,$.g[0]=$.g[0]+V&4294967295,$.g[1]=$.g[1]+(ne+(K<<21&4294967295|K>>>11))&4294967295,$.g[2]=$.g[2]+ne&4294967295,$.g[3]=$.g[3]+ce&4294967295}function s($,V){this.h=V;for(var q=[],X=!0,ne=$.length-1;0<=ne;ne--){var ce=0|$[ne];X&&ce==V||(q[ne]=ce,X=!1)}this.g=q}(function t($,V){function q(){}q.prototype=V.prototype,$.D=V.prototype,$.prototype=new q,$.prototype.constructor=$,$.C=function(X,ne,ce){for(var K=Array(arguments.length-2),ea=2;ea<arguments.length;ea++)K[ea-2]=arguments[ea];return V.prototype[ne].apply(X,K)}})(i,function e(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function($,V){void 0===V&&(V=$.length);for(var q=V-this.blockSize,X=this.B,ne=this.h,ce=0;ce<V;){if(0==ne)for(;ce<=q;)r(this,$,ce),ce+=this.blockSize;if("string"==typeof $){for(;ce<V;)if(X[ne++]=$.charCodeAt(ce++),ne==this.blockSize){r(this,X),ne=0;break}}else for(;ce<V;)if(X[ne++]=$[ce++],ne==this.blockSize){r(this,X),ne=0;break}}this.h=ne,this.o+=V},i.prototype.v=function(){var $=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$[0]=128;for(var V=1;V<$.length-8;++V)$[V]=0;var q=8*this.o;for(V=$.length-8;V<$.length;++V)$[V]=255&q,q/=256;for(this.u($),$=Array(16),V=q=0;4>V;++V)for(var X=0;32>X;X+=8)$[q++]=this.g[V]>>>X&255;return $};var a={};function l($){return-128<=$&&128>$?function o($,V){var q=a;return Object.prototype.hasOwnProperty.call(q,$)?q[$]:q[$]=V($)}($,function(V){return new s([0|V],0>V?-1:0)}):new s([0|$],0>$?-1:0)}function c($){if(isNaN($)||!isFinite($))return p;if(0>$)return P(c(-$));for(var V=[],q=1,X=0;$>=q;X++)V[X]=$/q|0,q*=4294967296;return new s(V,0)}var p=l(0),b=l(1),E=l(16777216);function T($){if(0!=$.h)return!1;for(var V=0;V<$.g.length;V++)if(0!=$.g[V])return!1;return!0}function R($){return-1==$.h}function P($){for(var V=$.g.length,q=[],X=0;X<V;X++)q[X]=~$.g[X];return new s(q,~$.h).add(b)}function H($,V){return $.add(P(V))}function B($,V){for(;(65535&$[V])!=$[V];)$[V+1]+=$[V]>>>16,$[V]&=65535,V++}function Q($,V){this.g=$,this.h=V}function ge($,V){if(T(V))throw Error("division by zero");if(T($))return new Q(p,p);if(R($))return V=ge(P($),V),new Q(P(V.g),P(V.h));if(R(V))return V=ge($,P(V)),new Q(P(V.g),V.h);if(30<$.g.length){if(R($)||R(V))throw Error("slowDivide_ only works with positive integers.");for(var q=b,X=V;0>=X.l($);)q=ze(q),X=ze(X);var ne=We(q,1),ce=We(X,1);for(X=We(X,2),q=We(q,2);!T(X);){var K=ce.add(X);0>=K.l($)&&(ne=ne.add(q),ce=K),X=We(X,1),q=We(q,1)}return V=H($,ne.j(V)),new Q(ne,V)}for(ne=p;0<=$.l(V);){for(q=Math.max(1,Math.floor($.m()/V.m())),X=48>=(X=Math.ceil(Math.log(q)/Math.LN2))?1:Math.pow(2,X-48),K=(ce=c(q)).j(V);R(K)||0<K.l($);)K=(ce=c(q-=X)).j(V);T(ce)&&(ce=b),ne=ne.add(ce),$=H($,K)}return new Q(ne,$)}function ze($){for(var V=$.g.length+1,q=[],X=0;X<V;X++)q[X]=$.i(X)<<1|$.i(X-1)>>>31;return new s(q,$.h)}function We($,V){var q=V>>5;V%=32;for(var X=$.g.length-q,ne=[],ce=0;ce<X;ce++)ne[ce]=0<V?$.i(ce+q)>>>V|$.i(ce+q+1)<<32-V:$.i(ce+q);return new s(ne,$.h)}(n=s.prototype).m=function(){if(R(this))return-P(this).m();for(var $=0,V=1,q=0;q<this.g.length;q++){var X=this.i(q);$+=(0<=X?X:4294967296+X)*V,V*=4294967296}return $},n.toString=function($){if(2>($=$||10)||36<$)throw Error("radix out of range: "+$);if(T(this))return"0";if(R(this))return"-"+P(this).toString($);for(var V=c(Math.pow($,6)),q=this,X="";;){var ne=ge(q,V).g,ce=((0<(q=H(q,ne.j(V))).g.length?q.g[0]:q.h)>>>0).toString($);if(T(q=ne))return ce+X;for(;6>ce.length;)ce="0"+ce;X=ce+X}},n.i=function($){return 0>$?0:$<this.g.length?this.g[$]:this.h},n.l=function($){return R($=H(this,$))?-1:T($)?0:1},n.abs=function(){return R(this)?P(this):this},n.add=function($){for(var V=Math.max(this.g.length,$.g.length),q=[],X=0,ne=0;ne<=V;ne++){var ce=X+(65535&this.i(ne))+(65535&$.i(ne)),K=(ce>>>16)+(this.i(ne)>>>16)+($.i(ne)>>>16);X=K>>>16,q[ne]=(K&=65535)<<16|(ce&=65535)}return new s(q,-2147483648&q[q.length-1]?-1:0)},n.j=function($){if(T(this)||T($))return p;if(R(this))return R($)?P(this).j(P($)):P(P(this).j($));if(R($))return P(this.j(P($)));if(0>this.l(E)&&0>$.l(E))return c(this.m()*$.m());for(var V=this.g.length+$.g.length,q=[],X=0;X<2*V;X++)q[X]=0;for(X=0;X<this.g.length;X++)for(var ne=0;ne<$.g.length;ne++){var ce=this.i(X)>>>16,K=65535&this.i(X),ea=$.i(ne)>>>16,Gu=65535&$.i(ne);q[2*X+2*ne]+=K*Gu,B(q,2*X+2*ne),q[2*X+2*ne+1]+=ce*Gu,B(q,2*X+2*ne+1),q[2*X+2*ne+1]+=K*ea,B(q,2*X+2*ne+1),q[2*X+2*ne+2]+=ce*ea,B(q,2*X+2*ne+2)}for(X=0;X<V;X++)q[X]=q[2*X+1]<<16|q[2*X];for(X=V;X<2*V;X++)q[X]=0;return new s(q,0)},n.A=function($){return ge(this,$).h},n.and=function($){for(var V=Math.max(this.g.length,$.g.length),q=[],X=0;X<V;X++)q[X]=this.i(X)&$.i(X);return new s(q,this.h&$.h)},n.or=function($){for(var V=Math.max(this.g.length,$.g.length),q=[],X=0;X<V;X++)q[X]=this.i(X)|$.i(X);return new s(q,this.h|$.h)},n.xor=function($){for(var V=Math.max(this.g.length,$.g.length),q=[],X=0;X<V;X++)q[X]=this.i(X)^$.i(X);return new s(q,this.h^$.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,f6=h6.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function h($,V){if(0==$.length)throw Error("number format error: empty string");if(2>(V=V||10)||36<V)throw Error("radix out of range: "+V);if("-"==$.charAt(0))return P(h($.substring(1),V));if(0<=$.indexOf("-"))throw Error('number format error: interior "-" character');for(var q=c(Math.pow(V,8)),X=p,ne=0;ne<$.length;ne+=8){var ce=Math.min(8,$.length-ne),K=parseInt($.substring(ne,ne+ce),V);8>ce?(ce=c(Math.pow(V,ce)),X=X.j(ce).add(c(K))):X=(X=X.j(q)).add(c(K))}return X},hh=h6.Integer=s}).apply(typeof d6<"u"?d6:typeof self<"u"?self:typeof window<"u"?window:{});var m6,Kv,p6,pI,HD,g6,_6,v6,mI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oc={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(f,w,C){return f==Array.prototype||f==Object.prototype||(f[w]=C.value),f},i=function e(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof mI&&mI];for(var w=0;w<f.length;++w){var C=f[w];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}(this);!function r(f,w){if(w)e:{var C=i;f=f.split(".");for(var k=0;k<f.length-1;k++){var se=f[k];if(!(se in C))break e;C=C[se]}(w=w(k=C[f=f[f.length-1]]))!=k&&null!=w&&t(C,f,{configurable:!0,writable:!0,value:w})}}("Array.prototype.values",function(f){return f||function(){return function o(f,w){f instanceof String&&(f+="");var C=0,k=!1,se={next:function(){if(!k&&C<f.length){var Ce=C++;return{value:w(Ce,f[Ce]),done:!1}}return k=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}(this,function(w,C){return C})}});var s=s||{},a=this||self;function l(f){var w=typeof f;return"array"==(w="object"!=w?w:f?Array.isArray(f)?"array":w:"null")||"object"==w&&"number"==typeof f.length}function c(f){var w=typeof f;return"object"==w&&null!=f||"function"==w}function h(f,w,C){return f.call.apply(f.bind,arguments)}function p(f,w,C){if(!f)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,k),f.apply(w,se)}}return function(){return f.apply(w,arguments)}}function b(f,w,C){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?h:p).apply(null,arguments)}function E(f,w){var C=Array.prototype.slice.call(arguments,1);return function(){var k=C.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function T(f,w){function C(){}C.prototype=w.prototype,f.aa=w.prototype,f.prototype=new C,f.prototype.constructor=f,f.Qb=function(k,se,Ce){for(var tt=Array(arguments.length-2),ai=2;ai<arguments.length;ai++)tt[ai-2]=arguments[ai];return w.prototype[se].apply(k,tt)}}function R(f){const w=f.length;if(0<w){const C=Array(w);for(let k=0;k<w;k++)C[k]=f[k];return C}return[]}function P(f,w){for(let C=1;C<arguments.length;C++){const k=arguments[C];if(l(k)){const se=f.length||0,Ce=k.length||0;f.length=se+Ce;for(let tt=0;tt<Ce;tt++)f[se+tt]=k[tt]}else f.push(k)}}function B(f){return/^[\s\xa0]*$/.test(f)}function Q(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function ge(f){return ge[" "](f),f}ge[" "]=function(){};var ze=!(-1==Q().indexOf("Gecko")||-1!=Q().toLowerCase().indexOf("webkit")&&-1==Q().indexOf("Edge")||-1!=Q().indexOf("Trident")||-1!=Q().indexOf("MSIE")||-1!=Q().indexOf("Edge"));function We(f,w,C){for(const k in f)w.call(C,f[k],k,f)}function V(f){const w={};for(const C in f)w[C]=f[C];return w}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(f,w){let C,k;for(let se=1;se<arguments.length;se++){for(C in k=arguments[se],k)f[C]=k[C];for(let Ce=0;Ce<q.length;Ce++)C=q[Ce],Object.prototype.hasOwnProperty.call(k,C)&&(f[C]=k[C])}}function ne(f){var w=1;f=f.split(":");const C=[];for(;0<w&&f.length;)C.push(f.shift()),w--;return f.length&&C.push(f.join(":")),C}function ce(f){a.setTimeout(()=>{throw f},0)}function K(){var f=yn;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}var Gu=new class H{constructor(w,C){this.i=w,this.j=C,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}(()=>new mt,f=>f.reset());class mt{constructor(){this.next=this.g=this.h=null}set(w,C){this.h=w,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let xt,Rt=!1,yn=new class ea{constructor(){this.h=this.g=null}add(w,C){const k=Gu.get();k.set(w,C),this.h?this.h.next=k:this.g=k,this.h=k}},fr=()=>{const f=a.Promise.resolve(void 0);xt=()=>{f.then(ta)}};var ta=()=>{for(var f;f=K();){try{f.h.call(f.g)}catch(C){ce(C)}var w=Gu;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}Rt=!1};function Zi(){this.s=this.s,this.C=this.C}function Di(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}Zi.prototype.s=!1,Zi.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Di.prototype.h=function(){this.defaultPrevented=!0};var Mi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};a.addEventListener("test",C,w),a.removeEventListener("test",C,w)}catch{}return f}();function qu(f,w){if(Di.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var C=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(ze){e:{try{ge(w.nodeName);var se=!0;break e}catch{}se=!1}se||(w=null)}}else"mouseover"==C?w=f.fromElement:"mouseout"==C&&(w=f.toElement);this.relatedTarget=w,k?(this.clientX=void 0!==k.clientX?k.clientX:k.pageX,this.clientY=void 0!==k.clientY?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:uk[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&qu.aa.h.call(this)}}T(qu,Di);var uk={2:"touch",3:"pen",4:"mouse"};qu.prototype.h=function(){qu.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xi="closure_listenable_"+(1e6*Math.random()|0),yc=0;function ls(f,w,C,k,se){this.listener=f,this.proxy=null,this.src=w,this.type=C,this.capture=!!k,this.ha=se,this.key=++yc,this.da=this.fa=!1}function bc(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Wu(f){this.src=f,this.g={},this.h=0}function dk(f,w){var C=w.type;if(C in f.g){var Ce,k=f.g[C],se=Array.prototype.indexOf.call(k,w,void 0);(Ce=0<=se)&&Array.prototype.splice.call(k,se,1),Ce&&(bc(w),0==f.g[C].length&&(delete f.g[C],f.h--))}}function hk(f,w,C,k){for(var se=0;se<f.length;++se){var Ce=f[se];if(!Ce.da&&Ce.listener==w&&Ce.capture==!!C&&Ce.ha==k)return se}return-1}Wu.prototype.add=function(f,w,C,k,se){var Ce=f.toString();(f=this.g[Ce])||(f=this.g[Ce]=[],this.h++);var tt=hk(f,w,k,se);return-1<tt?(w=f[tt],C||(w.fa=!1)):((w=new ls(w,this.src,Ce,!!k,se)).fa=C,f.push(w)),w};var fk="closure_lm_"+(1e6*Math.random()|0),mk={};function C7(f,w,C,k,se){if(k&&k.once)return A7(f,w,C,k,se);if(Array.isArray(w)){for(var Ce=0;Ce<w.length;Ce++)C7(f,w[Ce],C,k,se);return null}return C=vk(C),f&&f[Xi]?f.K(w,C,c(k)?!!k.capture:!!k,se):T7(f,w,C,!1,k,se)}function T7(f,w,C,k,se,Ce){if(!w)throw Error("Invalid event type");var tt=c(se)?!!se.capture:!!se,ai=gk(f);if(ai||(f[fk]=ai=new Wu(f)),(C=ai.add(w,C,k,tt,Ce)).proxy)return C;if(k=function lIe(){const w=cIe;return function f(C){return w.call(f.src,f.listener,C)}}(),C.proxy=k,k.src=f,k.listener=C,f.addEventListener)Mi||(se=tt),void 0===se&&(se=!1),f.addEventListener(w.toString(),k,se);else if(f.attachEvent)f.attachEvent(D7(w.toString()),k);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(k)}return C}function A7(f,w,C,k,se){if(Array.isArray(w)){for(var Ce=0;Ce<w.length;Ce++)A7(f,w[Ce],C,k,se);return null}return C=vk(C),f&&f[Xi]?f.L(w,C,c(k)?!!k.capture:!!k,se):T7(f,w,C,!0,k,se)}function S7(f,w,C,k,se){if(Array.isArray(w))for(var Ce=0;Ce<w.length;Ce++)S7(f,w[Ce],C,k,se);else k=c(k)?!!k.capture:!!k,C=vk(C),f&&f[Xi]?(f=f.i,(w=String(w).toString())in f.g&&-1<(C=hk(Ce=f.g[w],C,k,se))&&(bc(Ce[C]),Array.prototype.splice.call(Ce,C,1),0==Ce.length&&(delete f.g[w],f.h--))):f&&(f=gk(f))&&(w=f.g[w.toString()],f=-1,w&&(f=hk(w,C,k,se)),(C=-1<f?w[f]:null)&&pk(C))}function pk(f){if("number"!=typeof f&&f&&!f.da){var w=f.src;if(w&&w[Xi])dk(w.i,f);else{var C=f.type,k=f.proxy;w.removeEventListener?w.removeEventListener(C,k,f.capture):w.detachEvent?w.detachEvent(D7(C),k):w.addListener&&w.removeListener&&w.removeListener(k),(C=gk(w))?(dk(C,f),0==C.h&&(C.src=null,w[fk]=null)):bc(f)}}}function D7(f){return f in mk?mk[f]:mk[f]="on"+f}function cIe(f,w){if(f.da)f=!0;else{w=new qu(w,this);var C=f.listener,k=f.ha||f.src;f.fa&&pk(f),f=C.call(k,w)}return f}function gk(f){return(f=f[fk])instanceof Wu?f:null}var _k="__closure_events_fn_"+(1e9*Math.random()>>>0);function vk(f){return"function"==typeof f?f:(f[_k]||(f[_k]=function(w){return f.handleEvent(w)}),f[_k])}function po(){Zi.call(this),this.i=new Wu(this),this.M=this,this.F=null}function jo(f,w){var C,k=f.F;if(k)for(C=[];k;k=k.F)C.push(k);if(f=f.M,k=w.type||w,"string"==typeof w)w=new Di(w,f);else if(w instanceof Di)w.target=w.target||f;else{var se=w;X(w=new Di(k,f),se)}if(se=!0,C)for(var Ce=C.length-1;0<=Ce;Ce--){var tt=w.g=C[Ce];se=Zx(tt,k,!0,w)&&se}if(se=Zx(tt=w.g=f,k,!0,w)&&se,se=Zx(tt,k,!1,w)&&se,C)for(Ce=0;Ce<C.length;Ce++)se=Zx(tt=w.g=C[Ce],k,!1,w)&&se}function Zx(f,w,C,k){if(!(w=f.i.g[String(w)]))return!0;w=w.concat();for(var se=!0,Ce=0;Ce<w.length;++Ce){var tt=w[Ce];if(tt&&!tt.da&&tt.capture==C){var ai=tt.listener,Jr=tt.ha||tt.src;tt.fa&&dk(f.i,tt),se=!1!==ai.call(Jr,k)&&se}}return se&&!k.defaultPrevented}function M7(f,w,C){if("function"==typeof f)C&&(f=b(f,C));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=b(f.handleEvent,f)}return 2147483647<Number(w)?-1:a.setTimeout(f,w||0)}function R7(f){f.g=M7(()=>{f.g=null,f.i&&(f.i=!1,R7(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}T(po,Zi),po.prototype[Xi]=!0,po.prototype.removeEventListener=function(f,w,C,k){S7(this,f,w,C,k)},po.prototype.N=function(){if(po.aa.N.call(this),this.i){var w,f=this.i;for(w in f.g){for(var C=f.g[w],k=0;k<C.length;k++)bc(C[k]);delete f.g[w],f.h--}}this.F=null},po.prototype.K=function(f,w,C,k){return this.i.add(String(f),w,!1,C,k)},po.prototype.L=function(f,w,C,k){return this.i.add(String(f),w,!0,C,k)};class uIe extends Zi{constructor(w,C){super(),this.m=w,this.l=C,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:R7(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nb(f){Zi.call(this),this.h=f,this.g={}}T(nb,Zi);var P7=[];function k7(f){We(f.g,function(w,C){this.g.hasOwnProperty(C)&&pk(w)},f),f.g={}}nb.prototype.N=function(){nb.aa.N.call(this),k7(this)},nb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yk=a.JSON.stringify,dIe=a.JSON.parse,hIe=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function bk(){}function N7(){}bk.prototype.h=null;var ib={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wk(){Di.call(this,"d")}function Ek(){Di.call(this,"c")}T(wk,Di),T(Ek,Di);var zh={},F7=null;function Xx(){return F7=F7||new po}function L7(f){Di.call(this,zh.La,f)}function rb(f){const w=Xx();jo(w,new L7(w))}function V7(f,w){Di.call(this,zh.STAT_EVENT,f),this.stat=w}function zo(f){const w=Xx();jo(w,new V7(w,f))}function U7(f,w){Di.call(this,zh.Ma,f),this.size=w}function ob(f,w){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},w)}function sb(){this.g=!0}function $p(f,w,C,k){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+function gIe(f,w){if(!f.g)return w;if(!w)return null;try{var C=JSON.parse(w);if(C)for(f=0;f<C.length;f++)if(Array.isArray(C[f])){var k=C[f];if(!(2>k.length)){var se=k[1];if(Array.isArray(se)&&!(1>se.length)){var Ce=se[0];if("noop"!=Ce&&"stop"!=Ce&&"close"!=Ce)for(var tt=1;tt<se.length;tt++)se[tt]=""}}}return yk(C)}catch{return w}}(f,C)+(k?" "+k:"")})}zh.La="serverreachability",T(L7,Di),zh.STAT_EVENT="statevent",T(V7,Di),zh.Ma="timingevent",T(U7,Di),sb.prototype.xa=function(){this.g=!1},sb.prototype.info=function(){};var Ik,Jx={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},B7={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eC(){}function Ku(f,w,C,k){this.j=f,this.i=w,this.l=C,this.R=k||1,this.U=new nb(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new j7}function j7(){this.i=null,this.g="",this.h=!1}T(eC,bk),eC.prototype.g=function(){return new XMLHttpRequest},eC.prototype.i=function(){return{}},Ik=new eC;var z7={},xk={};function Ck(f,w,C){f.L=1,f.v=rC(wc(w)),f.m=C,f.P=!0,H7(f,null)}function H7(f,w){f.F=Date.now(),tC(f),f.A=wc(f.v);var C=f.A,k=f.R;Array.isArray(k)||(k=[String(k)]),i$(C.i,"t",k),f.C=0,C=f.j.J,f.h=new j7,f.g=w$(f.j,C?w:null,!f.m),0<f.O&&(f.M=new uIe(b(f.Y,f,f.g),f.O)),w=f.U,C=f.g,k=f.ca;var se="readystatechange";Array.isArray(se)||(se&&(P7[0]=se.toString()),se=P7);for(var Ce=0;Ce<se.length;Ce++){var tt=C7(C,se[Ce],k||w.handleEvent,!1,w.h||w);if(!tt)break;w.g[tt.key]=tt}w=f.H?V(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),rb(),function fIe(f,w,C,k,se,Ce){f.info(function(){if(f.g)if(Ce)for(var tt="",ai=Ce.split("&"),Jr=0;Jr<ai.length;Jr++){var Nn=ai[Jr].split("=");if(1<Nn.length){var go=Nn[0];Nn=Nn[1];var _o=go.split("_");tt=2<=_o.length&&"type"==_o[1]?tt+(go+"=")+Nn+"&":tt+(go+"=redacted&")}}else tt=null;else tt=Ce;return"XMLHTTP REQ ("+k+") [attempt "+se+"]: "+w+"\n"+C+"\n"+tt})}(f.i,f.u,f.A,f.l,f.R,f.m)}function $7(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function _Ie(f,w){var C=f.C,k=w.indexOf("\n",C);return-1==k?xk:(C=Number(w.substring(C,k)),isNaN(C)?z7:(k+=1)+C>w.length?xk:(w=w.slice(k,k+C),f.C=k+C,w))}function tC(f){f.S=Date.now()+f.I,G7(f,f.I)}function G7(f,w){if(null!=f.B)throw Error("WatchDog timer not null");f.B=ob(b(f.ba,f),w)}function Tk(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function ab(f){0==f.j.G||f.J||_$(f.j,f)}function Hh(f){Tk(f);var w=f.M;w&&"function"==typeof w.ma&&w.ma(),f.M=null,k7(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function Ak(f,w){try{var C=f.j;if(0!=C.G&&(C.g==f||Sk(C.h,f)))if(!f.K&&Sk(C.h,f)&&3==C.G){try{var k=C.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&3==k.length){var se=k;if(0==se[0]){e:if(!C.u){if(C.g){if(!(C.g.F+3e3<f.F))break e;cC(C),aC(C)}Pk(C),zo(18)}}else C.za=se[1],0<C.za-C.T&&37500>se[2]&&C.F&&0==C.v&&!C.C&&(C.C=ob(b(C.Za,C),6e3));if(1>=K7(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Gh(C,11)}else if((f.K||C.g==f)&&cC(C),!B(w))for(se=C.Da.g.parse(w),w=0;w<se.length;w++){let Nn=se[w];if(C.T=Nn[0],Nn=Nn[1],2==C.G)if("c"==Nn[0]){C.K=Nn[1],C.ia=Nn[2];const go=Nn[3];null!=go&&(C.la=go,C.j.info("VER="+C.la));const _o=Nn[4];null!=_o&&(C.Aa=_o,C.j.info("SVER="+C.Aa));const Wp=Nn[5];null!=Wp&&"number"==typeof Wp&&0<Wp&&(C.L=k=1.5*Wp,C.j.info("backChannelRequestTimeoutMs_="+k)),k=C;const Da=f.g;if(Da){const dC=Da.g?Da.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dC){var Ce=k.h;Ce.g||-1==dC.indexOf("spdy")&&-1==dC.indexOf("quic")&&-1==dC.indexOf("h2")||(Ce.j=Ce.l,Ce.g=new Set,Ce.h&&(Dk(Ce,Ce.h),Ce.h=null))}if(k.D){const Ok=Da.g?Da.g.getResponseHeader("X-HTTP-Session-Id"):null;Ok&&(k.ya=Ok,Ri(k.I,k.D,Ok))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-f.F,C.j.info("Handshake RTT: "+C.R+"ms"));var tt=f;if((k=C).qa=b$(k,k.J?k.ia:null,k.W),tt.K){Q7(k.h,tt);var ai=tt,Jr=k.L;Jr&&(ai.I=Jr),ai.B&&(Tk(ai),tC(ai)),k.g=tt}else p$(k);0<C.i.length&&lC(C)}else"stop"!=Nn[0]&&"close"!=Nn[0]||Gh(C,7);else 3==C.G&&("stop"==Nn[0]||"close"==Nn[0]?"stop"==Nn[0]?Gh(C,7):Rk(C):"noop"!=Nn[0]&&C.l&&C.l.ta(Nn),C.v=0)}rb()}catch{}}Ku.prototype.ca=function(f){f=f.target;const w=this.M;w&&3==Ec(f)?w.j():this.Y(f)},Ku.prototype.Y=function(f){try{if(f==this.g)e:{const _o=Ec(this.g);var w=this.g.Ba();if(this.g.Z(),!(3>_o)&&(3!=_o||this.g&&(this.h.h||this.g.oa()||u$(this.g)))){this.J||4!=_o||7==w||rb(),Tk(this);var C=this.g.Z();this.X=C;t:if($7(this)){var k=u$(this.g);f="";var se=k.length,Ce=4==Ec(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hh(this),ab(this);var tt="";break t}this.h.i=new a.TextDecoder}for(w=0;w<se;w++)this.h.h=!0,f+=this.h.i.decode(k[w],{stream:!(Ce&&w==se-1)});k.length=0,this.h.g+=f,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=200==C,function mIe(f,w,C,k,se,Ce,tt){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+se+"]: "+w+"\n"+C+"\n"+Ce+" "+tt})}(this.i,this.u,this.A,this.l,this.R,_o,C),this.o){if(this.T&&!this.K){t:{if(this.g){var ai,Jr=this.g;if((ai=Jr.g?Jr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(ai)){var Nn=ai;break t}}Nn=null}if(!(C=Nn)){this.o=!1,this.s=3,zo(12),Hh(this),ab(this);break e}$p(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ak(this,C)}if(this.P){let Da;for(C=!0;!this.J&&this.C<tt.length;){if(Da=_Ie(this,tt),Da==xk){4==_o&&(this.s=4,zo(14),C=!1),$p(this.i,this.l,null,"[Incomplete Response]");break}if(Da==z7){this.s=4,zo(15),$p(this.i,this.l,tt,"[Invalid Chunk]"),C=!1;break}$p(this.i,this.l,Da,null),Ak(this,Da)}if($7(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=_o||0!=tt.length||this.h.h||(this.s=1,zo(16),C=!1),this.o=this.o&&C,C){if(0<tt.length&&!this.W){this.W=!0;var go=this.j;go.g==this&&go.ba&&!go.M&&(go.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),kk(go),go.M=!0,zo(11))}}else $p(this.i,this.l,tt,"[Invalid Chunked Response]"),Hh(this),ab(this)}else $p(this.i,this.l,tt,null),Ak(this,tt);4==_o&&Hh(this),this.o&&!this.J&&(4==_o?_$(this.j,this):(this.o=!1,tC(this)))}else(function OIe(f){const w={};f=(f.g&&2<=Ec(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let k=0;k<f.length;k++){if(B(f[k]))continue;var C=ne(f[k]);const se=C[0];if("string"!=typeof(C=C[1]))continue;C=C.trim();const Ce=w[se]||[];w[se]=Ce,Ce.push(C)}!function $(f,w){for(const C in f)w.call(void 0,f[C],C,f)}(w,function(k){return k.join(", ")})})(this.g),400==C&&0<tt.indexOf("Unknown SID")?(this.s=3,zo(12)):(this.s=0,zo(13)),Hh(this),ab(this)}}}catch{}},Ku.prototype.cancel=function(){this.J=!0,Hh(this)},Ku.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function pIe(f,w){f.info(function(){return"TIMEOUT: "+w})}(this.i,this.A),2!=this.L&&(rb(),zo(17)),Hh(this),this.s=2,ab(this)):G7(this,this.S-f)};var vIe=class{constructor(f,w){this.g=f,this.map=w}};function q7(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function W7(f){return!!f.h||!!f.g&&f.g.size>=f.j}function K7(f){return f.h?1:f.g?f.g.size:0}function Sk(f,w){return f.h?f.h==w:!!f.g&&f.g.has(w)}function Dk(f,w){f.g?f.g.add(w):f.h=w}function Q7(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}function Y7(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let w=f.i;for(const C of f.g.values())w=w.concat(C.D);return w}return R(f.i)}function Z7(f,w){if(f.forEach&&"function"==typeof f.forEach)f.forEach(w,void 0);else if(l(f)||"string"==typeof f)Array.prototype.forEach.call(f,w,void 0);else for(var C=function bIe(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||"string"==typeof f){var w=[];f=f.length;for(var C=0;C<f;C++)w.push(C);return w}w=[],C=0;for(const k in f)w[C++]=k;return w}}}(f),k=function yIe(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(l(f)){for(var w=[],C=f.length,k=0;k<C;k++)w.push(f[k]);return w}for(k in w=[],C=0,f)w[C++]=f[k];return w}(f),se=k.length,Ce=0;Ce<se;Ce++)w.call(void 0,k[Ce],C&&C[Ce],f)}q7.prototype.cancel=function(){if(this.i=Y7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var X7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $h(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof $h){this.h=f.h,nC(this,f.j),this.o=f.o,this.g=f.g,iC(this,f.s),this.l=f.l;var w=f.i,C=new ub;C.i=w.i,w.g&&(C.g=new Map(w.g),C.h=w.h),J7(this,C),this.m=f.m}else f&&(w=String(f).match(X7))?(this.h=!1,nC(this,w[1]||"",!0),this.o=lb(w[2]||""),this.g=lb(w[3]||"",!0),iC(this,w[4]),this.l=lb(w[5]||"",!0),J7(this,w[6]||"",!0),this.m=lb(w[7]||"")):(this.h=!1,this.i=new ub(null,this.h))}function wc(f){return new $h(f)}function nC(f,w,C){f.j=C?lb(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function iC(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function J7(f,w,C){w instanceof ub?(f.i=w,function AIe(f,w){w&&!f.j&&(Qu(f),f.i=null,f.g.forEach(function(C,k){var se=k.toLowerCase();k!=se&&(t$(this,k),i$(this,se,C))},f)),f.j=w}(f.i,f.h)):(C||(w=cb(w,CIe)),f.i=new ub(w,f.h))}function Ri(f,w,C){f.i.set(w,C)}function rC(f){return Ri(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function lb(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function cb(f,w,C){return"string"==typeof f?(f=encodeURI(f).replace(w,EIe),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function EIe(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}$h.prototype.toString=function(){var f=[],w=this.j;w&&f.push(cb(w,e$,!0),":");var C=this.g;return(C||"file"==w)&&(f.push("//"),(w=this.o)&&f.push(cb(w,e$,!0),"@"),f.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(C=this.s)&&f.push(":",String(C))),(C=this.l)&&(this.g&&"/"!=C.charAt(0)&&f.push("/"),f.push(cb(C,"/"==C.charAt(0)?xIe:IIe,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",cb(C,TIe)),f.join("")};var e$=/[#\/\?@]/g,IIe=/[#\?:]/g,xIe=/[#\?]/g,CIe=/[#\?@]/g,TIe=/#/g;function ub(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Qu(f){f.g||(f.g=new Map,f.h=0,f.i&&function wIe(f,w){if(f){f=f.split("&");for(var C=0;C<f.length;C++){var k=f[C].indexOf("="),se=null;if(0<=k){var Ce=f[C].substring(0,k);se=f[C].substring(k+1)}else Ce=f[C];w(Ce,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}(f.i,function(w,C){f.add(decodeURIComponent(w.replace(/\+/g," ")),C)}))}function t$(f,w){Qu(f),w=Gp(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function n$(f,w){return Qu(f),w=Gp(f,w),f.g.has(w)}function i$(f,w,C){t$(f,w),0<C.length&&(f.i=null,f.g.set(Gp(f,w),R(C)),f.h+=C.length)}function Gp(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Yu(f,w,C,k,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),k(C)}catch{}}function MIe(){this.g=new hIe}function RIe(f,w,C){const k=C||"";try{Z7(f,function(se,Ce){let tt=se;c(se)&&(tt=yk(se)),w.push(k+Ce+"="+encodeURIComponent(tt))})}catch(se){throw w.push(k+"type="+encodeURIComponent("_badmap")),se}}function db(f){this.l=f.Ub||null,this.j=f.eb||!1}function oC(f,w){po.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function r$(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function hb(f){f.readyState=4,f.l=null,f.j=null,f.v=null,fb(f)}function fb(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function o$(f){let w="";return We(f,function(C,k){w+=k,w+=":",w+=C,w+="\r\n"}),w}function Mk(f,w,C){e:{for(k in C){var k=!1;break e}k=!0}k||(C=o$(C),"string"==typeof f?null!=C&&encodeURIComponent(String(C)):Ri(f,w,C))}function Ji(f){po.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=ub.prototype).add=function(f,w){Qu(this),this.i=null,f=Gp(this,f);var C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(w),this.h+=1,this},n.forEach=function(f,w){Qu(this),this.g.forEach(function(C,k){C.forEach(function(se){f.call(w,se,k,this)},this)},this)},n.na=function(){Qu(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),C=[];for(let k=0;k<w.length;k++){const se=f[k];for(let Ce=0;Ce<se.length;Ce++)C.push(w[k])}return C},n.V=function(f){Qu(this);let w=[];if("string"==typeof f)n$(this,f)&&(w=w.concat(this.g.get(Gp(this,f))));else{f=Array.from(this.g.values());for(let C=0;C<f.length;C++)w=w.concat(f[C])}return w},n.set=function(f,w){return Qu(this),this.i=null,n$(this,f=Gp(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},n.get=function(f,w){return f&&0<(f=this.V(f)).length?String(f[0]):w},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var C=0;C<w.length;C++){var k=w[C];const Ce=encodeURIComponent(String(k)),tt=this.V(k);for(k=0;k<tt.length;k++){var se=Ce;""!==tt[k]&&(se+="="+encodeURIComponent(String(tt[k]))),f.push(se)}}return this.i=f.join("&")},T(db,bk),db.prototype.g=function(){return new oC(this.l,this.j)},db.prototype.i=function(f){return function(){return f}}({}),T(oC,po),(n=oC.prototype).open=function(f,w){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,fb(this)},n.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hb(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,fb(this)),this.g&&(this.readyState=3,fb(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;r$(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?hb(this):fb(this),3==this.readyState&&r$(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,hb(this))},n.Qa=function(f){this.g&&(this.response=f,hb(this))},n.ga=function(){this.g&&hb(this)},n.setRequestHeader=function(f,w){this.u.append(f,w)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var C=w.next();!C.done;)f.push((C=C.value)[0]+": "+C[1]),C=w.next();return f.join("\r\n")},Object.defineProperty(oC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),T(Ji,po);var PIe=/^https?$/i,kIe=["POST","PUT"];function s$(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,a$(f),sC(f)}function a$(f){f.A||(f.A=!0,jo(f,"complete"),jo(f,"error"))}function l$(f){if(f.h&&typeof s<"u"&&(!f.v[1]||4!=Ec(f)||2!=f.Z()))if(f.u&&4==Ec(f))M7(f.Ea,0,f);else if(jo(f,"readystatechange"),4==Ec(f)){f.h=!1;try{const tt=f.Z();e:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var C;if(!(C=w)){var k;if(k=0===tt){var se=String(f.D).match(X7)[1]||null;!se&&a.self&&a.self.location&&(se=a.self.location.protocol.slice(0,-1)),k=!PIe.test(se?se.toLowerCase():"")}C=k}if(C)jo(f,"complete"),jo(f,"success");else{f.m=6;try{var Ce=2<Ec(f)?f.g.statusText:""}catch{Ce=""}f.l=Ce+" ["+f.Z()+"]",a$(f)}}finally{sC(f)}}}function sC(f,w){if(f.g){c$(f);const C=f.g,k=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||jo(f,"ready");try{C.onreadystatechange=k}catch{}}}function c$(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function Ec(f){return f.g?f.g.readyState:0}function u$(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function mb(f,w,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||w}function d$(f){this.Aa=0,this.i=[],this.j=new sb,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mb("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mb("baseRetryDelayMs",5e3,f),this.cb=mb("retryDelaySeedMs",1e4,f),this.Wa=mb("forwardChannelMaxRetries",2,f),this.wa=mb("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new q7(f&&f.concurrentRequestLimit),this.Da=new MIe,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Rk(f){if(h$(f),3==f.G){var w=f.U++,C=wc(f.I);if(Ri(C,"SID",f.K),Ri(C,"RID",w),Ri(C,"TYPE","terminate"),pb(f,C),(w=new Ku(f,f.j,w)).L=2,w.v=rC(wc(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!C&&a.Image&&((new Image).src=w.v,C=!0),C||(w.g=w$(w.j,null),w.g.ea(w.v)),w.F=Date.now(),tC(w)}y$(f)}function aC(f){f.g&&(kk(f),f.g.cancel(),f.g=null)}function h$(f){aC(f),f.u&&(a.clearTimeout(f.u),f.u=null),cC(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function lC(f){if(!W7(f.h)&&!f.s){f.s=!0;var w=f.Ga;xt||fr(),Rt||(xt(),Rt=!0),yn.add(w,f),f.B=0}}function f$(f,w){var C;C=w?w.l:f.U++;const k=wc(f.I);Ri(k,"SID",f.K),Ri(k,"RID",C),Ri(k,"AID",f.T),pb(f,k),f.m&&f.o&&Mk(k,f.m,f.o),C=new Ku(f,f.j,C,f.B+1),null===f.m&&(C.H=f.o),w&&(f.i=w.D.concat(f.i)),w=m$(f,C,1e3),C.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Dk(f.h,C),Ck(C,k,w)}function pb(f,w){f.H&&We(f.H,function(C,k){Ri(w,k,C)}),f.l&&Z7({},function(C,k){Ri(w,k,C)})}function m$(f,w,C){C=Math.min(f.i.length,C);var k=f.l?b(f.l.Na,f.l,f):null;e:{var se=f.i;let Ce=-1;for(;;){const tt=["count="+C];-1==Ce?0<C?(Ce=se[0].g,tt.push("ofs="+Ce)):Ce=0:tt.push("ofs="+Ce);let ai=!0;for(let Jr=0;Jr<C;Jr++){let Nn=se[Jr].g;const go=se[Jr].map;if(Nn-=Ce,0>Nn)Ce=Math.max(0,se[Jr].g-100),ai=!1;else try{RIe(go,tt,"req"+Nn+"_")}catch{k&&k(go)}}if(ai){k=tt.join("&");break e}}}return f=f.i.splice(0,C),w.D=f,k}function p$(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;xt||fr(),Rt||(xt(),Rt=!0),yn.add(w,f),f.v=0}}function Pk(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=ob(b(f.Fa,f),v$(f,f.v)),f.v++,0))}function kk(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function g$(f){f.g=new Ku(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var w=wc(f.qa);Ri(w,"RID","rpc"),Ri(w,"SID",f.K),Ri(w,"AID",f.T),Ri(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ri(w,"TO",f.ja),Ri(w,"TYPE","xmlhttp"),pb(f,w),f.m&&f.o&&Mk(w,f.m,f.o),f.L&&(f.g.I=f.L);var C=f.g;f=f.ia,C.L=1,C.v=rC(wc(w)),C.m=null,C.P=!0,H7(C,f)}function cC(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function _$(f,w){var C=null;if(f.g==w){cC(f),kk(f),f.g=null;var k=2}else{if(!Sk(f.h,w))return;C=w.D,Q7(f.h,w),k=1}if(0!=f.G)if(w.o)if(1==k){C=w.m?w.m.length:0,w=Date.now()-w.F;var se=f.B;jo(k=Xx(),new U7(k,C)),lC(f)}else p$(f);else if(3==(se=w.s)||0==se&&0<w.X||!(1==k&&function NIe(f,w){return!(K7(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=w.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=ob(b(f.Ga,f,w),v$(f,f.B)),f.B++,0)))}(f,w)||2==k&&Pk(f)))switch(C&&0<C.length&&(w=f.h,w.i=w.i.concat(C)),se){case 1:Gh(f,5);break;case 4:Gh(f,10);break;case 3:Gh(f,6);break;default:Gh(f,2)}}function v$(f,w){let C=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(C*=2),C*w}function Gh(f,w){if(f.j.info("Error code "+w),2==w){var C=b(f.fb,f),k=f.Xa;const se=!k;k=new $h(k||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||nC(k,"https"),rC(k),se?function SIe(f,w){const C=new sb;if(a.Image){const k=new Image;k.onload=E(Yu,C,"TestLoadImage: loaded",!0,w,k),k.onerror=E(Yu,C,"TestLoadImage: error",!1,w,k),k.onabort=E(Yu,C,"TestLoadImage: abort",!1,w,k),k.ontimeout=E(Yu,C,"TestLoadImage: timeout",!1,w,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else w(!1)}(k.toString(),C):function DIe(f,w){new sb;const k=new AbortController,se=setTimeout(()=>{k.abort(),Yu(0,0,!1,w)},1e4);fetch(f,{signal:k.signal}).then(Ce=>{clearTimeout(se),Yu(0,0,!!Ce.ok,w)}).catch(()=>{clearTimeout(se),Yu(0,0,!1,w)})}(k.toString(),C)}else zo(2);f.G=0,f.l&&f.l.sa(w),y$(f),h$(f)}function y$(f){if(f.G=0,f.ka=[],f.l){const w=Y7(f.h);(0!=w.length||0!=f.i.length)&&(P(f.ka,w),P(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function b$(f,w,C){var k=C instanceof $h?wc(C):new $h(C);if(""!=k.g)w&&(k.g=w+"."+k.g),iC(k,k.s);else{var se=a.location;k=se.protocol,w=w?w+"."+se.hostname:se.hostname,se=+se.port;var Ce=new $h(null);k&&nC(Ce,k),w&&(Ce.g=w),se&&iC(Ce,se),C&&(Ce.l=C),k=Ce}return w=f.ya,(C=f.D)&&w&&Ri(k,C,w),Ri(k,"VER",f.la),pb(f,k),k}function w$(f,w,C){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(w=new Ji(f.Ca&&!f.pa?new db({eb:C}):f.pa)).Ha(f.J),w}function E$(){}function uC(){}function Ps(f,w){po.call(this),this.g=new d$(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!B(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!B(w)&&(this.g.D=w,null!==(f=this.h)&&w in f&&w in(f=this.h)&&delete f[w]),this.j=new qp(this)}function I$(f){wk.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const C in w){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,w=null!==w&&f in w?w[f]:void 0),this.data=w}else this.data=f}function x$(){Ek.call(this),this.status=1}function qp(f){this.g=f}(n=Ji.prototype).Ha=function(f){this.J=f},n.ea=function(f,w,C,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ik.g(),this.v=function O7(f){return f.h||(f.h=f.i())}(this.o?this.o:Ik),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(Ce){return void s$(this,Ce)}if(f=C||"",C=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var se in k)C.set(se,k[se]);else{if("function"!=typeof k.keys||"function"!=typeof k.get)throw Error("Unknown input type for opt_headers: "+String(k));for(const Ce of k.keys())C.set(Ce,k.get(Ce))}k=Array.from(C.keys()).find(Ce=>"content-type"==Ce.toLowerCase()),se=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kIe,w,void 0))||k||se||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ce,tt]of C)this.g.setRequestHeader(Ce,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{c$(this),this.u=!0,this.g.send(f),this.u=!1}catch(Ce){s$(this,Ce)}},n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,jo(this,"complete"),jo(this,"abort"),sC(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sC(this,!0)),Ji.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?l$(this):this.bb())},n.bb=function(){l$(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Ec(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&0==w.indexOf(f)&&(w=w.substring(f.length)),dIe(w)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=d$.prototype).la=8,n.G=1,n.connect=function(f,w,C,k){zo(0),this.W=f,this.H=w||{},C&&void 0!==k&&(this.H.OSID=C,this.H.OAID=k),this.F=this.X,this.I=b$(this,null,this.W),lC(this)},n.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const se=new Ku(this,this.j,f);let Ce=this.o;if(this.S&&(Ce?(Ce=V(Ce),X(Ce,this.S)):Ce=this.S),null!==this.m||this.O||(se.H=Ce,Ce=null),this.P)e:{for(var w=0,C=0;C<this.i.length;C++){var k=this.i[C];if(void 0===(k="__data__"in k.map&&"string"==typeof(k=k.map.__data__)?k.length:void 0))break;if(4096<(w+=k)){w=C;break e}if(4096===w||C===this.i.length-1){w=C+1;break e}}w=1e3}else w=1e3;w=m$(this,se,w),Ri(C=wc(this.I),"RID",f),Ri(C,"CVER",22),this.D&&Ri(C,"X-HTTP-Session-Id",this.D),pb(this,C),Ce&&(this.O?w="headers="+encodeURIComponent(String(o$(Ce)))+"&"+w:this.m&&Mk(C,this.m,Ce)),Dk(this.h,se),this.Ua&&Ri(C,"TYPE","init"),this.P?(Ri(C,"$req",w),Ri(C,"SID","null"),se.T=!0,Ck(se,C,null)):Ck(se,C,w),this.G=2}}else 3==this.G&&(f?f$(this,f):0==this.i.length||W7(this.h)||f$(this))},n.Fa=function(){if(this.u=null,g$(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ob(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zo(10),aC(this),g$(this))},n.Za=function(){null!=this.C&&(this.C=null,aC(this),Pk(this),zo(19))},n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),zo(2)):(this.j.info("Failed to ping google.com"),zo(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=E$.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},uC.prototype.g=function(f,w){return new Ps(f,w)},T(Ps,po),Ps.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ps.prototype.close=function(){Rk(this.g)},Ps.prototype.o=function(f){var w=this.g;if("string"==typeof f){var C={};C.__data__=f,f=C}else this.u&&((C={}).__data__=yk(f),f=C);w.i.push(new vIe(w.Ya++,f)),3==w.G&&lC(w)},Ps.prototype.N=function(){this.g.l=null,delete this.j,Rk(this.g),delete this.g,Ps.aa.N.call(this)},T(I$,wk),T(x$,Ek),T(qp,E$),qp.prototype.ua=function(){jo(this.g,"a")},qp.prototype.ta=function(f){jo(this.g,new I$(f))},qp.prototype.sa=function(f){jo(this.g,new x$)},qp.prototype.ra=function(){jo(this.g,"b")},uC.prototype.createWebChannel=uC.prototype.g,Ps.prototype.send=Ps.prototype.o,Ps.prototype.open=Ps.prototype.m,Ps.prototype.close=Ps.prototype.close,v6=oc.createWebChannelTransport=function(){return new uC},_6=oc.getStatEventTarget=function(){return Xx()},g6=oc.Event=zh,HD=oc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jx.NO_ERROR=0,Jx.TIMEOUT=8,Jx.HTTP_ERROR=6,pI=oc.ErrorCode=Jx,B7.COMPLETE="complete",p6=oc.EventType=B7,N7.EventType=ib,ib.OPEN="a",ib.CLOSE="b",ib.ERROR="c",ib.MESSAGE="d",po.prototype.listen=po.prototype.K,Kv=oc.WebChannel=N7,oc.FetchXmlHttpFactory=db,Ji.prototype.listenOnce=Ji.prototype.L,Ji.prototype.getLastError=Ji.prototype.Ka,Ji.prototype.getLastErrorCode=Ji.prototype.Ba,Ji.prototype.getStatus=Ji.prototype.Z,Ji.prototype.getResponseJson=Ji.prototype.Oa,Ji.prototype.getResponseText=Ji.prototype.oa,Ji.prototype.send=Ji.prototype.ea,Ji.prototype.setWithCredentials=Ji.prototype.Ha,m6=oc.XhrIo=Ji}).apply(typeof mI<"u"?mI:typeof self<"u"?self:typeof window<"u"?window:{});const y6="@firebase/firestore";class Vr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let Zm="10.14.0";const Eu=new sl.Vy("@firebase/firestore");function Xm(){return Eu.logLevel}function Ve(n,...t){if(Eu.logLevel<=sl.$b.DEBUG){const e=t.map($D);Eu.debug(`Firestore (${Zm}): ${n}`,...e)}}function dr(n,...t){if(Eu.logLevel<=sl.$b.ERROR){const e=t.map($D);Eu.error(`Firestore (${Zm}): ${n}`,...e)}}function Ss(n,...t){if(Eu.logLevel<=sl.$b.WARN){const e=t.map($D);Eu.warn(`Firestore (${Zm}): ${n}`,...e)}}function $D(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const t=`FIRESTORE (${Zm}) INTERNAL ASSERTION FAILED: `+n;throw dr(t),new Error(t)}function ft(n,t){n||ut()}function Ze(n,t){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends an.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class b6{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ace{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Vr.UNAUTHENTICATED))}shutdown(){}}class Sce{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Dce{constructor(t){this.t=t,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;ft(void 0===this.o);let r=this.i;const o=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let s=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ur,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable((0,ve.A)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ur)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ft("string"==typeof i.accessToken),new b6(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ft(null===t||"string"==typeof t),new Vr(t)}}class Mce{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Rce{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new Mce(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w6{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pce{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){ft(void 0===this.o);const i=o=>{null!=o.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ft("string"==typeof e.token),this.R=e.token,new w6(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kce(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class E6{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=kce(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function $t(n,t){return n<t?-1:n>t?1:0}function Jm(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function I6(n){return n+"\0"}class Ni{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ni.fromMillis(Date.now())}static fromDate(t){return Ni.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ni(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(t){this.timestamp=t}static fromTimestamp(t){return new It(t)}static min(){return new It(new Ni(0,0))}static max(){return new It(new Ni(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qv{constructor(t,e,i){void 0===e?e=0:e>t.length&&ut(),void 0===i?i=t.length-e:i>t.length-e&&ut(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Qv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class wn extends Qv{construct(t,e,i){return new wn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new wn(e)}static emptyPath(){return new wn([])}}const Oce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ci extends Qv{construct(t,e,i){return new Ci(t,e,i)}static isValidIdentifier(t){return Oce.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ci.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ci(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new Fe(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Fe(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new Fe(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ci(e)}static emptyPath(){return new Ci([])}}class it{constructor(t){this.path=t}static fromPath(t){return new it(wn.fromString(t))}static fromName(t){return new it(wn.fromString(t).popFirst(5))}static empty(){return new it(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===wn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return wn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new it(new wn(t.slice()))}}class ep{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function GD(n){return n.fields.find(t=>2===t.kind)}function fh(n){return n.fields.filter(t=>2!==t.kind)}ep.UNKNOWN_ID=-1;class mh{constructor(t,e){this.fieldPath=t,this.kind=e}}class tp{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new tp(0,Ds.min())}}function x6(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=It.fromTimestamp(1e9===i?new Ni(e+1,0):new Ni(e,i));return new Ds(r,it.empty(),t)}function C6(n){return new Ds(n.readTime,n.key,-1)}class Ds{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ds(It.min(),it.empty(),-1)}static max(){return new Ds(It.max(),it.empty(),-1)}}function qD(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=it.comparator(n.documentKey,t.documentKey),0!==e?e:$t(n.largestBatchId,t.largestBatchId))}const T6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Iu(n){return WD.apply(this,arguments)}function WD(){return(WD=(0,ve.A)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==T6)throw n;Ve("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ae((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ae?e:ae.resolve(e)}catch(e){return ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.reject(e)}static resolve(t){return new ae((e,i)=>{e(t)})}static reject(t){return new ae((e,i)=>{i(t)})}static waitFor(t){return new ae((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},l=>i(l))}),s=!0,o===r&&e()})}static or(t){let e=ae.resolve(!1);for(const i of t)e=e.next(r=>r?ae.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ae((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;e(t[c]).next(h=>{s[c]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(t,e){return new ae((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class gI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new Ur,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Yv(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=KD(i.target.error);this.V.reject(new Yv(t,r))}}static open(t,e,i,r){try{return new gI(e,t.transaction(r,i))}catch(o){throw new Yv(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ve("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Vce(e)}}class al{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===al.S((0,an.ZQ)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ve("SimpleDb","Removing database:",t),ph(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,an.zW)())return!1;if(al.v())return!0;const t=(0,an.ZQ)(),e=al.S(t),i=0<e&&e<10,r=S6(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(t){var e=this;return(0,ve.A)(function*(){return e.db||(Ve("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Yv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new Fe(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Fe(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Yv(t,a))},o.onupgradeneeded=s=>{Ve("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.O(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.N&&(e.db.onversionchange=i=>e.N(i)),e.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ve.A)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.M(t);const l=gI.open(o.db,t,s?"readonly":"readwrite",i),c=r(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),ae.reject(h))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,h="FirebaseError"!==c.name&&a<3;if(Ve("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),o.close(),!h)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function S6(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class Lce{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return ph(this.B.delete())}}class Yv extends Fe{constructor(t,e){super(Ee.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function xu(n){return"IndexedDbTransactionError"===n.name}class Vce{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ve("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ph(i)}add(t){return Ve("SimpleDb","ADD",this.store.name,t,t),ph(this.store.add(t))}get(t){return ph(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ve("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ve("SimpleDb","DELETE",this.store.name,t),ph(this.store.delete(t))}count(){return Ve("SimpleDb","COUNT",this.store.name),ph(this.store.count())}U(t,e){const i=this.options(t,e),r=i.index?this.store.index(i.index):this.store;if("function"==typeof r.getAll){const o=r.getAll(i.range);return new ae((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(i),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ae((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(t,e){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Y(t){const e=this.cursor({});return new ae((i,r)=>{e.onerror=o=>{const s=KD(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(t,e){const i=[];return new ae((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new Lce(a),c=e(a.primaryKey,a.value,l);if(c instanceof ae){const h=c.catch(p=>(l.done(),ae.reject(p)));i.push(h)}l.isDone?r():null===l.K?a.continue():a.continue(l.K)}}).next(()=>ae.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ph(n){return new ae((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=KD(i.target.error);e(r)}})}let D6=!1;function KD(n){const t=al.S((0,an.ZQ)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return D6||(D6=!0,setTimeout(()=>{throw i},0)),i}}return n}class Uce{constructor(t,e){this.asyncQueue=t,this.Z=e,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var e=this;Ve("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ve.A)(function*(){e.task=null;try{Ve("IndexBackfiller",`Documents written: ${yield e.Z.ee()}`)}catch(i){xu(i)?Ve("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Iu(i)}yield e.X(6e4)}))}}class Bce{constructor(t,e){this.localStore=t,this.persistence=e}ee(){var t=this;return(0,ve.A)(function*(e=50){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.te(i,e))}).apply(this,arguments)}te(t,e){const i=new Set;let r=e,o=!0;return ae.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return Ve("IndexBackfiller",`Processing collection: ${s}`),this.ne(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}ne(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.re(r,o)).next(a=>(Ve("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}re(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=C6(o);qD(s,i)>0&&(i=s)}),new Ds(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Ms=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function Zv(n){return null==n}function Xv(n){return 0===n&&1/n==-1/0}function M6(n){return"number"==typeof n&&Number.isInteger(n)&&!Xv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function lo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=R6(t)),t=jce(n.get(e),t);return R6(t)}function jce(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function R6(n){return n+"\x01\x01"}function ll(n){const t=n.length;if(ft(t>=2),2===t)return ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&ut(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:ut()}o=s+2}return new wn(i)}const P6=["userId","batchId"];function _I(n,t){return[n,lo(t)]}function k6(n,t,e){return[n,lo(t),e]}const zce={},Hce=["prefixPath","collectionGroup","readTime","documentId"],$ce=["prefixPath","collectionGroup","documentId"],Gce=["collectionGroup","readTime","prefixPath","documentId"],qce=["canonicalId","targetId"],Wce=["targetId","path"],Kce=["path","targetId"],Qce=["collectionId","parent"],Yce=["indexId","uid"],Zce=["uid","sequenceNumber"],Xce=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Jce=["indexId","uid","orderedDocumentKey"],eue=["userId","collectionPath","documentId"],tue=["userId","collectionPath","largestBatchId"],nue=["userId","collectionGroup","largestBatchId"],O6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],iue=[...O6,"documentOverlays"],N6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],F6=N6,QD=[...F6,"indexConfiguration","indexState","indexEntries"],rue=QD,oue=[...QD,"globals"];class YD extends A6{constructor(t,e){super(),this._e=t,this.currentSequenceNumber=e}}function Dr(n,t){const e=Ze(n);return al.F(e._e,t)}function L6(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Cu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function U6(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class _i{constructor(t,e){this.comparator=t,this.root=e||Yr.EMPTY}insert(t,e){return new _i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(t){return new _i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vI(this.root,t,this.comparator,!1)}getReverseIterator(){return new vI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vI(this.root,t,this.comparator,!0)}}class vI{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Yr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Yr.RED,this.left=r??Yr.EMPTY,this.right=o??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Yr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Yr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const t=this.left.check();if(t!==this.right.check())throw ut();return t+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Yr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(t){this.comparator=t,this.data=new _i(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new B6(this.data.getIterator())}getIteratorFrom(t){return new B6(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Zn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Zn(this.comparator);return e.data=t,e}}class B6{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function np(n){return n.hasNext()?n.getNext():void 0}class ss{constructor(t){this.fields=t,t.sort(Ci.comparator)}static empty(){return new ss([])}unionWith(t){let e=new Zn(Ci.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ss(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Jm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class j6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new j6("Invalid base64 string: "+o):o}}(t);return new Qi(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new Qi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qi.EMPTY_BYTE_STRING=new Qi("");const aue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sc(n){if(ft(!!n),"string"==typeof n){let t=0;const e=aue.exec(n);if(ft(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Fi(n.seconds),nanos:Fi(n.nanos)}}function Fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ac(n){return"string"==typeof n?Qi.fromBase64String(n):Qi.fromUint8Array(n)}function yI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function bI(n){const t=n.mapValue.fields.__previous_value__;return yI(t)?bI(t):t}function Jv(n){const t=sc(n.mapValue.fields.__local_write_time__.timestampValue);return new Ni(t.seconds,t.nanos)}class lue{constructor(t,e,i,r,o,s,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Tu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Tu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Tu&&t.projectId===this.projectId&&t.database===this.database}}const Au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wI={nullValue:"NULL_VALUE"};function Su(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yI(n)?4:q6(n)?9007199254740991:xI(n)?10:11:ut()}function cl(n,t){if(n===t)return!0;const e=Su(n);if(e!==Su(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Jv(n).isEqual(Jv(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=sc(r.timestampValue),a=sc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,ac(n.bytesValue).isEqual(ac(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Fi(r.geoPointValue.latitude)===Fi(o.geoPointValue.latitude)&&Fi(r.geoPointValue.longitude)===Fi(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Fi(r.integerValue)===Fi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Fi(r.doubleValue),a=Fi(o.doubleValue);return s===a?Xv(s)===Xv(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return Jm(n.arrayValue.values||[],t.arrayValue.values||[],cl);case 10:case 11:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(L6(s)!==L6(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!cl(s[l],a[l])))return!1;return!0}(n,t);default:return ut()}var o}function ey(n,t){return void 0!==(n.values||[]).find(e=>cl(e,t))}function Du(n,t){if(n===t)return 0;const e=Su(n),i=Su(t);if(e!==i)return $t(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Fi(o.integerValue||o.doubleValue),l=Fi(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return z6(n.timestampValue,t.timestampValue);case 4:return z6(Jv(n),Jv(t));case 5:return $t(n.stringValue,t.stringValue);case 6:return function(o,s){const a=ac(o),l=ac(s);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=$t(a[c],l[c]);if(0!==h)return h}return $t(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const a=$t(Fi(o.latitude),Fi(s.latitude));return 0!==a?a:$t(Fi(o.longitude),Fi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return H6(n.arrayValue,t.arrayValue);case 10:return function(o,s){var a,l,c,h;const E=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,T=null===(l=(s.fields||{}).value)||void 0===l?void 0:l.arrayValue,R=$t((null===(c=E?.values)||void 0===c?void 0:c.length)||0,(null===(h=T?.values)||void 0===h?void 0:h.length)||0);return 0!==R?R:H6(E,T)}(n.mapValue,t.mapValue);case 11:return function(o,s){if(o===Au.mapValue&&s===Au.mapValue)return 0;if(o===Au.mapValue)return 1;if(s===Au.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const b=$t(l[p],h[p]);if(0!==b)return b;const E=Du(a[l[p]],c[h[p]]);if(0!==E)return E}return $t(l.length,h.length)}(n.mapValue,t.mapValue);default:throw ut()}}function z6(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return $t(n,t);const e=sc(n),i=sc(t),r=$t(e.seconds,i.seconds);return 0!==r?r:$t(e.nanos,i.nanos)}function H6(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Du(e[r],i[r]);if(o)return o}return $t(e.length,i.length)}function ip(n){return ZD(n)}function ZD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=sc(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ac(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=ZD(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${ZD(e.fields[s])}`;return r+"}"}(n.mapValue):ut()}function gh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function XD(n){return!!n&&"integerValue"in n}function ty(n){return!!n&&"arrayValue"in n}function $6(n){return!!n&&"nullValue"in n}function G6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function II(n){return!!n&&"mapValue"in n}function xI(n){var t,e;return"__vector__"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function ny(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Cu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ny(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ny(n.arrayValue.values[e]);return t}return Object.assign({},n)}function q6(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const W6={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function cue(n){return"nullValue"in n?wI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gh(Tu.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?xI(n)?W6:{mapValue:{}}:ut()}function uue(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gh(Tu.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?W6:"mapValue"in n?xI(n)?{mapValue:{}}:Au:ut()}function K6(n,t){const e=Du(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Q6(n,t){const e=Du(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Zr{constructor(t){this.value=t}static empty(){return new Zr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!II(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ny(e)}setAll(t){let e=Ci.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=ny(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());II(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return cl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];II(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Cu(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Zr(ny(this.value))}}function Y6(n){const t=[];return Cu(n.fields,(e,i)=>{const r=new Ci([e]);if(II(i)){const o=Y6(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new ss(t)}class Ti{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Ti(t,0,It.min(),It.min(),It.min(),Zr.empty(),0)}static newFoundDocument(t,e,i,r){return new Ti(t,1,e,It.min(),i,r,0)}static newNoDocument(t,e){return new Ti(t,2,e,It.min(),It.min(),Zr.empty(),0)}static newUnknownDocument(t,e){return new Ti(t,3,e,It.min(),It.min(),Zr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ti&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mu{constructor(t,e){this.position=t,this.inclusive=e}}function Z6(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?it.comparator(it.fromName(s.referenceValue),e.key):Du(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function X6(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!cl(n.position[e],t.position[e]))return!1;return!0}class iy{constructor(t,e="asc"){this.field=t,this.dir=e}}function due(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class J6{}class En extends J6{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new hue(t,e,i):"array-contains"===e?new pue(t,i):"in"===e?new oj(t,i):"not-in"===e?new gue(t,i):"array-contains-any"===e?new _ue(t,i):new En(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new fue(t,i):new mue(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Du(e,this.value)):null!==e&&Su(this.value)===Su(e)&&this.matchesComparison(Du(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends J6{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new $n(t,e)}matches(t){return rp(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rp(n){return"and"===n.op}function JD(n){return"or"===n.op}function eM(n){return ej(n)&&rp(n)}function ej(n){for(const t of n.filters)if(t instanceof $n)return!1;return!0}function tM(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+ip(n.value);if(eM(n))return n.filters.map(t=>tM(t)).join(",");{const t=n.filters.map(e=>tM(e)).join(",");return`${n.op}(${t})`}}function tj(n,t){return n instanceof En?(i=n,(r=t)instanceof En&&i.op===r.op&&i.field.isEqual(r.field)&&cl(i.value,r.value)):n instanceof $n?function(i,r){return r instanceof $n&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&tj(s,r.filters[a]),!0)}(n,t):void ut();var i,r}function nj(n,t){const e=n.filters.concat(t);return $n.create(e,n.op)}function ij(n){return n instanceof En?`${(e=n).field.canonicalString()} ${e.op} ${ip(e.value)}`:n instanceof $n?function(e){return e.op.toString()+" {"+e.getFilters().map(ij).join(" ,")+"}"}(n):"Filter";var e}class hue extends En{constructor(t,e,i){super(t,e,i),this.key=it.fromName(i.referenceValue)}matches(t){const e=it.comparator(t.key,this.key);return this.matchesComparison(e)}}class fue extends En{constructor(t,e){super(t,"in",e),this.keys=rj(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class mue extends En{constructor(t,e){super(t,"not-in",e),this.keys=rj(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function rj(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>it.fromName(i.referenceValue))}class pue extends En{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ty(e)&&ey(e.arrayValue,this.value)}}class oj extends En{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ey(this.value.arrayValue,e)}}class gue extends En{constructor(t,e){super(t,"not-in",e)}matches(t){if(ey(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ey(this.value.arrayValue,e)}}class _ue extends En{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ty(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ey(this.value.arrayValue,i))}}class vue{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function nM(n,t=null,e=[],i=[],r=null,o=null,s=null){return new vue(n,t,e,i,r,o,s)}function _h(n){const t=Ze(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>tM(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Zv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ip(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ip(i)).join(",")),t.ue=e}return t.ue}function ry(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!due(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!tj(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!X6(n.startAt,t.startAt)&&X6(n.endAt,t.endAt)}function CI(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function TI(n,t){return n.filters.filter(e=>e instanceof En&&e.field.isEqual(t))}function sj(n,t,e){let i=wI,r=!0;for(const o of TI(n,t)){let s=wI,a=!0;switch(o.op){case"<":case"<=":s=cue(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=wI}K6({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];K6({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function aj(n,t,e){let i=Au,r=!0;for(const o of TI(n,t)){let s=Au,a=!0;switch(o.op){case">=":case">":s=uue(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Au}Q6({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];Q6({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class lc{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function lj(n,t,e,i,r,o,s,a){return new lc(n,t,e,i,r,o,s,a)}function op(n){return new lc(n)}function cj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function iM(n){return null!==n.collectionGroup}function sp(n){const t=Ze(n);if(null===t.ce){t.ce=[];const e=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zn(Ci.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.ce.push(new iy(o,i))}),e.has(Ci.keyField().canonicalString())||t.ce.push(new iy(Ci.keyField(),i))}return t.ce}function co(n){const t=Ze(n);return t.le||(t.le=function dj(n,t){if("F"===n.limitType)return nM(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new iy(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Mu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Mu(n.startAt.position,n.startAt.inclusive):null;return nM(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,sp(n))),t.le}function rM(n,t){const e=n.filters.concat([t]);return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function AI(n,t,e){return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function oy(n,t){return ry(co(n),co(t))&&n.limitType===t.limitType}function hj(n){return`${_h(co(n))}|lt:${n.limitType}`}function ap(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>ij(r)).join(", ")}]`),Zv(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>ip(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>ip(r)).join(",")),`Target(${i})`}(co(n))}; limitType=${n.limitType})`}function sy(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):it.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of sp(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,a,l){const c=Z6(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,sp(i),r)||i.endAt&&!function(s,a,l){const c=Z6(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,sp(i),r)));var i,r}function fj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mj(n){return(t,e)=>{let i=!1;for(const r of sp(n)){const o=yue(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function yue(n,t,e){const i=n.field.isKeyField()?it.comparator(t.key,e.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?Du(l,c):ut()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}class cc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Cu(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return U6(this.inner)}size(){return this.innerSize}}const bue=new _i(it.comparator);function as(){return bue}const pj=new _i(it.comparator);function ay(...n){let t=pj;for(const e of n)t=t.insert(e.key,e);return t}function gj(n){let t=pj;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ul(){return ly()}function _j(){return ly()}function ly(){return new cc(n=>n.toString(),(n,t)=>n.isEqual(t))}const wue=new _i(it.comparator),Eue=new Zn(it.comparator);function tn(...n){let t=Eue;for(const e of n)t=t.add(e);return t}const Iue=new Zn($t);function oM(){return Iue}function sM(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xv(t)?"-0":t}}function vj(n){return{integerValue:""+n}}function yj(n,t){return M6(t)?vj(t):sM(n,t)}class SI{constructor(){this._=void 0}}function xue(n,t,e){return n instanceof lp?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&yI(o)&&(o=bI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof vh?wj(n,t):n instanceof yh?Ej(n,t):function(r,o){const s=bj(r,o),a=Ij(s)+Ij(r.Pe);return XD(s)&&XD(r.Pe)?vj(a):sM(r.serializer,a)}(n,t)}function Cue(n,t,e){return n instanceof vh?wj(n,t):n instanceof yh?Ej(n,t):e}function bj(n,t){return n instanceof cp?XD(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class lp extends SI{}class vh extends SI{constructor(t){super(),this.elements=t}}function wj(n,t){const e=xj(t);for(const i of n.elements)e.some(r=>cl(r,i))||e.push(i);return{arrayValue:{values:e}}}class yh extends SI{constructor(t){super(),this.elements=t}}function Ej(n,t){let e=xj(t);for(const i of n.elements)e=e.filter(r=>!cl(r,i));return{arrayValue:{values:e}}}class cp extends SI{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function Ij(n){return Fi(n.integerValue||n.doubleValue)}function xj(n){return ty(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cy{constructor(t,e){this.field=t,this.transform=e}}class Aue{constructor(t,e){this.version=t,this.transformResults=e}}class Li{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Li}static exists(t){return new Li(void 0,t)}static updateTime(t){return new Li(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function DI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class MI{}function Cj(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new dp(n.key,Li.none()):new up(n.key,n.data,Li.none());{const e=n.data,i=Zr.empty();let r=new Zn(Ci.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new uc(n.key,i,new ss(r.toArray()),Li.none())}}function Sue(n,t,e){n instanceof up?function(r,o,s){const a=r.value.clone(),l=Sj(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof uc?function(r,o,s){if(!DI(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Sj(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Aj(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function uy(n,t,e,i){return n instanceof up?function(o,s,a,l){if(!DI(o.precondition,s))return a;const c=o.value.clone(),h=Dj(o.fieldTransforms,l,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof uc?function(o,s,a,l){if(!DI(o.precondition,s))return a;const c=Dj(o.fieldTransforms,l,s),h=s.data;return h.setAll(Aj(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,t,e,i):(a=e,DI(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Due(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=bj(i.transform,r||null);null!=o&&(null===e&&(e=Zr.empty()),e.set(i.field,o))}return e||null}function Tj(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Jm(i,r,(o,s)=>function Tue(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof vh&&r instanceof vh||i instanceof yh&&r instanceof yh?Jm(i.elements,r.elements,cl):i instanceof cp&&r instanceof cp?cl(i.Pe,r.Pe):i instanceof lp&&r instanceof lp);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class up extends MI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class uc extends MI{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Aj(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Sj(n,t,e){const i=new Map;ft(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,Cue(s,a,e[r]))}return i}function Dj(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,xue(o,s,t))}return i}class dp extends MI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aM extends MI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lM{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&Sue(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=uy(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=uy(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=_j();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const l=Cj(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(It.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),tn())}isEqual(t){return this.batchId===t.batchId&&Jm(this.mutations,t.mutations,(e,i)=>Tj(e,i))&&Jm(this.baseMutations,t.baseMutations,(e,i)=>Tj(e,i))}}class cM{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ft(t.mutations.length===i.length);let r=function(){return wue}();const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new cM(t,e,i,r)}}class uM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mue{constructor(t,e){this.count=t,this.unchangedNames=e}}var br,Rn;function Rj(n){switch(n){default:return ut();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function Pj(n){if(void 0===n)return dr("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case br.OK:return Ee.OK;case br.CANCELLED:return Ee.CANCELLED;case br.UNKNOWN:return Ee.UNKNOWN;case br.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case br.INTERNAL:return Ee.INTERNAL;case br.UNAVAILABLE:return Ee.UNAVAILABLE;case br.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case br.NOT_FOUND:return Ee.NOT_FOUND;case br.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case br.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case br.ABORTED:return Ee.ABORTED;case br.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case br.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case br.DATA_LOSS:return Ee.DATA_LOSS;default:return ut()}}(Rn=br||(br={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";function kj(){return new TextEncoder}const Rue=new hh([4294967295,4294967295],0);function Oj(n){const t=kj().encode(n),e=new f6;return e.update(t),new Uint8Array(e.digest())}function Nj(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new hh([e,i],0),new hh([r,o],0)]}class dM{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new dy(`Invalid padding: ${e}`);if(i<0)throw new dy(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new dy(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new dy(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=hh.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(hh.fromNumber(i)));return 1===r.compare(Rue)&&(r=new hh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=Oj(t),[i,r]=Nj(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new dM(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Ie)return;const e=Oj(t),[i,r]=Nj(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);this.Ae(s)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class dy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hy{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,fy.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new hy(It.min(),r,new _i($t),as(),tn())}}class fy{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new fy(i,e,tn(),tn(),tn())}}class PI{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}}class Fj{constructor(t,e){this.targetId=t,this.me=e}}class Lj{constructor(t,e,i=Qi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Vj{constructor(){this.fe=0,this.ge=Bj(),this.pe=Qi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=tn(),e=tn(),i=tn();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new fy(this.pe,this.ye,t,e,i)}Ce(){this.we=!1,this.ge=Bj()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Pue{constructor(t){this.Le=t,this.Be=new Map,this.ke=as(),this.qe=Uj(),this.Qe=new _i($t)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:ut()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){const e=t.targetId,i=t.me.count,r=this.Je(e);if(r){const o=r.target;if(CI(o))if(0===i){const s=new it(o.path);this.Ue(e,s,Ti.newNoDocument(s,It.min()))}else ft(1===i);else{const s=this.Ye(e);if(s!==i){const a=this.Ze(t),l=a?this.Xe(a,t,s):1;0!==l&&(this.je(e),this.Qe=this.Qe.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=ac(i).toUint8Array()}catch(l){if(l instanceof j6)return Ss("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dM(s,r,o)}catch(l){return Ss(l instanceof dy?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(e,o,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&CI(a.target)){const l=new it(a.target.path);null!==this.ke.get(l)||this.it(s,l)||this.Ue(s,l,Ti.newNoDocument(l,t))}o.be&&(e.set(s,o.ve()),o.Ce())}});let i=tn();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const r=new hy(t,e,this.Qe,this.ke,i);return this.ke=as(),this.qe=Uj(),this.Qe=new _i($t),r}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new Vj,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Zn($t),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Ve("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Vj),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Uj(){return new _i(it.comparator)}function Bj(){return new _i(it.comparator)}const kue={asc:"ASCENDING",desc:"DESCENDING"},Oue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nue={and:"AND",or:"OR"};class Fue{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function hM(n,t){return n.useProto3Json||Zv(t)?t:{value:t}}function hp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jj(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Lue(n,t){return hp(n,t.toTimestamp())}function hr(n){return ft(!!n),It.fromTimestamp(function(e){const i=sc(e);return new Ni(i.seconds,i.nanos)}(n))}function fM(n,t){return mM(n,t).canonicalString()}function mM(n,t){const e=(r=n,new wn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function zj(n){const t=wn.fromString(n);return ft(Jj(t)),t}function my(n,t){return fM(n.databaseId,t.path)}function dl(n,t){const e=zj(t);if(e.get(1)!==n.databaseId.projectId)throw new Fe(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Fe(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new it(Gj(e))}function Hj(n,t){return fM(n.databaseId,t)}function $j(n){const t=zj(n);return 4===t.length?wn.emptyPath():Gj(t)}function pM(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Gj(n){return ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qj(n,t,e){return{name:my(n,t),fields:e.value.mapValue.fields}}function Wj(n,t,e){const i=dl(n,t.name),r=hr(t.updateTime),o=t.createTime?hr(t.createTime):It.min(),s=new Zr({mapValue:{fields:t.fields}}),a=Ti.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function py(n,t){let e;if(t instanceof up)e={update:qj(n,t.key,t.value)};else if(t instanceof dp)e={delete:my(n,t.key)};else if(t instanceof uc)e={update:qj(n,t.key,t.data),updateMask:Gue(t.fieldMask)};else{if(!(t instanceof aM))return ut();e={verify:my(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof lp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ut()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:Lue(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ut()),e;var o}function gM(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Li.updateTime(hr(o.updateTime)):void 0!==o.exists?Li.exists(o.exists):Li.none():Li.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(ft("REQUEST_TIME"===a.setToServerValue),l=new lp):"appendMissingElements"in a?l=new vh(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new yh(a.removeAllFromArray.values||[]):"increment"in a?l=new cp(s,a.increment):ut();const c=Ci.fromServerFormat(a.fieldPath);return new cy(c,l)}(n,r)):[];var o;if(t.update){const r=dl(n,t.update.name),o=new Zr({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new ss((t.updateMask.fieldPaths||[]).map(h=>Ci.fromServerFormat(h)));return new uc(r,o,s,e,i)}return new up(r,o,e,i)}if(t.delete){const r=dl(n,t.delete);return new dp(r,e)}if(t.verify){const r=dl(n,t.verify);return new aM(r,e)}return ut()}function Kj(n,t){return{documents:[Hj(n,t.path)]}}function kI(n,t){const e={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Hj(n,r);const o=function(c){if(0!==c.length)return Xj($n.create(c,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(h=>{return{field:Ru((b=h).field),direction:zue(b.dir)};var b})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=hM(n,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(e.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:e,parent:r};var c}function Yj(n){let t=$j(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ft(1===i);const h=e.from[0];h.allDescendants?r=h.collectionId:t=t.child(h.collectionId)}let o=[];e.where&&(o=function(p){const b=Zj(p);return b instanceof $n&&eM(b)?b.getFilters():[b]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(b=>{return new iy(fp((T=b).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let a=null;e.limit&&(a=function(p){let b;return b="object"==typeof p?p.value:p,Zv(b)?null:b}(e.limit));let l=null;var p;e.startAt&&(l=new Mu((p=e.startAt).values||[],!!p.before));let c=null;return e.endAt&&(c=function(p){return new Mu(p.values||[],!p.before)}(e.endAt)),lj(t,r,s,o,a,"F",l,c)}function Zj(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=fp(e.unaryFilter.field);return En.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=fp(e.unaryFilter.field);return En.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fp(e.unaryFilter.field);return En.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fp(e.unaryFilter.field);return En.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(n):void 0!==n.fieldFilter?En.create(fp((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return $n.create(e.compositeFilter.filters.map(i=>Zj(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ut()}}(e.compositeFilter.op))}(n):ut();var e}function zue(n){return kue[n]}function Hue(n){return Oue[n]}function $ue(n){return Nue[n]}function Ru(n){return{fieldPath:n.canonicalString()}}function fp(n){return Ci.fromServerFormat(n.fieldPath)}function Xj(n){return n instanceof En?function(e){if("=="===e.op){if(G6(e.value))return{unaryFilter:{field:Ru(e.field),op:"IS_NAN"}};if($6(e.value))return{unaryFilter:{field:Ru(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(G6(e.value))return{unaryFilter:{field:Ru(e.field),op:"IS_NOT_NAN"}};if($6(e.value))return{unaryFilter:{field:Ru(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(e.field),op:Hue(e.op),value:e.value}}}(n):n instanceof $n?function(e){const i=e.getFilters().map(r=>Xj(r));return 1===i.length?i[0]:{compositeFilter:{op:$ue(e.op),filters:i}}}(n):ut()}function Gue(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Jj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class dc{constructor(t,e,i,r,o=It.min(),s=It.min(),a=Qi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new dc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class e8{constructor(t){this.ct=t}}function t8(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:OI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:my(o=n.ct,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:hp(o,s.version.toTimestamp()),createTime:hp(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:bh(t.version)};else{if(!t.isUnknownDocument())return ut();i.unknownDocument={path:e.path.toArray(),version:bh(t.version)}}var o,s;return i}function OI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function bh(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function wh(n){const t=new Ni(n.seconds,n.nanoseconds);return It.fromTimestamp(t)}function Eh(n,t){const e=(t.baseMutations||[]).map(o=>gM(n.ct,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>gM(n.ct,o)),r=Ni.fromMillis(t.localWriteTimeMs);return new lM(t.batchId,r,e,i)}function gy(n){const t=wh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?wh(n.lastLimboFreeSnapshotVersion):It.min();let i;return i=void 0!==n.query.documents?(ft(1===(o=n.query).documents.length),co(op($j(o.documents[0])))):function(o){return co(Yj(o))}(n.query),new dc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Qi.fromBase64String(n.resumeToken));var o}function n8(n,t){const e=bh(t.snapshotVersion),i=bh(t.lastLimboFreeSnapshotVersion);let r;r=CI(t.target)?Kj(n.ct,t.target):kI(n.ct,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:_h(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _M(n){const t=Yj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?AI(t,t.limit,"L"):t}function vM(n,t){return new uM(t.largestBatchId,gM(n.ct,t.overlayMutation))}function i8(n,t){const e=t.path.lastSegment();return[n,lo(t.path.popLast()),e]}function r8(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:bh(i.readTime),documentKey:lo(i.documentKey.path),largestBatchId:i.largestBatchId}}class Wue{getBundleMetadata(t,e){return o8(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:wh(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return o8(t).put({bundleId:(r=e).id,createTime:bh(hr(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return s8(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:_M(o.bundledQuery),readTime:wh(o.readTime)};var o})}saveNamedQuery(t,e){return s8(t).put({name:(r=e).name,readTime:bh(hr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function o8(n){return Dr(n,"bundles")}function s8(n){return Dr(n,"namedQueries")}class NI{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new NI(t,e.uid||"")}getOverlay(t,e){return _y(t).get(i8(this.userId,e)).next(i=>i?vM(this.serializer,i):null)}getOverlays(t,e){const i=ul();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const a=new uM(e,s);r.push(this.ht(t,a))}),ae.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(lo(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(_y(t).j("collectionPathOverlayIndex",a))}),ae.waitFor(o)}getOverlaysForCollection(t,e,i){const r=ul(),o=lo(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return _y(t).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=vM(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=ul();let s;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return _y(t).J({index:"collectionGroupOverlayIndex",range:a},(l,c,h)=>{const p=vM(this.serializer,c);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}ht(t,e){return _y(t).put(function(r,o,s){const[a,l,c]=i8(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:py(r.ct,s.mutation)}}(this.serializer,this.userId,e))}}function _y(n){return Dr(n,"documentOverlays")}class Kue{Pt(t){return Dr(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(e=>{const i=e?.value;return i?Qi.fromUint8Array(i):Qi.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Pt(t).put({name:"sessionToken",value:e.toUint8Array()})}}class Ih{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(Fi(t.integerValue));else if("doubleValue"in t){const i=Fi(t.doubleValue);isNaN(i)?this.dt(e,13):(this.dt(e,15),Xv(i)?e.At(0):e.At(i))}else if("timestampValue"in t){let i=t.timestampValue;this.dt(e,20),"string"==typeof i&&(i=sc(i)),e.Rt(`${i.seconds||""}`),e.At(i.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(ac(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.dt(e,45),e.At(i.latitude||0),e.At(i.longitude||0)}else"mapValue"in t?q6(t)?this.dt(e,Number.MAX_SAFE_INTEGER):xI(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):ut()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){const i=t.fields||{};this.dt(e,55);for(const r of Object.keys(i))this.Vt(r,e),this.Tt(i[r],e)}wt(t,e){var i,r;const o=t.fields||{};this.dt(e,53);const s="value",a=(null===(r=null===(i=o[s].arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.length)||0;this.dt(e,15),e.At(Fi(a)),this.Vt(s,e),this.Tt(o[s],e)}bt(t,e){const i=t.values||[];this.dt(e,50);for(const r of i)this.Tt(r,e)}yt(t,e){this.dt(e,37),it.fromName(t).path.forEach(i=>{this.dt(e,60),this.Dt(i,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}}function Que(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function a8(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Que(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}Ih.vt=new Ih;class Yue{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ot(i.value),i=e.next();this.Nt()}Lt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const r=e.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(t){const e=this.qt(t),i=a8(e);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Kt(t){const e=this.qt(t),i=a8(e);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ft(t){const e=255&t;0===e?(this.Ut(0),this.Ut(255)):255===e?(this.Ut(255),this.Ut(0)):this.Ut(e)}Ot(t){const e=255&t;0===e?(this.Gt(0),this.Gt(255)):255===e?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Zue{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Xue{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class vy{constructor(){this.jt=new Yue,this.Ht=new Zue(this.jt),this.Jt=new Xue(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class xh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Zt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new xh(this.indexId,this.documentKey,this.arrayValue,i)}}function Pu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=l8(n.arrayValue,t.arrayValue),0!==e?e:(e=l8(n.directionalValue,t.directionalValue),0!==e?e:it.comparator(n.documentKey,t.documentKey)))}function l8(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class c8{constructor(t){this.Xt=new Zn((e,i)=>Ci.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(t){if(ft(t.collectionGroup===this.collectionId),this.nn)return!1;const e=GD(t);if(void 0!==e&&!this.sn(e))return!1;const i=fh(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.sn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.on(a,l)||!this._n(this.en[s++],l))return!1}++o}for(;o<i.length;++o)if(s>=this.en.length||!this._n(this.en[s++],i[o]))return!1;return!0}an(){if(this.nn)return null;let t=new Zn(Ci.comparator);const e=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new mh(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new mh(i.field,0))}for(const i of this.en)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new mh(i.field,"asc"===i.dir?0:1)));return new ep(ep.UNKNOWN_ID,this.collectionId,e,tp.empty())}sn(t){for(const e of this.tn)if(this.on(e,t))return!0;return!1}on(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function u8(n){var t,e;if(ft(n instanceof En||n instanceof $n),n instanceof En){if(n instanceof oj){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>En.create(n.field,"==",o)))||[];return $n.create(r,"or")}return n}const i=n.filters.map(r=>u8(r));return $n.create(i,n.op)}function Jue(n){if(0===n.getFilters().length)return[];const t=wM(u8(n));return ft(d8(t)),yM(t)||bM(t)?[t]:t.getFilters()}function yM(n){return n instanceof En}function bM(n){return n instanceof $n&&eM(n)}function d8(n){return yM(n)||bM(n)||function(e){if(e instanceof $n&&JD(e)){for(const i of e.getFilters())if(!yM(i)&&!bM(i))return!1;return!0}return!1}(n)}function wM(n){if(ft(n instanceof En||n instanceof $n),n instanceof En)return n;if(1===n.filters.length)return wM(n.filters[0]);const t=n.filters.map(i=>wM(i));let e=$n.create(t,n.op);return e=FI(e),d8(e)?e:(ft(e instanceof $n),ft(rp(e)),ft(e.filters.length>1),e.filters.reduce((i,r)=>EM(i,r)))}function EM(n,t){let e;return ft(n instanceof En||n instanceof $n),ft(t instanceof En||t instanceof $n),e=n instanceof En?t instanceof En?$n.create([n,t],"and"):h8(n,t):t instanceof En?h8(t,n):function(r,o){if(ft(r.filters.length>0&&o.filters.length>0),rp(r)&&rp(o))return nj(r,o.getFilters());const s=JD(r)?r:o,a=JD(r)?o:r,l=s.filters.map(c=>EM(c,a));return $n.create(l,"or")}(n,t),FI(e)}function h8(n,t){if(rp(t))return nj(t,n.getFilters());{const e=t.filters.map(i=>EM(n,i));return $n.create(e,"or")}}function FI(n){if(ft(n instanceof En||n instanceof $n),n instanceof En)return n;const t=n.getFilters();if(1===t.length)return FI(t[0]);if(ej(n))return n;const e=t.map(r=>FI(r)),i=[];return e.forEach(r=>{r instanceof En?i.push(r):r instanceof $n&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:$n.create(i,n.op)}class ede{constructor(){this.un=new IM}addToCollectionParentIndex(t,e){return this.un.add(e),ae.resolve()}getCollectionParents(t,e){return ae.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return ae.resolve()}deleteFieldIndex(t,e){return ae.resolve()}deleteAllFieldIndexes(t){return ae.resolve()}createTargetIndexes(t,e){return ae.resolve()}getDocumentsMatchingTarget(t,e){return ae.resolve(null)}getIndexType(t,e){return ae.resolve(0)}getFieldIndexes(t,e){return ae.resolve([])}getNextCollectionGroupToUpdate(t){return ae.resolve(null)}getMinOffset(t,e){return ae.resolve(Ds.min())}getMinOffsetFromCollectionGroup(t,e){return ae.resolve(Ds.min())}updateCollectionGroup(t,e,i){return ae.resolve()}updateIndexEntries(t,e){return ae.resolve()}}class IM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Zn(wn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Zn(wn.comparator)).toArray()}}const LI=new Uint8Array(0);class tde{constructor(t,e){this.databaseId=e,this.cn=new IM,this.ln=new cc(i=>_h(i),(i,r)=>ry(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.cn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.cn.add(e)});const o={collectionId:i,parent:lo(r)};return f8(t).put(o)}return ae.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[I6(e),""],!1,!0);return f8(t).U(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(ll(s.parent))}return i})}addFieldIndex(t,e){const i=yy(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const s=pp(t);return o.next(a=>{s.put(r8(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=yy(t),r=pp(t),o=mp(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=yy(t),i=mp(t),r=pp(t);return e.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(t,e){return ae.forEach(this.hn(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new c8(i).an();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=mp(t);let r=!0;const o=new Map;return ae.forEach(this.hn(e),s=>this.Pn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=tn();const a=[];return ae.forEach(o,(l,c)=>{var Q;Ve("IndexedDbIndexManager",`Using index ${Q=l,`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map(ge=>`${ge.fieldPath}:${ge.kind}`).join(",")}`} to execute ${_h(e)}`);const h=function(Q,ge){const ze=GD(ge);if(void 0===ze)return null;for(const We of TI(Q,ze.fieldPath))switch(We.op){case"array-contains-any":return We.value.arrayValue.values||[];case"array-contains":return[We.value]}return null}(c,l),p=function(Q,ge){const ze=new Map;for(const We of fh(ge))for(const $ of TI(Q,We.fieldPath))switch($.op){case"==":case"in":ze.set(We.fieldPath.canonicalString(),$.value);break;case"not-in":case"!=":return ze.set(We.fieldPath.canonicalString(),$.value),Array.from(ze.values())}return null}(c,l),b=function(Q,ge){const ze=[];let We=!0;for(const $ of fh(ge)){const V=0===$.kind?sj(Q,$.fieldPath,Q.startAt):aj(Q,$.fieldPath,Q.startAt);ze.push(V.value),We&&(We=V.inclusive)}return new Mu(ze,We)}(c,l),E=function(Q,ge){const ze=[];let We=!0;for(const $ of fh(ge)){const V=0===$.kind?aj(Q,$.fieldPath,Q.endAt):sj(Q,$.fieldPath,Q.endAt);ze.push(V.value),We&&(We=V.inclusive)}return new Mu(ze,We)}(c,l),T=this.In(l,c,b),R=this.In(l,c,E),P=this.Tn(l,c,p),H=this.En(l.indexId,h,T,b.inclusive,R,E.inclusive,P);return ae.forEach(H,B=>i.G(B,e.limit).next(Q=>{Q.forEach(ge=>{const ze=it.fromSegments(ge.documentKey);s.has(ze)||(s=s.add(ze),a.push(ze))})}))}).next(()=>a)}return ae.resolve(null)})}hn(t){let e=this.ln.get(t);return e||(e=0===t.filters.length?[t]:Jue($n.create(t.filters,"and")).map(i=>nM(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,e),e)}En(t,e,i,r,o,s,a){const l=(null!=e?e.length:1)*Math.max(i.length,o.length),c=l/(null!=e?e.length:1),h=[];for(let p=0;p<l;++p){const b=e?this.dn(e[p/c]):LI,E=this.An(t,b,i[p%c],r),T=this.Rn(t,b,o[p%c],s),R=a.map(P=>this.An(t,b,P,!0));h.push(...this.createRange(E,T,R))}return h}An(t,e,i,r){const o=new xh(t,it.empty(),e,i);return r?o:o.Zt()}Rn(t,e,i,r){const o=new xh(t,it.empty(),e,i);return r?o.Zt():o}Pn(t,e){const i=new c8(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)i.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2;const r=this.hn(e);return ae.forEach(r,o=>this.Pn(t,o).next(s=>{s?0!==i&&s.fields.length<function(l){let c=new Zn(Ci.comparator),h=!1;for(const p of l.filters)for(const b of p.getFlattenedFilters())b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?h=!0:c=c.add(b.field));for(const p of l.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}Vn(t,e){const i=new vy;for(const r of fh(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.Yt(r.kind);Ih.vt.It(o,s)}return i.zt()}dn(t){const e=new vy;return Ih.vt.It(t,e.Yt(0)),e.zt()}mn(t,e){const i=new vy;return Ih.vt.It(gh(this.databaseId,e),i.Yt(function(o){const s=fh(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.zt()}Tn(t,e,i){if(null===i)return[];let r=[];r.push(new vy);let o=0;for(const s of fh(t)){const a=i[o++];for(const l of r)if(this.fn(e,s.fieldPath)&&ty(a))r=this.gn(r,s,a);else{const c=l.Yt(s.kind);Ih.vt.It(a,c)}}return this.pn(r)}In(t,e,i){return this.Tn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].zt();return e}gn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new vy;l.seed(a.zt()),Ih.vt.It(s,l.Yt(e.kind)),o.push(l)}return o}fn(t,e){return!!t.filters.find(i=>i instanceof En&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=yy(t),r=pp(t);return(e?i.U("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.U()).next(o=>{const s=[];return ae.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(h,p){const b=p?new tp(p.sequenceNumber,new Ds(wh(p.readTime),new it(ll(p.documentKey)),p.largestBatchId)):tp.empty(),E=h.fields.map(([T,R])=>new mh(Ci.fromServerFormat(T),R));return new ep(h.indexId,h.collectionGroup,E,b)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:$t(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=yy(t),o=pp(t);return this.yn(t).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>ae.forEach(a,l=>o.put(r8(l.indexId,this.uid,s,i)))))}updateIndexEntries(t,e){const i=new Map;return ae.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?ae.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),ae.forEach(a,l=>this.wn(t,r,l).next(c=>{const h=this.Sn(o,l);return c.isEqual(h)?ae.resolve():this.bn(t,o,l,c,h)}))))})}Dn(t,e,i,r){return mp(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return mp(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=mp(t);let o=new Zn(Pu);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(s,a)=>{o=o.add(new xh(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(t,e){let i=new Zn(Pu);const r=this.Vn(e,t);if(null==r)return i;const o=GD(e);if(null!=o){const s=t.data.field(o.fieldPath);if(ty(s))for(const a of s.arrayValue.values||[])i=i.add(new xh(e.indexId,t.key,this.dn(a),r))}else i=i.add(new xh(e.indexId,t.key,LI,r));return i}bn(t,e,i,r,o){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(l,c,h,p,b){const E=l.getIterator(),T=c.getIterator();let R=np(E),P=np(T);for(;R||P;){let H=!1,B=!1;if(R&&P){const Q=h(R,P);Q<0?B=!0:Q>0&&(H=!0)}else null!=R?B=!0:H=!0;H?(p(P),P=np(T)):B?(b(R),R=np(E)):(R=np(E),P=np(T))}}(r,o,Pu,a=>{s.push(this.Dn(t,e,i,a))},a=>{s.push(this.vn(t,e,i,a))}),ae.waitFor(s)}yn(t){let e=1;return pp(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>Pu(s,a)).filter((s,a,l)=>!a||0!==Pu(s,l[a-1]));const r=[];r.push(t);for(const s of i){const a=Pu(s,t),l=Pu(s,e);if(0===a)r[0]=t.Zt();else if(a>0&&l<0)r.push(s),r.push(s.Zt());else if(l>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,LI,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,LI,[]]))}return o}Cn(t,e){return Pu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(m8)}getMinOffset(t,e){return ae.mapArray(this.hn(e),i=>this.Pn(t,i).next(r=>r||ut())).next(m8)}}function f8(n){return Dr(n,"collectionParents")}function mp(n){return Dr(n,"indexEntries")}function yy(n){return Dr(n,"indexConfiguration")}function pp(n){return Dr(n,"indexState")}function m8(n){ft(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;qD(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ds(t.readTime,t.documentKey,e)}const p8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class uo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new uo(t,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function g8(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const l=i.J({range:s},(h,p,b)=>(a++,b.delete()));o.push(l.next(()=>{ft(1===a)}));const c=[];for(const h of e.mutations){const p=k6(t,h.key.path,e.batchId);o.push(r.delete(p)),c.push(h.key)}return ae.waitFor(o).next(()=>c)}function VI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ut();t=n.noDocument}return JSON.stringify(t).length}uo.DEFAULT_COLLECTION_PERCENTILE=10,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uo.DEFAULT=new uo(41943040,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uo.DISABLED=new uo(-1,0,0);class UI{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(t,e,i,r){ft(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new UI(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ku(t).J({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=gp(t),s=ku(t);return s.add({}).next(a=>{ft("number"==typeof a);const l=new lM(a,e,i,r),c=function(E,T,R){const P=R.baseMutations.map(B=>py(E.ct,B)),H=R.mutations.map(B=>py(E.ct,B));return{userId:T,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:P,mutations:H}}(this.serializer,this.userId,l),h=[];let p=new Zn((b,E)=>$t(b.canonicalString(),E.canonicalString()));for(const b of r){const E=k6(this.userId,b.key.path,a);p=p.add(b.key.path.popLast()),h.push(s.put(c)),h.push(o.put(E,zce))}return p.forEach(b=>{h.push(this.indexManager.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),ae.waitFor(h).next(()=>l)})}lookupMutationBatch(t,e){return ku(t).get(e).next(i=>i?(ft(i.userId===this.userId),Eh(this.serializer,i)):null)}Mn(t,e){return this.Fn[e]?ae.resolve(this.Fn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Fn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return ku(t).J({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(ft(a.batchId>=i),o=Eh(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ku(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ku(t).U("userMutationsIndex",e).next(i=>i.map(r=>Eh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=_I(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return gp(t).J({range:r},(s,a,l)=>{const[c,h,p]=s,b=ll(h);if(c===this.userId&&e.path.isEqual(b))return ku(t).get(p).next(E=>{if(!E)throw ut();ft(E.userId===this.userId),o.push(Eh(this.serializer,E))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Zn($t);const r=[];return e.forEach(o=>{const s=_I(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=gp(t).J({range:a},(c,h,p)=>{const[b,E,T]=c,R=ll(E);b===this.userId&&o.path.isEqual(R)?i=i.add(T):p.done()});r.push(l)}),ae.waitFor(r).next(()=>this.xn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=_I(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Zn($t);return gp(t).J({range:s},(l,c,h)=>{const[p,b,E]=l,T=ll(b);p===this.userId&&i.isPrefixOf(T)?T.length===r&&(a=a.add(E)):h.done()}).next(()=>this.xn(t,a))}xn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(ku(t).get(o).next(s=>{if(null===s)throw ut();ft(s.userId===this.userId),i.push(Eh(this.serializer,s))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return g8(t._e,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.On(e.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ae.resolve();const i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return gp(t).J({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=ll(o[1]);r.push(l)}else a.done()}).next(()=>{ft(0===r.length)})})}containsKey(t,e){return _8(t,this.userId,e)}Nn(t){return v8(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _8(n,t,e){const i=_I(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return gp(n).J({range:o,H:!0},(a,l,c)=>{const[h,p,b]=a;h===t&&p===r&&(s=!0),c.done()}).next(()=>s)}function ku(n){return Dr(n,"mutations")}function gp(n){return Dr(n,"documentMutations")}function v8(n){return Dr(n,"mutationQueues")}class Ch{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ch(0)}static kn(){return new Ch(-1)}}class nde{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.qn(t).next(e=>{const i=new Ch(e.highestTargetId);return e.highestTargetId=i.next(),this.Qn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(e=>It.fromTimestamp(new Ni(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.qn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Qn(t,r)))}addTargetData(t,e){return this.Kn(t,e).next(()=>this.qn(t).next(i=>(i.targetCount+=1,this.$n(e,i),this.Qn(t,i))))}updateTargetData(t,e){return this.Kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>_p(t).delete(e.targetId)).next(()=>this.qn(t)).next(i=>(ft(i.targetCount>0),i.targetCount-=1,this.Qn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return _p(t).J((s,a)=>{const l=gy(a);l.sequenceNumber<=e&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(t,l)))}).next(()=>ae.waitFor(o)).next(()=>r)}forEachTarget(t,e){return _p(t).J((i,r)=>{const o=gy(r);e(o)})}qn(t){return y8(t).get("targetGlobalKey").next(e=>(ft(null!==e),e))}Qn(t,e){return y8(t).put("targetGlobalKey",e)}Kn(t,e){return _p(t).put(n8(this.serializer,e))}$n(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.qn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=_h(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return _p(t).J({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=gy(a);ry(e,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Ou(t);return e.forEach(s=>{const a=lo(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),ae.waitFor(r)}removeMatchingKeys(t,e,i){const r=Ou(t);return ae.forEach(e,o=>{const s=lo(o.path);return ae.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Ou(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ou(t);let o=tn();return r.J({range:i,H:!0},(s,a,l)=>{const c=ll(s[1]),h=new it(c);o=o.add(h)}).next(()=>o)}containsKey(t,e){const i=lo(e.path),r=IDBKeyRange.bound([i],[I6(i)],!1,!0);let o=0;return Ou(t).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],l,c)=>{0!==s&&(o++,c.done())}).next(()=>o>0)}ot(t,e){return _p(t).get(e).next(i=>i?gy(i):null)}}function _p(n){return Dr(n,"targets")}function y8(n){return Dr(n,"targetGlobal")}function Ou(n){return Dr(n,"targetDocuments")}function b8([n,t],[e,i]){const r=$t(n,e);return 0===r?$t(t,i):r}class ide{constructor(t){this.Un=t,this.buffer=new Zn(b8),this.Wn=0}Gn(){return++this.Wn}zn(t){const e=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();b8(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class w8{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var e=this;Ve("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ve.A)(function*(){e.jn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){xu(i)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Iu(i)}yield e.Hn(3e5)}))}}class rde{constructor(t,e){this.Jn=t,this.params=e}calculateTargetCount(t,e){return this.Jn.Yn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ae.resolve(Ms.oe);const i=new ide(e);return this.Jn.forEachTarget(t,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(t,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(p8)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p8):this.Xn(t,e))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,e){let i,r,o,s,a,l,c;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(t,i,e))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(c=Date.now(),Xm()<=sl.$b.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${p} documents in `+(c-l)+`ms\nTotal Duration: ${c-h}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class ode{constructor(t,e){this.db=t,this.garbageCollector=function E8(n,t){return new rde(n,t)}(this,e)}Yn(t){const e=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}er(t){let e=0;return this.Zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Zn(t,e){return this.tr(t,(i,r)=>e(r))}addReference(t,e,i){return BI(t,i)}removeReference(t,e,i){return BI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return BI(t,e)}nr(t,e){return function(r,o){let s=!1;return v8(r).Y(a=>_8(r,a,o).next(l=>(l&&(s=!0),ae.resolve(!l)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.tr(t,(s,a)=>{if(a<=e){const l=this.nr(t,s).next(c=>{if(!c)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,It.min()),Ou(t).delete([0,lo(s.path)])))});r.push(l)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return BI(t,e)}tr(t,e){const i=Ou(t);let r,o=Ms.oe;return i.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{0===s?(o!==Ms.oe&&e(new it(ll(r)),o),o=c,r=l):o=Ms.oe}).next(()=>{o!==Ms.oe&&e(new it(ll(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function BI(n,t){return Ou(n).put((r=n.currentSequenceNumber,{targetId:0,path:lo(t.path),sequenceNumber:r}));var r}class I8{constructor(){this.changes=new cc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ti.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ae.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class sde{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Th(t).put(i)}removeEntry(t,e,i){return Th(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],OI(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.rr(t,i)))}getEntry(t,e){let i=Ti.newInvalidDocument(e);return Th(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(by(e))},(r,o)=>{i=this.ir(e,o)}).next(()=>i)}sr(t,e){let i={size:0,document:Ti.newInvalidDocument(e)};return Th(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(by(e))},(r,o)=>{i={document:this.ir(e,o),size:VI(o)}}).next(()=>i)}getEntries(t,e){let i=as();return this._r(t,e,(r,o)=>{const s=this.ir(r,o);i=i.insert(r,s)}).next(()=>i)}ar(t,e){let i=as(),r=new _i(it.comparator);return this._r(t,e,(o,s)=>{const a=this.ir(o,s);i=i.insert(o,a),r=r.insert(o,VI(s))}).next(()=>({documents:i,ur:r}))}_r(t,e,i){if(e.isEmpty())return ae.resolve();let r=new Zn(A8);e.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(by(r.first()),by(r.last())),s=r.getIterator();let a=s.getNext();return Th(t).J({index:"documentKeyIndex",range:o},(l,c,h)=>{const p=it.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&A8(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?h.$(by(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),OI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Th(t).U(IDBKeyRange.bound(a,l,!0)).next(c=>{o?.incrementDocumentReadCount(c.length);let h=as();for(const p of c){const b=this.ir(it.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);b.isFoundDocument()&&(sy(e,b)||r.has(b.key))&&(h=h.insert(b.key,b))}return h})}getAllFromCollectionGroup(t,e,i,r){let o=as();const s=T8(e,i),a=T8(e,Ds.max());return Th(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,h)=>{const p=this.ir(it.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(p.key,p),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(t){return new ade(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return C8(t).get("remoteDocumentGlobalKey").next(e=>(ft(!!e),e))}rr(t,e){return C8(t).put("remoteDocumentGlobalKey",e)}ir(t,e){if(e){const i=function que(n,t){let e;if(t.document)e=Wj(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=it.fromSegments(t.noDocument.path),r=wh(t.noDocument.readTime);e=Ti.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ut();{const i=it.fromSegments(t.unknownDocument.path),r=wh(t.unknownDocument.version);e=Ti.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new Ni(r[0],r[1]);return It.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(It.min()))return i}return Ti.newInvalidDocument(t)}}function x8(n){return new sde(n)}class ade extends I8{constructor(t,e){super(),this.cr=t,this.trackRemovals=e,this.lr=new cc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Zn((o,s)=>$t(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.lr.get(o);if(e.push(this.cr.removeEntry(t,o,a.readTime)),s.isValidDocument()){const l=t8(this.cr.serializer,s);r=r.add(o.path.popLast());const c=VI(l);i+=c-a.size,e.push(this.cr.addEntry(t,o,l))}else if(i-=a.size,this.trackRemovals){const l=t8(this.cr.serializer,s.convertToNoDocument(It.min()));e.push(this.cr.addEntry(t,o,l))}}),r.forEach(o=>{e.push(this.cr.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.cr.updateMetadata(t,i)),ae.waitFor(e)}getFromCache(t,e){return this.cr.sr(t,e).next(i=>(this.lr.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.cr.ar(t,e).next(({documents:i,ur:r})=>(r.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function C8(n){return Dr(n,"remoteDocumentGlobal")}function Th(n){return Dr(n,"remoteDocumentsV14")}function by(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function T8(n,t){const e=t.documentKey.path.toArray();return[n,OI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function A8(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=$t(e[o],i[o]),r)return r;return r=$t(e.length,i.length),r||(r=$t(e[e.length-2],i[i.length-2]),r||$t(e[e.length-1],i[i.length-1]))}class lde{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class S8{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&uy(i.mutation,r,ss.empty(),Ni.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,tn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=tn()){const r=ul();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=ay();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=ul();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,tn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=as();const s=ly(),a=ly();return e.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(void 0===h||h.mutation instanceof uc)?o=o.insert(c.key,c):void 0!==h?(s.set(c.key,h.mutation.getFieldMask()),uy(h.mutation,c,h.mutation.getFieldMask(),Ni.now())):s.set(c.key,ss.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((c,h)=>s.set(c,h)),e.forEach((c,h)=>{var p;return a.set(c,new lde(h,null!==(p=s.get(c))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(t,e){const i=ly();let r=new _i((s,a)=>s-a),o=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let h=i.get(l)||ss.empty();h=a.applyToLocalView(c,h),i.set(l,h);const p=(r.get(a.batchId)||tn()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,p=_j();h.forEach(b=>{if(!o.has(b)){const E=Cj(e.get(b),i.get(b));null!==E&&p.set(b,E),o=o.add(b)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,p))}return ae.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return it.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):iM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ae.resolve(ul());let a=-1,l=o;return s.next(c=>ae.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?ae.resolve():this.remoteDocumentCache.getEntry(t,h).next(b=>{l=l.insert(h,b)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,l,c,tn())).next(h=>({batchId:a,changes:gj(h)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new it(e)).next(i=>{let r=ay();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=ay();return this.indexManager.getCollectionParents(t,o).next(a=>ae.forEach(a,l=>{const c=(p=e,b=l.child(o),new lc(b,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,b;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(h=>{h.forEach((p,b)=>{s=s.insert(p,b)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((l,c)=>{const h=c.getKey();null===s.get(h)&&(s=s.insert(h,Ti.newInvalidDocument(h)))});let a=ay();return s.forEach((l,c)=>{const h=o.get(l);void 0!==h&&uy(h.mutation,c,ss.empty(),Ni.now()),sy(e,c)&&(a=a.insert(l,c))}),a})}}class cde{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return ae.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,{id:(r=e).id,version:r.version,createTime:hr(r.createTime)}),ae.resolve();var r}getNamedQuery(t,e){return ae.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,{name:(r=e).name,query:_M(r.bundledQuery),readTime:hr(r.readTime)}),ae.resolve();var r}}class ude{constructor(){this.overlays=new _i(it.comparator),this.Ir=new Map}getOverlay(t,e){return ae.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ul();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ht(t,e,o)}),ae.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ir.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),ae.resolve()}getOverlaysForCollection(t,e,i){const r=ul(),o=e.length+1,s=new it(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return ae.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new _i((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let h=o.get(c.largestBatchId);null===h&&(h=ul(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ul(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return ae.resolve(a)}ht(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new uM(e,i));let o=this.Ir.get(e);void 0===o&&(o=tn(),this.Ir.set(e,o)),this.Ir.set(e,o.add(i.key))}}class dde{constructor(){this.sessionToken=Qi.EMPTY_BYTE_STRING}getSessionToken(t){return ae.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ae.resolve()}}class xM{constructor(){this.Tr=new Zn(Br.Er),this.dr=new Zn(Br.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const i=new Br(t,e);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Vr(new Br(t,e))}mr(t,e){t.forEach(i=>this.removeReference(i,e))}gr(t){const e=new it(new wn([])),i=new Br(e,t),r=new Br(e,t+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new it(new wn([])),i=new Br(e,t),r=new Br(e,t+1);let o=tn();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new Br(t,0),i=this.Tr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Br{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return it.comparator(t.key,e.key)||$t(t.wr,e.wr)}static Ar(t,e){return $t(t.wr,e.wr)||it.comparator(t.key,e.key)}}class hde{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Zn(Br.Er)}checkEmpty(t){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.Sr;this.Sr++;const s=new lM(o,e,i,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Br(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return ae.resolve(s)}lookupMutationBatch(t,e){return ae.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.vr(e+1),o=r<0?0:r;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Br(e,0),r=new Br(e,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{const a=this.Dr(s.wr);o.push(a)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Zn($t);return e.forEach(r=>{const o=new Br(r,0),s=new Br(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),ae.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;it.isDocumentKey(o)||(o=o.child(""));const s=new Br(new it(o),0);let a=new Zn($t);return this.br.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.wr)),!0)},s),ae.resolve(this.Cr(a))}Cr(t){const e=[];return t.forEach(i=>{const r=this.Dr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){ft(0===this.Fr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return ae.forEach(e.mutations,r=>{const o=new Br(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,e){const i=new Br(e,0),r=this.br.firstAfterOrEqual(i);return ae.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ae.resolve()}Fr(t,e){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class fde{constructor(t){this.Mr=t,this.docs=new _i(it.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ae.resolve(i?i.document.mutableCopy():Ti.newInvalidDocument(e))}getEntries(t,e){let i=as();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ti.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=as();const s=e.path,a=new it(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||qD(C6(h),i)<=0||(r.has(h.key)||sy(e,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(t,e,i,r){ut()}Or(t,e){return ae.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new mde(this)}getSize(t){return ae.resolve(this.size)}}class mde extends I8{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),ae.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}class pde{constructor(t){this.persistence=t,this.Nr=new cc(e=>_h(e),ry),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xM,this.targetCount=0,this.kr=Ch.Bn()}forEachTarget(t,e){return this.Nr.forEach((i,r)=>e(r)),ae.resolve()}getLastRemoteSnapshotVersion(t){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ae.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Lr&&(this.Lr=e),ae.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new Ch(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,ae.resolve()}updateTargetData(t,e){return this.Kn(e),ae.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,ae.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),ae.waitFor(o).next(()=>r)}getTargetCount(t){return ae.resolve(this.targetCount)}getTargetData(t,e){const i=this.Nr.get(e)||null;return ae.resolve(i)}addMatchingKeys(t,e,i){return this.Br.Rr(e,i),ae.resolve()}removeMatchingKeys(t,e,i){this.Br.mr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),ae.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),ae.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Br.yr(e);return ae.resolve(i)}containsKey(t,e){return ae.resolve(this.Br.containsKey(e))}}class CM{constructor(t,e){this.qr={},this.overlays={},this.Qr=new Ms(0),this.Kr=!1,this.Kr=!0,this.$r=new dde,this.referenceDelegate=t(this),this.Ur=new pde(this),this.indexManager=new ede,this.remoteDocumentCache=new fde(i=>this.referenceDelegate.Wr(i)),this.serializer=new e8(e),this.Gr=new cde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new ude,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.qr[t.toKey()];return i||(i=new hde(e,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,i){Ve("MemoryPersistence","Starting transaction:",t);const r=new gde(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(t,e){return ae.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,e)))}}class gde extends A6{constructor(t){super(),this.currentSequenceNumber=t}}class jI{constructor(t){this.persistence=t,this.Jr=new xM,this.Yr=null}static Zr(t){return new jI(t)}get Xr(){if(this.Yr)return this.Yr;throw ut()}addReference(t,e,i){return this.Jr.addReference(i,e),this.Xr.delete(i.toString()),ae.resolve()}removeReference(t,e,i){return this.Jr.removeReference(i,e),this.Xr.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),ae.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,i=>{const r=it.fromPath(i);return this.ei(t,r).next(o=>{o||e.removeEntry(r,It.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(i=>{i?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return ae.or([()=>ae.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}class _de{constructor(t){this.serializer=t}O(t,e,i,r){const o=new gI("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",P6,{unique:!0}),l.createObjectStore("documentMutations"),D8(t),function(l){l.createObjectStore("remoteDocuments")}(t));let s=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),D8(t)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(l,c){return c.store("mutations").U().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",P6,{unique:!0});const p=c.store("mutations"),b=h.map(E=>p.put(E));return ae.waitFor(b)})}(t,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.ni(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.ri(o)))),i<7&&r>=7&&(s=s.next(()=>this.ii(o))),i<8&&r>=8&&(s=s.next(()=>this.si(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.oi(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:eue});c.createIndex("collectionPathOverlayIndex",tue,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",nue,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Hce});c.createIndex("documentKeyIndex",$ce),c.createIndex("collectionGroupIndex",Gce)}(t)).next(()=>this._i(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ai(t,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Yce}).createIndex("sequenceNumberIndex",Zce,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Xce}).createIndex("documentKeyIndex",Jce,{unique:!1})}(t))),i<16&&r>=16&&(s=s.next(()=>{e.objectStore("indexState").clear()}).next(()=>{e.objectStore("indexEntries").clear()})),i<17&&r>=17&&(s=s.next(()=>{!function(l){l.createObjectStore("globals",{keyPath:"name"})}(t)})),s}ri(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=VI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.U().next(r=>ae.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(a=>ae.forEach(a,l=>{ft(l.userId===o.userId);const c=Eh(this.serializer,l);return g8(t,o.userId,c).next(()=>{})}))}))}ii(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((s,a)=>{const l=new wn(s),c=[0,lo(l)];o.push(e.get(c).next(h=>h?ae.resolve():e.put({targetId:0,path:lo(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(o))})}si(t,e){t.createObjectStore("collectionParents",{keyPath:Qce});const i=e.store("collectionParents"),r=new IM,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:lo(l)})}};return e.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new wn(s);return o(l.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([s,a,l],c)=>{const h=ll(a);return o(h.popLast())}))}oi(t){const e=t.store("targets");return e.J((i,r)=>{const o=gy(r),s=n8(this.serializer,o);return e.put(s)})}_i(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,s)=>{const a=e.store("remoteDocumentsV14"),l=(p=s,p.document?new it(wn.fromString(p.document.name).popFirst(5)):p.noDocument?it.fromSegments(p.noDocument.path):p.unknownDocument?it.fromSegments(p.unknownDocument.path):ut()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(c))}).next(()=>ae.waitFor(r))}ai(t,e){const i=e.store("mutations"),r=x8(this.serializer),o=new CM(jI.Zr,this.serializer.ct);return i.U().next(s=>{const a=new Map;return s.forEach(l=>{var c;let h=null!==(c=a.get(l.userId))&&void 0!==c?c:tn();Eh(this.serializer,l).keys().forEach(p=>h=h.add(p)),a.set(l.userId,h)}),ae.forEach(a,(l,c)=>{const h=new Vr(c),p=NI.lt(this.serializer,h),b=o.getIndexManager(h),E=UI.lt(h,this.serializer,b,o.referenceDelegate);return new S8(r,E,p,b).recalculateAndSaveOverlaysForDocumentKeys(new YD(e,Ms.oe),l).next()})})}}function D8(n){n.createObjectStore("targetDocuments",{keyPath:Wce}).createIndex("documentTargetsIndex",Kce,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qce,{unique:!0}),n.createObjectStore("targetGlobal")}const TM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class AM{constructor(t,e,i,r,o,s,a,l,c,h,p=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ui=o,this.window=s,this.document=a,this.ci=c,this.li=h,this.hi=p,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=b=>Promise.resolve(),!AM.D())throw new Fe(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ode(this,r),this.Ai=e+"main",this.serializer=new e8(l),this.Ri=new al(this.Ai,this.hi,new _de(this.serializer)),this.$r=new Kue,this.Ur=new nde(this.referenceDelegate,this.serializer),this.remoteDocumentCache=x8(this.serializer),this.Gr=new Wue,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===h&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(Ee.FAILED_PRECONDITION,TM);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new Ms(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var e=this;return this.di=function(){var i=(0,ve.A)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var e=(0,ve.A)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,ve.A)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>HI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(e=>this.isPrimary&&!e?this.bi(t).next(()=>!1):!!e&&this.Di(t).next(()=>!0))).catch(t=>{if(xu(t))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return wy(t).get("owner").next(e=>ae.resolve(this.vi(e)))}Ci(t){return HI(t).delete(this.clientId)}Fi(){var t=this;return(0,ve.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Dr(i,"clientMetadata");return r.U().next(o=>{const s=t.xi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return ae.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Vi)for(const i of e)t.Vi.removeItem(t.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?ae.resolve(!0):wy(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)){if(this.vi(e)&&this.networkEnabled)return!0;if(!this.vi(e)){if(!e.allowTabSynchronization)throw new Fe(Ee.FAILED_PRECONDITION,TM);return!1}}return!(!this.networkEnabled||!this.inForeground)||HI(t).U().next(i=>void 0===this.xi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ve("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ve.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new YD(e,Ms.oe);return t.bi(i).next(()=>t.Ci(i))}),t.Ri.close(),t.qi()})()}xi(t,e){return t.filter(i=>this.Mi(i.updateTimeMs,e)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>HI(t).U().next(e=>this.xi(e,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,e){return UI.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new tde(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return NI.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,e,i){Ve("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=17===(l=this.hi)?oue:16===l?rue:15===l?QD:14===l?F6:13===l?N6:12===l?iue:11===l?O6:void ut();var l;let s;return this.Ri.runTransaction(t,r,o,a=>(s=new YD(a,this.Qr?this.Qr.next():Ms.oe),"readwrite-primary"===e?this.wi(s).next(l=>!!l||this.Si(s)).next(l=>{if(!l)throw dr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Fe(Ee.FAILED_PRECONDITION,T6);return i(s)}).next(l=>this.Di(s).next(()=>l)):this.Ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(t){return wy(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Fe(Ee.FAILED_PRECONDITION,TM)})}Di(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wy(t).put("owner",e)}static D(){return al.D()}bi(t){const e=wy(t);return e.get("owner").next(i=>this.vi(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ae.resolve())}Mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(dr(`Detected an update time that is in the future: ${t} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;(0,an.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var e;try{const i=null!==(null===(e=this.Vi)||void 0===e?void 0:e.getItem(this.Oi(t)));return Ve("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return dr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){dr("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function wy(n){return Dr(n,"owner")}function HI(n){return Dr(n,"clientMetadata")}function SM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class DM{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Ui=r}static Wi(t,e){let i=tn(),r=tn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new DM(t,e.fromCache,i,r)}}class vde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class M8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,an.nr)()?8:S6((0,an.ZQ)())>0?6:4}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.Yi(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new vde;return this.Xi(t,e,s).next(a=>{if(o.result=a,this.zi)return this.es(t,e,s,a.size)})}).next(()=>o.result)}es(t,e,i,r){return i.documentReadCount<this.ji?(Xm()<=sl.$b.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",ap(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(Xm()<=sl.$b.DEBUG&&Ve("QueryEngine","Query:",ap(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Xm()<=sl.$b.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",ap(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,co(e))):ae.resolve())}Yi(t,e){if(cj(e))return ae.resolve(null);let i=co(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=AI(e,null,"F"),i=co(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=tn(...o);return this.Ji.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.ts(e,a);return this.ns(e,c,s,l.readTime)?this.Yi(t,AI(e,null,"F")):this.rs(t,c,e,l)}))})))}Zi(t,e,i,r){return cj(e)||r.isEqual(It.min())?ae.resolve(null):this.Ji.getDocuments(t,i).next(o=>{const s=this.ts(e,o);return this.ns(e,s,i,r)?ae.resolve(null):(Xm()<=sl.$b.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ap(e)),this.rs(t,s,e,x6(r,-1)).next(a=>a))})}ts(t,e){let i=new Zn(mj(t));return e.forEach((r,o)=>{sy(t,o)&&(i=i.add(o))}),i}ns(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(t,e,i){return Xm()<=sl.$b.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",ap(e)),this.Ji.getDocumentsMatchingQuery(t,e,Ds.min(),i)}rs(t,e,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class yde{constructor(t,e,i,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new _i($t),this._s=new cc(o=>_h(o),ry),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new S8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function R8(n,t,e,i){return new yde(n,t,e,i)}function P8(n,t){return MM.apply(this,arguments)}function MM(){return(MM=(0,ve.A)(function*(n,t){const e=Ze(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.ls(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=tn();for(const c of r){s.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return e.localDocuments.getDocuments(i,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function k8(n){const t=Ze(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function O8(n,t,e){let i=tn(),r=tn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=as();return e.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(It.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):Ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:r}})}function Ede(n,t){const e=Ze(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function vp(n,t){const e=Ze(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ur.getTargetData(i,t).next(o=>o?(r=o,ae.resolve(r)):e.Ur.allocateTargetId(i).next(s=>(r=new dc(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.os.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.os=e.os.insert(i.targetId,i),e._s.set(t,i.targetId)),i})}function yp(n,t,e){return RM.apply(this,arguments)}function RM(){return(RM=(0,ve.A)(function*(n,t,e){const i=Ze(n),r=i.os.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!xu(s))throw s;Ve("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.os=i.os.remove(t),i._s.delete(r.target)})).apply(this,arguments)}function $I(n,t,e){const i=Ze(n);let r=It.min(),o=tn();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,h){const p=Ze(l),b=p._s.get(h);return void 0!==b?ae.resolve(p.os.get(b)):p.Ur.getTargetData(c,h)}(i,s,co(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.ss.getDocumentsMatchingQuery(s,t,e?r:It.min(),e?o:tn())).next(a=>(L8(i,fj(t),a),{documents:a,Ts:o})))}function N8(n,t){const e=Ze(n),i=Ze(e.Ur),r=e.os.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,t).next(s=>s?s.target:null))}function F8(n,t){const e=Ze(n),i=e.us.get(t)||It.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.cs.getAllFromCollectionGroup(r,t,x6(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(L8(e,t,r),r))}function L8(n,t,e){let i=n.us.get(t)||It.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(t,i)}function PM(){return(PM=(0,ve.A)(function*(n,t,e,i){const r=Ze(n);let o=tn(),s=as();for(const c of e){const h=t.Es(c.metadata.name);c.document&&(o=o.add(h));const p=t.ds(c);p.setReadTime(t.As(c.metadata.readTime)),s=s.insert(h,p)}const a=r.cs.newChangeBuffer({trackRemovals:!0}),l=yield vp(r,(h=i,co(op(wn.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>O8(c,a,s).next(h=>(a.apply(c),h)).next(h=>r.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Ur.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,h.Ps,h.Is)).next(()=>h.Ps)))})).apply(this,arguments)}function xde(n,t){return kM.apply(this,arguments)}function kM(){return(kM=(0,ve.A)(function*(n,t,e=tn()){const i=yield vp(n,co(_M(t.bundledQuery))),r=Ze(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=hr(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Gr.saveNamedQuery(o,t);const a=i.withResumeToken(Qi.EMPTY_BYTE_STRING,s);return r.os=r.os.insert(a.targetId,a),r.Ur.updateTargetData(o,a).next(()=>r.Ur.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Ur.addMatchingKeys(o,e,i.targetId)).next(()=>r.Gr.saveNamedQuery(o,t))})})).apply(this,arguments)}function V8(n,t){return`firestore_clients_${n}_${t}`}function U8(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function OM(n,t){return`firestore_targets_${n}_${t}`}class GI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Rs(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new Fe(r.error.code,r.error.message))),s?new GI(t,e,r.state,o):(dr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ey{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Rs(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Fe(i.error.code,i.error.message))),o?new Ey(t,i.state,r):(dr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class qI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Rs(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=oM();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=M6(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new qI(t,o):(dr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class NM{constructor(t,e){this.clientId=t,this.onlineState=e}static Rs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new NM(e.clientId,e.onlineState):(dr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class FM{constructor(){this.activeTargetIds=oM()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LM{constructor(t,e,i,r,o){this.window=t,this.ui=e,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new _i($t),this.started=!1,this.bs=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=V8(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new FM),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ve.A)(function*(){const e=yield t.syncEngine.Qi();for(const r of e){if(r===t.ps)continue;const o=t.getItem(V8(t.persistenceKey,r));if(o){const s=qI.Rs(r,o);s&&(t.Ss=t.Ss.insert(s.clientId,s))}}t.Ns();const i=t.storage.getItem(t.xs);if(i){const r=t.Ls(i);r&&t.Bs(r)}for(const r of t.bs)t.ws(r);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let e=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,e,i){this.qs(t,e,i),this.Qs(t)}addLocalQueryTarget(t,e=!0){let i="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(OM(this.persistenceKey,t));if(r){const o=Ey.Rs(t,r);o&&(i=o.state)}}return e&&this.Ks.fs(t),this.Ns(),i}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(OM(this.persistenceKey,t))}updateQueryState(t,e,i){this.$s(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Qs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ve("SharedClientState","READ",t,e),e}setItem(t,e){Ve("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ve("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,ve.A)(function*(){if(e.started){if(null!==i.key)if(e.Cs.test(i.key)){if(null==i.newValue){const r=e.Gs(i.key);return e.zs(r,null)}{const r=e.js(i.key,i.newValue);if(r)return e.zs(r.clientId,r)}}else if(e.Fs.test(i.key)){if(null!==i.newValue){const r=e.Hs(i.key,i.newValue);if(r)return e.Js(r)}}else if(e.Ms.test(i.key)){if(null!==i.newValue){const r=e.Ys(i.key,i.newValue);if(r)return e.Zs(r)}}else if(i.key===e.xs){if(null!==i.newValue){const r=e.Ls(i.newValue);if(r)return e.Bs(r)}}else if(i.key===e.vs){const r=function(s){let a=Ms.oe;if(null!=s)try{const l=JSON.parse(s);ft("number"==typeof l),a=l}catch(l){dr("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==Ms.oe&&e.sequenceNumberHandler(r)}else if(i.key===e.Os){const r=e.Xs(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.eo(o)))}}else e.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,e,i){const r=new GI(this.currentUser,t,e,i),o=U8(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Vs())}Qs(t){const e=U8(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,e,i){const r=OM(this.persistenceKey,t),o=new Ey(t,e,i);this.setItem(r,o.Vs())}Ws(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Os,e)}Gs(t){const e=this.Cs.exec(t);return e?e[1]:null}js(t,e){const i=this.Gs(t);return qI.Rs(i,e)}Hs(t,e){const i=this.Fs.exec(t),r=Number(i[1]);return GI.Rs(new Vr(void 0!==i[2]?i[2]:null),r,e)}Ys(t,e){const i=this.Ms.exec(t),r=Number(i[1]);return Ey.Rs(r,e)}Ls(t){return NM.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var e=this;return(0,ve.A)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.no(t.batchId,t.state,t.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,e){const i=e?this.Ss.insert(t,e):this.Ss.remove(t),r=this.ks(this.Ss),o=this.ks(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.io(s,a).then(()=>{this.Ss=i})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let e=oM();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class B8{constructor(){this.so=new FM,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,i){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new FM,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Cde{_o(t){}shutdown(){}}class j8{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let WI=null;function VM(){return null===WI?WI=268435456+Math.round(2147483648*Math.random()):WI++,"0x"+WI.toString(16)}const Tde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ade{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const ho="WebChannelConnection";class Sde extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+e.host,this.vo=`projects/${r}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(e,i,r,o,s){const a=VM(),l=this.xo(e,i.toUriEncodedString());Ve("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(e,l,c,r).then(h=>(Ve("RestConnection",`Received RPC '${e}' ${a}: `,h),h),h=>{throw Ss("RestConnection",`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Lo(e,i,r,o,s,a){return this.Mo(e,i,r,o,s)}Oo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}xo(e,i){return`${this.Do}/v1/${i}:${Tde[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,i,r){const o=VM();return new Promise((s,a)=>{const l=new m6;l.setWithCredentials(!0),l.listenOnce(p6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pI.NO_ERROR:const h=l.getResponseJson();Ve(ho,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),s(h);break;case pI.TIMEOUT:Ve(ho,`RPC '${t}' ${o} timed out`),a(new Fe(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case pI.HTTP_ERROR:const p=l.getStatus();if(Ve(ho,`RPC '${t}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let b=l.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b?.error;if(E&&E.status&&E.message){const T=function(P){const H=P.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(H)>=0?H:Ee.UNKNOWN}(E.status);a(new Fe(T,E.message))}else a(new Fe(Ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Fe(Ee.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Ve(ho,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(r);Ve(ho,`RPC '${t}' ${o} sending request:`,r),l.send(e,"POST",c,i,15)})}Bo(t,e,i){const r=VM(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=v6(),a=_6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const h=o.join("");Ve(ho,`Creating RPC '${t}' stream ${r}: ${h}`,l);const p=s.createWebChannel(h,l);let b=!1,E=!1;const T=new Ade({Io:P=>{E?Ve(ho,`Not sending because RPC '${t}' stream ${r} is closed:`,P):(b||(Ve(ho,`Opening RPC '${t}' stream ${r} transport.`),p.open(),b=!0),Ve(ho,`RPC '${t}' stream ${r} sending:`,P),p.send(P))},To:()=>p.close()}),R=(P,H,B)=>{P.listen(H,Q=>{try{B(Q)}catch(ge){setTimeout(()=>{throw ge},0)}})};return R(p,Kv.EventType.OPEN,()=>{E||(Ve(ho,`RPC '${t}' stream ${r} transport opened.`),T.yo())}),R(p,Kv.EventType.CLOSE,()=>{E||(E=!0,Ve(ho,`RPC '${t}' stream ${r} transport closed`),T.So())}),R(p,Kv.EventType.ERROR,P=>{E||(E=!0,Ss(ho,`RPC '${t}' stream ${r} transport errored:`,P),T.So(new Fe(Ee.UNAVAILABLE,"The operation could not be completed")))}),R(p,Kv.EventType.MESSAGE,P=>{var H;if(!E){const B=P.data[0];ft(!!B);const ge=B.error||(null===(H=B[0])||void 0===H?void 0:H.error);if(ge){Ve(ho,`RPC '${t}' stream ${r} received error:`,ge);const ze=ge.status;let We=function(q){const X=br[q];if(void 0!==X)return Pj(X)}(ze),$=ge.message;void 0===We&&(We=Ee.INTERNAL,$="Unknown error status: "+ze+" with message "+ge.message),E=!0,T.So(new Fe(We,$)),p.close()}else Ve(ho,`RPC '${t}' stream ${r} received:`,B),T.bo(B)}}),R(a,g6.STAT_EVENT,P=>{P.stat===HD.PROXY?Ve(ho,`RPC '${t}' stream ${r} detected buffering proxy`):P.stat===HD.NOPROXY&&Ve(ho,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function z8(){return typeof window<"u"?window:null}function KI(){return typeof document<"u"?document:null}function Iy(n){return new Fue(n,!0)}class UM{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ui=t,this.timerId=e,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class H8{constructor(t,e,i,r,o,s,a,l){this.ui=t,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new UM(t,e)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,ve.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,ve.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,e){var i=this;return(0,ve.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==t?i.t_.reset():e&&e.code===Ee.RESOURCE_EXHAUSTED?(dr(e.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):e&&e.code===Ee.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.mo(e)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===e&&this.P_(i,r)},i=>{t(()=>{const r=new Fe(Ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,e){const i=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var t=this;this.state=5,this.t_.Go((0,ve.A)(function*(){t.state=0,t.start()}))}I_(t){return Ve("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dde extends H8{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=function Uue(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ut(),r=t.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(ft(void 0===h||"string"==typeof h),Qi.fromBase64String(h||"")):(ft(void 0===h||h instanceof Buffer||h instanceof Uint8Array),Qi.fromUint8Array(h||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(c){const h=void 0===c.code?Ee.UNKNOWN:Pj(c.code);return new Fe(h,c.message||"")}(s);e=new Lj(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=dl(n,i.document.name),o=hr(i.document.updateTime),s=i.document.createTime?hr(i.document.createTime):It.min(),a=new Zr({mapValue:{fields:i.document.fields}}),l=Ti.newFoundDocument(r,o,s,a);e=new PI(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=dl(n,i.document),o=i.readTime?hr(i.readTime):It.min(),s=Ti.newNoDocument(r,o);e=new PI([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=dl(n,i.document);e=new PI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ut();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new Mue(r,o);e=new Fj(i.targetId,s)}}var c;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return It.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?It.min():s.readTime?hr(s.readTime):It.min()}(t);return this.listener.d_(e,i)}A_(t){const e={};e.database=pM(this.serializer),e.addTarget=function(o,s){let a;const l=s.target;if(a=CI(l)?{documents:Kj(o,l)}:{query:kI(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jj(o,s.resumeToken);const c=hM(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(It.min())>0){a.readTime=hp(o,s.snapshotVersion.toTimestamp());const c=hM(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function jue(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.a_(e)}R_(t){const e={};e.database=pM(this.serializer),e.removeTarget=t,this.a_(e)}}class Mde extends H8{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return ft(!!t.streamToken),this.lastStreamToken=t.streamToken,ft(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=function Bue(n,t){return n&&n.length>0?(ft(void 0!==t),n.map(e=>function(r,o){let s=hr(r.updateTime?r.updateTime:o);return s.isEqual(It.min())&&(s=hr(o)),new Aue(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=hr(t.commitTime);return this.listener.g_(i,e)}p_(){const t={};t.database=pM(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>py(this.serializer,i))};this.a_(e)}}class Rde extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Fe(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(t,mM(e,i),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(Ee.UNKNOWN,o.toString())})}Lo(t,e,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(t,mM(e,i),r,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(Ee.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Pde{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(dr(e),this.D_=!1):Ve("OnlineStateTracker",e)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class kde{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{i.enqueueAndForget((0,ve.A)(function*(){var l;Nu(s)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,ve.A)(function*(h){const p=Ze(h);p.L_.add(4),yield bp(p),p.q_.set("Unknown"),p.L_.delete(4),yield xy(p)}),function c(h){return l.apply(this,arguments)})(s))}))}),this.q_=new Pde(i,r)}}function xy(n){return BM.apply(this,arguments)}function BM(){return(BM=(0,ve.A)(function*(n){if(Nu(n))for(const t of n.B_)yield t(!0)})).apply(this,arguments)}function bp(n){return jM.apply(this,arguments)}function jM(){return(jM=(0,ve.A)(function*(n){for(const t of n.B_)yield t(!1)})).apply(this,arguments)}function QI(n,t){const e=Ze(n);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),$M(e)?HM(e):Ip(e).r_()&&zM(e,t))}function wp(n,t){const e=Ze(n),i=Ip(e);e.N_.delete(t),i.r_()&&$8(e,t),0===e.N_.size&&(i.r_()?i.o_():Nu(e)&&e.q_.set("Unknown"))}function zM(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ip(n).A_(t)}function $8(n,t){n.Q_.xe(t),Ip(n).R_(t)}function HM(n){n.Q_=new Pue({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),Ip(n).start(),n.q_.v_()}function $M(n){return Nu(n)&&!Ip(n).n_()&&n.N_.size>0}function Nu(n){return 0===Ze(n).L_.size}function G8(n){n.Q_=void 0}function Ode(n){return GM.apply(this,arguments)}function GM(){return(GM=(0,ve.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function Nde(n){return qM.apply(this,arguments)}function qM(){return(qM=(0,ve.A)(function*(n){n.N_.forEach((t,e)=>{zM(n,t)})})).apply(this,arguments)}function Fde(n,t){return WM.apply(this,arguments)}function WM(){return(WM=(0,ve.A)(function*(n,t){G8(n),$M(n)?(n.q_.M_(t),HM(n)):n.q_.set("Unknown")})).apply(this,arguments)}function Lde(n,t,e){return KM.apply(this,arguments)}function KM(){return KM=(0,ve.A)(function*(n,t,e){if(n.q_.set("Online"),t instanceof Lj&&2===t.state&&t.cause)try{yield(i=(0,ve.A)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.N_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.N_.delete(l),o.Q_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield YI(n,i)}else if(t instanceof PI?n.Q_.Ke(t):t instanceof Fj?n.Q_.He(t):n.Q_.We(t),!e.isEqual(It.min()))try{const i=yield k8(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.N_.get(c);h&&o.N_.set(c,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const h=o.N_.get(l);if(!h)return;o.N_.set(l,h.withResumeToken(Qi.EMPTY_BYTE_STRING,h.snapshotVersion)),$8(o,l);const p=new dc(h.target,l,c,h.sequenceNumber);zM(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield YI(n,i)}var i}),KM.apply(this,arguments)}function YI(n,t,e){return QM.apply(this,arguments)}function QM(){return(QM=(0,ve.A)(function*(n,t,e){if(!xu(t))throw t;n.L_.add(1),yield bp(n),n.q_.set("Offline"),e||(e=()=>k8(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.A)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield e(),n.L_.delete(1),yield xy(n)}))})).apply(this,arguments)}function q8(n,t){return t().catch(e=>YI(n,e,t))}function Ep(n){return YM.apply(this,arguments)}function YM(){return(YM=(0,ve.A)(function*(n){const t=Ze(n),e=Fu(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Vde(t);)try{const r=yield Ede(t.localStore,i);if(null===r){0===t.O_.length&&e.o_();break}i=r.batchId,Ude(t,r)}catch(r){yield YI(t,r)}W8(t)&&K8(t)})).apply(this,arguments)}function Vde(n){return Nu(n)&&n.O_.length<10}function Ude(n,t){n.O_.push(t);const e=Fu(n);e.r_()&&e.V_&&e.m_(t.mutations)}function W8(n){return Nu(n)&&!Fu(n).n_()&&n.O_.length>0}function K8(n){Fu(n).start()}function Bde(n){return ZM.apply(this,arguments)}function ZM(){return(ZM=(0,ve.A)(function*(n){Fu(n).p_()})).apply(this,arguments)}function jde(n){return XM.apply(this,arguments)}function XM(){return(XM=(0,ve.A)(function*(n){const t=Fu(n);for(const e of n.O_)t.m_(e.mutations)})).apply(this,arguments)}function zde(n,t,e){return JM.apply(this,arguments)}function JM(){return(JM=(0,ve.A)(function*(n,t,e){const i=n.O_.shift(),r=cM.from(i,t,e);yield q8(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ep(n)})).apply(this,arguments)}function Hde(n,t){return eR.apply(this,arguments)}function eR(){return eR=(0,ve.A)(function*(n,t){var e;t&&Fu(n).V_&&(yield(e=(0,ve.A)(function*(r,o){if(Rj(a=o.code)&&a!==Ee.ABORTED){const s=r.O_.shift();Fu(r).s_(),yield q8(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Ep(r)}var a}),function i(r,o){return e.apply(this,arguments)})(n,t)),W8(n)&&K8(n)}),eR.apply(this,arguments)}function Q8(n,t){return tR.apply(this,arguments)}function tR(){return(tR=(0,ve.A)(function*(n,t){const e=Ze(n);e.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=Nu(e);e.L_.add(3),yield bp(e),i&&e.q_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),yield xy(e)})).apply(this,arguments)}function nR(n,t){return iR.apply(this,arguments)}function iR(){return(iR=(0,ve.A)(function*(n,t){const e=Ze(n);t?(e.L_.delete(2),yield xy(e)):t||(e.L_.add(2),yield bp(e),e.q_.set("Unknown"))})).apply(this,arguments)}function Ip(n){return n.K_||(n.K_=function(e,i,r){const o=Ze(e);return o.w_(),new Dde(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:Ode.bind(null,n),Ro:Nde.bind(null,n),mo:Fde.bind(null,n),d_:Lde.bind(null,n)}),n.B_.push(function(){var t=(0,ve.A)(function*(e){e?(n.K_.s_(),$M(n)?HM(n):n.q_.set("Unknown")):(yield n.K_.stop(),G8(n))});return function(e){return t.apply(this,arguments)}}())),n.K_}function Fu(n){return n.U_||(n.U_=function(e,i,r){const o=Ze(e);return o.w_(),new Mde(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Bde.bind(null,n),mo:Hde.bind(null,n),f_:jde.bind(null,n),g_:zde.bind(null,n)}),n.B_.push(function(){var t=(0,ve.A)(function*(e){e?(n.U_.s_(),yield Ep(n)):(yield n.U_.stop(),n.O_.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(e){return t.apply(this,arguments)}}())),n.U_}class rR{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,a=new rR(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(Ee.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(n,t){if(dr("AsyncQueue",`${t}: ${n}`),xu(n))return new Fe(Ee.UNAVAILABLE,`${t}: ${n}`);throw n}class Cp{constructor(t){this.comparator=t?(e,i)=>t(e,i)||it.comparator(e.key,i.key):(e,i)=>it.comparator(e.key,i.key),this.keyedMap=ay(),this.sortedSet=new _i(this.comparator)}static emptySet(t){return new Cp(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Cp)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Cp;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Y8{constructor(){this.W_=new _i(it.comparator)}track(t){const e=t.doc.key,i=this.W_.get(e);i?0!==t.type&&3===i.type?this.W_=this.W_.insert(e,t):3===t.type&&1!==i.type?this.W_=this.W_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.W_=this.W_.remove(e):1===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):ut():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Tp{constructor(t,e,i,r,o,s,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new Tp(t,e,Cp.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oy(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class $de{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Gde{constructor(){this.queries=Z8(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,i){const r=Ze(e),o=r.queries;r.queries=Z8(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(i)})}(this,new Fe(Ee.ABORTED,"Firestore shutting down"))}}function Z8(){return new cc(n=>hj(n),oy)}function oR(n,t){return sR.apply(this,arguments)}function sR(){return(sR=(0,ve.A)(function*(n,t){const e=Ze(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.H_()&&t.J_()&&(i=2):(o=new $de,i=t.J_()?0:1);try{switch(i){case 0:o.z_=yield e.onListen(r,!0);break;case 1:o.z_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(s){const a=xp(s,`Initialization of query '${ap(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,o),o.j_.push(t),t.Z_(e.onlineState),o.z_&&t.X_(o.z_)&&cR(e)})).apply(this,arguments)}function aR(n,t){return lR.apply(this,arguments)}function lR(){return(lR=(0,ve.A)(function*(n,t){const e=Ze(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const s=o.j_.indexOf(t);s>=0&&(o.j_.splice(s,1),0===o.j_.length?r=t.J_()?0:1:!o.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function qde(n,t){const e=Ze(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&cR(e)}function Wde(n,t,e){const i=Ze(n),r=i.queries.get(t);if(r)for(const o of r.j_)o.onError(e);i.queries.delete(t)}function cR(n){n.Y_.forEach(t=>{t.next()})}var uR,X8;(X8=uR||(uR={})).ea="default",X8.Cache="cache";class dR{constructor(t,e,i){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Tp(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=Tp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==uR.Cache}}class Kde{constructor(t,e){this.aa=t,this.byteLength=e}ua(){return"metadata"in this.aa}}class J8{constructor(t){this.serializer=t}Es(t){return dl(this.serializer,t)}ds(t){return t.metadata.exists?Wj(this.serializer,t.document,!1):Ti.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return hr(t)}}class Qde{constructor(t,e,i){this.ca=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ez(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++e;const i=wn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ha(t){const e=new Map,i=new J8(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.Es(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||tn()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,ve.A)(function*(){const e=yield function Ide(n,t,e,i){return PM.apply(this,arguments)}(t.localStore,new J8(t.serializer),t.documents,t.ca.id),i=t.ha(t.documents);for(const r of t.queries)yield xde(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:e}})()}}function ez(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class tz{constructor(t){this.key=t}}class nz{constructor(t){this.key=t}}class iz{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=tn(),this.mutatedKeys=tn(),this.Aa=mj(t),this.Ra=new Cp(this.Aa)}get Va(){return this.Ta}ma(t,e){const i=e?e.fa:new Y8,r=e?e.Ra:this.Ra;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((h,p)=>{const b=r.get(h),E=sy(this.query,p)?p:null,T=!!b&&this.mutatedKeys.has(b.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let P=!1;b&&E?b.data.isEqual(E.data)?T!==R&&(i.track({type:3,doc:E}),P=!0):this.ga(b,E)||(i.track({type:2,doc:E}),P=!0,(l&&this.Aa(E,l)>0||c&&this.Aa(E,c)<0)&&(a=!0)):!b&&E?(i.track({type:0,doc:E}),P=!0):b&&!E&&(i.track({type:1,doc:b}),P=!0,(l||c)&&(a=!0)),P&&(E?(s=s.add(E),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((h,p)=>function(E,T){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return R(E)-R(T)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(i),r=null!=r&&r;const a=e&&!r?this.ya():[],l=0===this.da.size&&this.current&&!r?1:0,c=l!==this.Ea;return this.Ea=l,0!==s.length||c?{snapshot:new Tp(this.query,t.Ra,o,s,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Y8,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=tn(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const e=[];return t.forEach(i=>{this.da.has(i)||e.push(new nz(i))}),this.da.forEach(i=>{t.has(i)||e.push(new tz(i))}),e}ba(t){this.Ta=t.Ts,this.da=tn();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Tp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Yde{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Zde{constructor(t){this.key=t,this.va=!1}}class Xde{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new cc(a=>hj(a),oy),this.Ma=new Map,this.xa=new Set,this.Oa=new _i(it.comparator),this.Na=new Map,this.La=new xM,this.Ba={},this.ka=new Map,this.qa=Ch.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Jde(n,t){return hR.apply(this,arguments)}function hR(){return(hR=(0,ve.A)(function*(n,t,e=!0){const i=ZI(n);let r;const o=i.Fa.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield rz(i,t,e,!0),r})).apply(this,arguments)}function ehe(n,t){return fR.apply(this,arguments)}function fR(){return(fR=(0,ve.A)(function*(n,t){const e=ZI(n);yield rz(e,t,!0,!1)})).apply(this,arguments)}function rz(n,t,e,i){return mR.apply(this,arguments)}function mR(){return(mR=(0,ve.A)(function*(n,t,e,i){const r=yield vp(n.localStore,co(t)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,e);let a;return i&&(a=yield pR(n,t,o,"current"===s,r.resumeToken)),n.isPrimaryClient&&e&&QI(n.remoteStore,r),a})).apply(this,arguments)}function pR(n,t,e,i,r){return gR.apply(this,arguments)}function gR(){return gR=(0,ve.A)(function*(n,t,e,i,r){n.Ka=(p,b,E)=>{return(T=(0,ve.A)(function*(P,H,B,Q){let ge=H.view.ma(B);ge.ns&&(ge=yield $I(P.localStore,H.query,!1).then(({documents:V})=>H.view.ma(V,ge)));const ze=Q&&Q.targetChanges.get(H.targetId),We=Q&&null!=Q.targetMismatches.get(H.targetId),$=H.view.applyChanges(ge,P.isPrimaryClient,ze,We);return AR(P,H.targetId,$.wa),$.snapshot}),function R(P,H,B,Q){return T.apply(this,arguments)})(n,p,b,E);var T};const o=yield $I(n.localStore,t,!0),s=new iz(t,o.Ts),a=s.ma(o.documents),l=fy.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);AR(n,e,c.wa);const h=new Yde(t,e,s);return n.Fa.set(t,h),n.Ma.has(e)?n.Ma.get(e).push(t):n.Ma.set(e,[t]),c.snapshot}),gR.apply(this,arguments)}function the(n,t,e){return _R.apply(this,arguments)}function _R(){return(_R=(0,ve.A)(function*(n,t,e){const i=Ze(n),r=i.Fa.get(t),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!oy(s,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yp(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&wp(i.remoteStore,r.targetId),Ap(i,r.targetId)}).catch(Iu))):(Ap(i,r.targetId),yield yp(i.localStore,r.targetId,!0))})).apply(this,arguments)}function nhe(n,t){return vR.apply(this,arguments)}function vR(){return(vR=(0,ve.A)(function*(n,t){const e=Ze(n),i=e.Fa.get(t),r=e.Ma.get(i.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),wp(e.remoteStore,i.targetId))})).apply(this,arguments)}function yR(){return(yR=(0,ve.A)(function*(n,t,e){const i=VR(n);try{const r=yield function(s,a){const l=Ze(s),c=Ni.now(),h=a.reduce((E,T)=>E.add(T.key),tn());let p,b;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=as(),R=tn();return l.cs.getEntries(E,h).next(P=>{T=P,T.forEach((H,B)=>{B.isValidDocument()||(R=R.add(H))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,T)).next(P=>{p=P;const H=[];for(const B of a){const Q=Due(B,p.get(B.key).overlayedDocument);null!=Q&&H.push(new uc(B.key,Q,Y6(Q.value.mapValue),Li.exists(!0)))}return l.mutationQueue.addMutationBatch(E,c,H,a)}).next(P=>{b=P;const H=P.applyToLocalDocumentSet(p,R);return l.documentOverlayCache.saveOverlays(E,P.batchId,H)})}).then(()=>({batchId:b.batchId,changes:gj(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new _i($t)),c=c.insert(a,l),s.Ba[s.currentUser.toKey()]=c}(i,r.batchId,e),yield hc(i,r.changes),yield Ep(i.remoteStore)}catch(r){const o=xp(r,"Failed to persist write");e.reject(o)}})).apply(this,arguments)}function oz(n,t){return bR.apply(this,arguments)}function bR(){return(bR=(0,ve.A)(function*(n,t){const e=Ze(n);try{const i=yield function wde(n,t){const e=Ze(n),i=t.snapshotVersion;let r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;const a=[];t.targetChanges.forEach((h,p)=>{const b=r.get(p);if(!b)return;a.push(e.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>e.Ur.addMatchingKeys(o,h.addedDocuments,p)));let E=b.withSequenceNumber(o.currentSequenceNumber);var R,P,H;null!==t.targetMismatches.get(p)?E=E.withResumeToken(Qi.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,i)),r=r.insert(p,E),P=E,H=h,(0===(R=b).resumeToken.approximateByteSize()||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8||H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0)&&a.push(e.Ur.updateTargetData(o,E))});let l=as(),c=tn();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(O8(o,s,t.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!i.isEqual(It.min())){const h=e.Ur.getLastRemoteSnapshotVersion(o).next(p=>e.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return ae.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(e.os=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.Na.get(o);s&&(ft(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?ft(s.va):r.removedDocuments.size>0&&(ft(s.va),s.va=!1))}),yield hc(e,i,t)}catch(i){yield Iu(i)}})).apply(this,arguments)}function sz(n,t,e){const i=Ze(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Fa.forEach((o,s)=>{const a=s.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=Ze(s);l.onlineState=a;let c=!1;l.queries.forEach((h,p)=>{for(const b of p.j_)b.Z_(a)&&(c=!0)}),c&&cR(l)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function rhe(n,t,e){return wR.apply(this,arguments)}function wR(){return(wR=(0,ve.A)(function*(n,t,e){const i=Ze(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Na.get(t),o=r&&r.key;if(o){let s=new _i(it.comparator);s=s.insert(o,Ti.newNoDocument(o,It.min()));const a=tn().add(o),l=new hy(It.min(),new Map,new _i($t),s,a);yield oz(i,l),i.Oa=i.Oa.remove(o),i.Na.delete(t),SR(i)}else yield yp(i.localStore,t,!1).then(()=>Ap(i,t,e)).catch(Iu)})).apply(this,arguments)}function ohe(n,t){return ER.apply(this,arguments)}function ER(){return(ER=(0,ve.A)(function*(n,t){const e=Ze(n),i=t.batch.batchId;try{const r=yield function bde(n,t){const e=Ze(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const p=c.batch,b=p.keys();let E=ae.resolve();return b.forEach(T=>{E=E.next(()=>h.getEntry(l,T)).next(R=>{const P=c.docVersions.get(T);ft(null!==P),R.version.compareTo(P)<0&&(p.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),h.addEntry(R)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=tn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);TR(e,i,null),CR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield hc(e,r)}catch(r){yield Iu(r)}})).apply(this,arguments)}function she(n,t,e){return IR.apply(this,arguments)}function IR(){return(IR=(0,ve.A)(function*(n,t,e){const i=Ze(n);try{const r=yield function(s,a){const l=Ze(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(ft(null!==p),h=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,t);TR(i,t,e),CR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield hc(i,r)}catch(r){yield Iu(r)}})).apply(this,arguments)}function xR(){return(xR=(0,ve.A)(function*(n,t){const e=Ze(n);Nu(e.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Ze(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ka.get(i)||[];r.push(t),e.ka.set(i,r)}catch(i){const r=xp(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function CR(n,t){(n.ka.get(t)||[]).forEach(e=>{e.resolve()}),n.ka.delete(t)}function TR(n,t,e){const i=Ze(n);let r=i.Ba[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function Ap(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Ma.get(t))n.Fa.delete(i),e&&n.Ca.$a(i,e);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach(i=>{n.La.containsKey(i)||az(n,i)})}function az(n,t){n.xa.delete(t.path.canonicalString());const e=n.Oa.get(t);null!==e&&(wp(n.remoteStore,e),n.Oa=n.Oa.remove(t),n.Na.delete(e),SR(n))}function AR(n,t,e){for(const i of e)i instanceof tz?(n.La.addReference(i.key,t),lhe(n,i)):i instanceof nz?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,t),n.La.containsKey(i.key)||az(n,i.key)):ut()}function lhe(n,t){const e=t.key,i=e.path.canonicalString();n.Oa.get(e)||n.xa.has(i)||(Ve("SyncEngine","New document in limbo: "+e),n.xa.add(i),SR(n))}function SR(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const t=n.xa.values().next().value;n.xa.delete(t);const e=new it(wn.fromString(t)),i=n.qa.next();n.Na.set(i,new Zde(e)),n.Oa=n.Oa.insert(e,i),QI(n.remoteStore,new dc(co(op(e.path)),i,"TargetPurposeLimboResolution",Ms.oe))}}function hc(n,t,e){return DR.apply(this,arguments)}function DR(){return DR=(0,ve.A)(function*(n,t,e){const i=Ze(n),r=[],o=[],s=[];var a;i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{s.push(i.Ka(l,t,e).then(c=>{var h;if((c||e)&&i.isPrimaryClient){const p=c?!c.fromCache:null===(h=e?.targetChanges.get(l.targetId))||void 0===h?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){r.push(c);const p=DM.Wi(l.targetId,c);o.push(p)}}))}),yield Promise.all(s),i.Ca.d_(r),yield(a=(0,ve.A)(function*(c,h){const p=Ze(c);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ae.forEach(h,E=>ae.forEach(E.$i,T=>p.persistence.referenceDelegate.addReference(b,E.targetId,T)).next(()=>ae.forEach(E.Ui,T=>p.persistence.referenceDelegate.removeReference(b,E.targetId,T)))))}catch(b){if(!xu(b))throw b;Ve("LocalStore","Failed to update sequence numbers: "+b)}for(const b of h){const E=b.targetId;if(!b.fromCache){const T=p.os.get(E),P=T.withLastLimboFreeSnapshotVersion(T.snapshotVersion);p.os=p.os.insert(E,P)}}}),function l(c,h){return a.apply(this,arguments)})(i.localStore,o))}),DR.apply(this,arguments)}function che(n,t){return MR.apply(this,arguments)}function MR(){return(MR=(0,ve.A)(function*(n,t){const e=Ze(n);if(!e.currentUser.isEqual(t)){Ve("SyncEngine","User change. New user:",t.toKey());const i=yield P8(e.localStore,t);e.currentUser=t,(o=e).ka.forEach(a=>{a.forEach(l=>{l.reject(new Fe(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield hc(e,i.hs)}var o})).apply(this,arguments)}function uhe(n,t){const e=Ze(n),i=e.Na.get(t);if(i&&i.va)return tn().add(i.key);{let r=tn();const o=e.Ma.get(t);if(!o)return r;for(const s of o){const a=e.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function dhe(n,t){return RR.apply(this,arguments)}function RR(){return(RR=(0,ve.A)(function*(n,t){const e=Ze(n),i=yield $I(e.localStore,t.query,!0),r=t.view.ba(i);return e.isPrimaryClient&&AR(e,t.targetId,r.wa),r})).apply(this,arguments)}function hhe(n,t){return PR.apply(this,arguments)}function PR(){return(PR=(0,ve.A)(function*(n,t){const e=Ze(n);return F8(e.localStore,t).then(i=>hc(e,i))})).apply(this,arguments)}function fhe(n,t,e,i){return kR.apply(this,arguments)}function kR(){return(kR=(0,ve.A)(function*(n,t,e,i){const r=Ze(n),o=yield function(a,l){const c=Ze(a),h=Ze(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Mn(p,l).next(b=>b?c.localDocuments.getDocuments(p,b):ae.resolve(null)))}(r.localStore,t);var l;null!==o?("pending"===e?yield Ep(r.remoteStore):"acknowledged"===e||"rejected"===e?(TR(r,t,i||null),CR(r,t),l=t,Ze(Ze(r.localStore).mutationQueue).On(l)):ut(),yield hc(r,o)):Ve("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function OR(){return(OR=(0,ve.A)(function*(n,t){const e=Ze(n);if(ZI(e),VR(e),!0===t&&!0!==e.Qa){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield lz(e,i.toArray());e.Qa=!0,yield nR(e.remoteStore,!0);for(const o of r)QI(e.remoteStore,o)}else if(!1===t&&!1!==e.Qa){const i=[];let r=Promise.resolve();e.Ma.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Ap(e,s),yp(e.localStore,s,!0))),wp(e.remoteStore,s)}),yield r,yield lz(e,i),function(s){const a=Ze(s);a.Na.forEach((l,c)=>{wp(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new _i(it.comparator)}(e),e.Qa=!1,yield nR(e.remoteStore,!1)}})).apply(this,arguments)}function lz(n,t,e){return NR.apply(this,arguments)}function NR(){return(NR=(0,ve.A)(function*(n,t,e){const i=Ze(n),r=[],o=[];for(const s of t){let a;const l=i.Ma.get(s);if(l&&0!==l.length){a=yield vp(i.localStore,co(l[0]));for(const c of l){const h=i.Fa.get(c),p=yield dhe(i,h);p.snapshot&&o.push(p.snapshot)}}else{const c=yield N8(i.localStore,s);a=yield vp(i.localStore,c),yield pR(i,cz(c),s,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(o),r})).apply(this,arguments)}function cz(n){return lj(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function phe(n){return e=Ze(n).localStore,Ze(Ze(e).persistence).Qi();var e}function ghe(n,t,e,i){return FR.apply(this,arguments)}function FR(){return(FR=(0,ve.A)(function*(n,t,e,i){const r=Ze(n);if(r.Qa)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const o=r.Ma.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield F8(r.localStore,fj(o[0])),a=hy.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Qi.EMPTY_BYTE_STRING);yield hc(r,s,a);break}case"rejected":yield yp(r.localStore,t,!0),Ap(r,t,i);break;default:ut()}})).apply(this,arguments)}function _he(n,t,e){return LR.apply(this,arguments)}function LR(){return(LR=(0,ve.A)(function*(n,t,e){const i=ZI(n);if(i.Qa){for(const r of t){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const o=yield N8(i.localStore,r),s=yield vp(i.localStore,o);yield pR(i,cz(o),s.targetId,!1,s.resumeToken),QI(i.remoteStore,s)}for(const r of e)i.Ma.has(r)&&(yield yp(i.localStore,r,!1).then(()=>{wp(i.remoteStore,r),Ap(i,r)}).catch(Iu))}})).apply(this,arguments)}function ZI(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=oz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uhe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rhe.bind(null,t),t.Ca.d_=qde.bind(null,t.eventManager),t.Ca.$a=Wde.bind(null,t.eventManager),t}function VR(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ohe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=she.bind(null,t),t}let Sp=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){var i=this;return(0,ve.A)(function*(){i.serializer=Iy(e.databaseInfo.databaseId),i.sharedClientState=i.Wa(e),i.persistence=i.Ga(e),yield i.persistence.start(),i.localStore=i.za(e),i.gcScheduler=i.ja(e,i.localStore),i.indexBackfillerScheduler=i.Ha(e,i.localStore)})()}ja(e,i){return null}Ha(e,i){return null}za(e){return R8(this.persistence,new M8,e.initialUser,this.serializer)}Ga(e){return new CM(jI.Zr,this.serializer)}Wa(e){return new B8}terminate(){var e=this;return(0,ve.A)(function*(){var i,r;null===(i=e.gcScheduler)||void 0===i||i.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class UR extends Sp{constructor(t,e,i){super(),this.Ja=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.A)(function*(){yield e().call(i,t),yield i.Ja.initialize(i,t),yield VR(i.Ja.syncEngine),yield Ep(i.Ja.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return R8(this.persistence,new M8,t.initialUser,this.serializer)}ja(t,e){return new w8(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ha(t,e){const i=new Bce(e,this.persistence);return new Uce(t.asyncQueue,i)}Ga(t){const e=SM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?uo.withCacheSize(this.cacheSizeBytes):uo.DEFAULT;return new AM(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,z8(),KI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new B8}}class uz extends UR{constructor(t,e){super(t,e,!1),this.Ja=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.A)(function*(){yield e().call(i,t);const r=i.Ja.syncEngine;i.sharedClientState instanceof LM&&(i.sharedClientState.syncEngine={no:fhe.bind(null,r),ro:ghe.bind(null,r),io:_he.bind(null,r),Qi:phe.bind(null,r),eo:hhe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var o=(0,ve.A)(function*(s){yield function mhe(n,t){return OR.apply(this,arguments)}(i.Ja.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}Wa(t){const e=z8();if(!LM.D(e))throw new Fe(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=SM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new LM(e,t.asyncQueue,i,t.clientId,t.initialUser)}}let Dp=(()=>{class n{initialize(e,i){var r=this;return(0,ve.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(i),r.remoteStore=r.createRemoteStore(i),r.eventManager=r.createEventManager(i),r.syncEngine=r.createSyncEngine(i,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>sz(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=che.bind(null,r.syncEngine),yield nR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Gde}createDatastore(e){const i=Iy(e.databaseInfo.databaseId),r=new Sde(e.databaseInfo);return new Rde(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return r=this.localStore,o=this.datastore,s=e.asyncQueue,a=i=>sz(this.syncEngine,i,0),l=j8.D()?new j8:new Cde,new kde(r,o,s,a,l);var r,o,s,a,l}createSyncEngine(e,i){return function(o,s,a,l,c,h,p){const b=new Xde(o,s,a,l,c,h);return p&&(b.Qa=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){var e=this;return(0,ve.A)(function*(){var i,r,o;yield(o=(0,ve.A)(function*(a){const l=Ze(a);Ve("RemoteStore","RemoteStore shutting down."),l.L_.add(5),yield bp(l),l.k_.shutdown(),l.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(e.remoteStore),null===(i=e.datastore)||void 0===i||i.terminate(),null===(r=e.eventManager)||void 0===r||r.terminate()})()}}return n.provider={build:()=>new n},n})();function dz(n,t=10240){let e=0;return{read:()=>(0,ve.A)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ve.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class XI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):dr("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}class bhe{constructor(t,e){this.Xa=t,this.serializer=e,this.metadata=new Ur,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,ve.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,ve.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,ve.A)(function*(){const e=yield t.nu();if(null===e)return null;const i=t.eu.decode(e),r=Number(i);isNaN(r)&&t.ru(`length string (${i}) is not valid number`);const o=yield t.iu(r);return new Kde(JSON.parse(o),e.length+r)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,ve.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const e=t.su();e<0&&t.ru("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}iu(t){var e=this;return(0,ve.A)(function*(){for(;e.buffer.length<t;)(yield e.ou())&&e.ru("Reached the end of bundle when more is expected.");const i=e.eu.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,ve.A)(function*(){const e=yield t.Xa.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class whe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ve.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Fe(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const i=yield(r=(0,ve.A)(function*(s,a){const l=Ze(s),c={documents:a.map(E=>my(l.serializer,E))},h=yield l.Lo("BatchGetDocuments",l.serializer.databaseId,wn.emptyPath(),c,a.length),p=new Map;h.forEach(E=>{const T=function Vue(n,t){return"found"in t?function(i,r){ft(!!r.found);const o=dl(i,r.found.name),s=hr(r.found.updateTime),a=r.found.createTime?hr(r.found.createTime):It.min(),l=new Zr({mapValue:{fields:r.found.fields}});return Ti.newFoundDocument(o,s,a,l)}(n,t):"missing"in t?function(i,r){ft(!!r.missing),ft(!!r.readTime);const o=dl(i,r.missing),s=hr(r.readTime);return Ti.newNoDocument(o,s)}(n,t):ut()}(l.serializer,E);p.set(T.key.toString(),T)});const b=[];return a.forEach(E=>{const T=p.get(E.toString());ft(!!T),b.push(T)}),b}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new dp(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ve.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=it.fromPath(r);t.mutations.push(new aM(o,t.precondition(o)))}),yield(i=(0,ve.A)(function*(o,s){const a=Ze(o),l={writes:s.map(c=>py(a.serializer,c))};yield a.Mo("Commit",a.serializer.databaseId,wn.emptyPath(),l)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ut();e=It.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Fe(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(It.min())?Li.exists(!1):Li.updateTime(e):Li.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(It.min()))throw new Fe(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Li.updateTime(e)}return Li.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Ehe{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this._u=i.maxAttempts,this.t_=new UM(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,ve.A)(function*(){const e=new whe(t.datastore),i=t.cu(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.lu(o)}))}).catch(r=>{t.lu(r)})}))}cu(t){try{const e=this.updateFunction(t);return!Zv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Rj(e)}return!1}}class Ihe{constructor(t,e,i,r,o){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Vr.UNAUTHENTICATED,this.clientId=E6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,function(){var a=(0,ve.A)(function*(l){Ve("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Ve("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=xp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function BR(n,t){return jR.apply(this,arguments)}function jR(){return jR=(0,ve.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.A)(function*(o){i.isEqual(o)||(yield P8(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),jR.apply(this,arguments)}function hz(n,t){return zR.apply(this,arguments)}function zR(){return(zR=(0,ve.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield HR(n);Ve("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>Q8(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>Q8(t.remoteStore,r)),n._onlineComponents=t})).apply(this,arguments)}function HR(n){return $R.apply(this,arguments)}function $R(){return($R=(0,ve.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{yield BR(n,n._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(r=t).name?r.code===Ee.FAILED_PRECONDITION||r.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw t;Ss("Error using user provided cache. Falling back to memory cache: "+t),yield BR(n,new Sp)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),yield BR(n,new Sp);var r;return n._offlineComponents})).apply(this,arguments)}function JI(n){return GR.apply(this,arguments)}function GR(){return(GR=(0,ve.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),yield hz(n,n._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield hz(n,new Dp))),n._onlineComponents})).apply(this,arguments)}function fz(n){return HR(n).then(t=>t.persistence)}function Mp(n){return HR(n).then(t=>t.localStore)}function mz(n){return JI(n).then(t=>t.remoteStore)}function qR(n){return JI(n).then(t=>t.syncEngine)}function Rp(n){return WR.apply(this,arguments)}function WR(){return(WR=(0,ve.A)(function*(n){const t=yield JI(n),e=t.eventManager;return e.onListen=Jde.bind(null,t.syncEngine),e.onUnlisten=the.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=ehe.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=nhe.bind(null,t.syncEngine),e})).apply(this,arguments)}function gz(n,t,e={}){const i=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return function(o,s,a,l,c){const h=new XI({next:b=>{h.Za(),s.enqueueAndForget(()=>aR(o,p));const E=b.docs.has(a);!E&&b.fromCache?c.reject(new Fe(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&l&&"server"===l.source?c.reject(new Fe(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(b)},error:b=>c.reject(b)}),p=new dR(op(a.path),h,{includeMetadataChanges:!0,_a:!0});return oR(o,p)}(yield Rp(n),n.asyncQueue,t,e,i)})),i.promise}function _z(n,t,e={}){const i=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return function(o,s,a,l,c){const h=new XI({next:b=>{h.Za(),s.enqueueAndForget(()=>aR(o,p)),b.fromCache&&"server"===l.source?c.reject(new Fe(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(b)},error:b=>c.reject(b)}),p=new dR(a,h,{includeMetadataChanges:!0,_a:!0});return oR(o,p)}(yield Rp(n),n.asyncQueue,t,e,i)})),i.promise}function vz(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const yz=new Map;function KR(n,t,e){if(!e)throw new Fe(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function bz(n,t,e,i){if(!0===t&&!0===i)throw new Fe(Ee.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function wz(n){if(!it.isDocumentKey(n))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ez(n){if(it.isDocumentKey(n))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ex(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":ut()}function hn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Fe(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ex(n);throw new Fe(Ee.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Iz(n,t){if(t<=0)throw new Fe(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class xz{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Fe(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fe(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bz("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=vz(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Fe(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Fe(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Fe(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cy{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xz({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Fe(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xz(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new Ace;switch(i.type){case"firstParty":return new Rce(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Fe(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,ve.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=yz.get(e);i&&(Ve("ComponentProvider","Removing Datastore"),yz.delete(e),i.terminate())}(this),Promise.resolve()}}class Xr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Xr(this.firestore,t,this._query)}}class Ai{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ai(this.firestore,t,this._key)}}class hl extends Xr{constructor(t,e,i){super(t,e,op(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ai(this.firestore,null,new it(t))}withConverter(t){return new hl(this.firestore,t,this._path)}}function Tz(n,t,...e){if(n=(0,an.Ku)(n),KR("collection","path",t),n instanceof Cy){const i=wn.fromString(t,...e);return Ez(i),new hl(n,null,i)}{if(!(n instanceof Ai||n instanceof hl))throw new Fe(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return Ez(i),new hl(n.firestore,null,i)}}function tx(n,t,...e){if(n=(0,an.Ku)(n),1===arguments.length&&(t=E6.newId()),KR("doc","path",t),n instanceof Cy){const i=wn.fromString(t,...e);return wz(i),new Ai(n,null,new it(i))}{if(!(n instanceof Ai||n instanceof hl))throw new Fe(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return wz(i),new Ai(n.firestore,n instanceof hl?n.converter:null,new it(i))}}function Az(n,t){return n=(0,an.Ku)(n),t=(0,an.Ku)(t),(n instanceof Ai||n instanceof hl)&&(t instanceof Ai||t instanceof hl)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function QR(n,t){return n=(0,an.Ku)(n),t=(0,an.Ku)(t),n instanceof Xr&&t instanceof Xr&&n.firestore===t.firestore&&oy(n._query,t._query)&&n.converter===t.converter}class Sz{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new UM(this,"async_queue_retry"),this.Vu=()=>{const i=KI();i&&Ve("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const e=KI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=KI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new Ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,ve.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(e){if(!xu(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(i=>{throw this.Eu=i,this.du=!1,dr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=e,e}enqueueAfterDelay(t,e,i){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const r=rR.createAndSchedule(this,t,e,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&ut()}verifyOperationInProgress(){}wu(){var t=this;return(0,ve.A)(function*(){let e;do{e=t.mu,yield e}while(e!==t.mu)})()}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function YR(n){return function(e){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Fhe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class si extends Cy{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Sz,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,ve.A)(function*(){if(t._firestoreClient){const e=t._firestoreClient.terminate();t._queue=new Sz(e),t._firestoreClient=void 0,yield e}})()}}function Vi(n){if(n._terminated)throw new Fe(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Dz(n),n._firestoreClient}function Dz(n){var t,e,i;const r=n._freezeSettings(),o=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new lue(n._databaseId,l,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vz(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;n._componentsProvider||!(null===(e=r.localCache)||void 0===e)&&e._offlineComponentProvider&&!(null===(i=r.localCache)||void 0===i)&&i._onlineComponentProvider&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Ihe(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}function ZR(){return(ZR=(0,ve.A)(function*(n){Ss("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();Mz(n,Dp.provider,{build:e=>new uz(e,t.cacheSizeBytes)})})).apply(this,arguments)}function Mz(n,t,e){if((n=hn(n,si))._firestoreClient||n._terminated)throw new Fe(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new Fe(Ee.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},Dz(n)}class fl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fl(Qi.fromBase64String(t))}catch(e){throw new Fe(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new fl(Qi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class fc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ci(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ah{constructor(t){this._methodName=t}}class nx{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Fe(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Fe(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}}class ix{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}const Whe=/^__.*__$/;class Khe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new uc(t,this.data,this.fieldMask,e,this.fieldTransforms):new up(t,this.data,e,this.fieldTransforms)}}class Rz{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new uc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Pz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class rx{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new rx(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.Ou(t),r}Nu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return ax(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(Pz(this.Cu)&&Whe.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class Qhe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Iy(t)}Qu(t,e,i,r=!1){return new rx({Cu:t,methodName:e,qu:i,path:Ci.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sh(n){const t=n._freezeSettings(),e=Iy(n._databaseId);return new Qhe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function ox(n,t,e,i,r,o={}){const s=n.Qu(o.merge||o.mergeFields?2:0,t,e,r);rP("Data must be an object, but it was:",s,i);const a=Nz(i,s);let l,c;if(o.merge)l=new ss(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const b=Sy(t,p,e);if(!s.contains(b))throw new Fe(Ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Lz(h,b)||h.push(b)}l=new ss(h),c=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=s.fieldTransforms;return new Khe(new Zr(a),l,c)}class Ay extends Ah{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ay}}function kz(n,t,e){return new rx({Cu:3,qu:t.settings.qu,methodName:n._methodName,xu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class XR extends Ah{_toFieldTransform(t){return new cy(t.path,new lp)}isEqual(t){return t instanceof XR}}class JR extends Ah{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=kz(this,t,!0),i=this.Ku.map(o=>Dh(o,e)),r=new vh(i);return new cy(t.path,r)}isEqual(t){return t instanceof JR&&(0,an.bD)(this.Ku,t.Ku)}}class eP extends Ah{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=kz(this,t,!0),i=this.Ku.map(o=>Dh(o,e)),r=new yh(i);return new cy(t.path,r)}isEqual(t){return t instanceof eP&&(0,an.bD)(this.Ku,t.Ku)}}class tP extends Ah{constructor(t,e){super(t),this.$u=e}_toFieldTransform(t){const e=new cp(t.serializer,yj(t.serializer,this.$u));return new cy(t.path,e)}isEqual(t){return t instanceof tP&&this.$u===t.$u}}function nP(n,t,e,i){const r=n.Qu(1,t,e);rP("Data must be an object, but it was:",r,i);const o=[],s=Zr.empty();Cu(i,(l,c)=>{const h=sx(t,l,e);c=(0,an.Ku)(c);const p=r.Nu(h);if(c instanceof Ay)o.push(h);else{const b=Dh(c,p);null!=b&&(o.push(h),s.set(h,b))}});const a=new ss(o);return new Rz(s,a,r.fieldTransforms)}function iP(n,t,e,i,r,o){const s=n.Qu(1,t,e),a=[Sy(t,i,e)],l=[r];if(o.length%2!=0)throw new Fe(Ee.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)a.push(Sy(t,o[b])),l.push(o[b+1]);const c=[],h=Zr.empty();for(let b=a.length-1;b>=0;--b)if(!Lz(c,a[b])){const E=a[b];let T=l[b];T=(0,an.Ku)(T);const R=s.Nu(E);if(T instanceof Ay)c.push(E);else{const P=Dh(T,R);null!=P&&(c.push(E),h.set(E,P))}}const p=new ss(c);return new Rz(h,p,s.fieldTransforms)}function Oz(n,t,e,i=!1){return Dh(e,n.Qu(i?4:3,t))}function Dh(n,t){if(Fz(n=(0,an.Ku)(n)))return rP("Unsupported field value:",t,n),Nz(n,t);if(n instanceof Ah)return function(i,r){if(!Pz(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=Dh(a,r.Lu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,an.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return yj(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Ni.fromDate(i);return{timestampValue:hp(r.serializer,o)}}if(i instanceof Ni){const o=new Ni(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hp(r.serializer,o)}}if(i instanceof nx)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fl)return{bytesValue:jj(r.serializer,i._byteString)};if(i instanceof Ai){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:fM(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ix)return a=r,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(l=>{if("number"!=typeof l)throw a.Bu("VectorValues must only contain numeric values.");return sM(a.serializer,l)})}}}}};var a;throw r.Bu(`Unsupported field value: ${ex(i)}`)}(n,t)}function Nz(n,t){const e={};return U6(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cu(n,(i,r)=>{const o=Dh(r,t.Mu(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function Fz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ni||n instanceof nx||n instanceof fl||n instanceof Ai||n instanceof Ah||n instanceof ix)}function rP(n,t,e){if(!Fz(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=ex(e);throw t.Bu("an object"===i?n+" a custom object":n+" "+i)}var r}function Sy(n,t,e){if((t=(0,an.Ku)(t))instanceof fc)return t._internalPath;if("string"==typeof t)return sx(n,t);throw ax("Field path arguments must be of type string or ",n,!1,void 0,e)}const Yhe=new RegExp("[~\\*/\\[\\]]");function sx(n,t,e){if(t.search(Yhe)>=0)throw ax(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new fc(...t.split("."))._internalPath}catch{throw ax(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function ax(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new Fe(Ee.INVALID_ARGUMENT,a+n+l)}function Lz(n,t){return n.some(e=>e.isEqual(t))}class Dy{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Zhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(lx("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Zhe extends Dy{data(){return super.data()}}function lx(n,t){return"string"==typeof t?sx(n,t):t instanceof fc?t._internalPath:t._delegate._internalPath}function Vz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oP{}class My extends oP{}function Lu(n,t,...e){let i=[];t instanceof oP&&i.push(t),i=i.concat(e),function(o){const s=o.filter(l=>l instanceof Pp).length,a=o.filter(l=>l instanceof Ry).length;if(s>1||s>0&&a>0)throw new Fe(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Ry extends My{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Ry(t,e,i)}_apply(t){const e=this._parse(t);return zz(t._query,e),new Xr(t.firestore,t.converter,rM(t._query,e))}_parse(t){const e=Sh(t.firestore);return function(o,s,a,l,c,h,p){let b;if(c.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){jz(p,h);const E=[];for(const T of p)E.push(Bz(l,o,T));b={arrayValue:{values:E}}}else b=Bz(l,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||jz(p,h),b=Oz(a,"where",p,"in"===h||"not-in"===h);return En.create(c,h,b)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Pp extends oP{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Pp(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:$n.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)zz(s,l),s=rM(s,l)}(t._query,e),new Xr(t.firestore,t.converter,rM(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sP extends My{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new sP(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iy(o,s)}(t._query,this._field,this._direction);return new Xr(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new lc(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class cx extends My{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new cx(t,e,i)}_apply(t){return new Xr(t.firestore,t.converter,AI(t._query,this._limit,this._limitType))}}class ux extends My{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new ux(t,e,i)}_apply(t){const e=Uz(t,this.type,this._docOrFields,this._inclusive);return new Xr(t.firestore,t.converter,(o=e,new lc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class dx extends My{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new dx(t,e,i)}_apply(t){const e=Uz(t,this.type,this._docOrFields,this._inclusive);return new Xr(t.firestore,t.converter,(o=e,new lc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function Uz(n,t,e,i){if(e[0]=(0,an.Ku)(e[0]),e[0]instanceof Dy)return function(o,s,a,l,c){if(!l)throw new Fe(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of sp(o))if(p.field.isKeyField())h.push(gh(s,l.key));else{const b=l.data.field(p.field);if(yI(b))throw new Fe(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===b){const E=p.field.canonicalString();throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}h.push(b)}return new Mu(h,c)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Sh(n.firestore);return function(s,a,l,c,h,p){const b=s.explicitOrderBy;if(h.length>b.length)throw new Fe(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let T=0;T<h.length;T++){const R=h[T];if(b[T].field.isKeyField()){if("string"!=typeof R)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof R}`);if(!iM(s)&&-1!==R.indexOf("/"))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${R}' contains a slash.`);const P=s.path.child(wn.fromString(R));if(!it.isDocumentKey(P))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const H=new it(P);E.push(gh(a,H))}else{const P=Oz(l,c,R);E.push(P)}}return new Mu(E,p)}(n._query,n.firestore._databaseId,r,t,e,i)}}function Bz(n,t,e){if("string"==typeof(e=(0,an.Ku)(e))){if(""===e)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iM(t)&&-1!==e.indexOf("/"))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(wn.fromString(e));if(!it.isDocumentKey(i))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return gh(n,new it(i))}if(e instanceof Ai)return gh(n,e._key);throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ex(e)}.`)}function jz(n,t){if(!Array.isArray(n)||0===n.length)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zz(n,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Fe(Ee.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class aP{convertValue(t,e="none"){switch(Su(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ac(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ut()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Cu(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=null===(r=null===(i=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.map(s=>Fi(s.doubleValue));return new ix(o)}convertGeoPoint(t){return new nx(Fi(t.latitude),Fi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=bI(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Jv(t));default:return null}}convertTimestamp(t){const e=sc(t);return new Ni(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=wn.fromString(t);ft(Jj(i));const r=new Tu(i.get(1),i.get(3)),o=new it(i.popFirst(5));return r.isEqual(e)||dr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function hx(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class sfe extends aP{constructor(t){super(),this.firestore=t}convertBytes(t){return new fl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ai(this.firestore,null,e)}}class Mh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mc extends Dy{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(lx("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Py extends mc{data(t={}){return super.data(t)}}class Vu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Mh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Py(this._firestore,this._userDataWriter,i.key,i,new Mh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fe(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Py(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Mh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new Py(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Mh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:lfe(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function lfe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function $z(n,t){return n instanceof mc&&t instanceof mc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Vu&&t instanceof Vu&&n._firestore===t._firestore&&QR(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Uu extends aP{constructor(t){super(),this.firestore=t}convertBytes(t){return new fl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ai(this.firestore,null,e)}}function Gz(n,t,e){n=hn(n,Ai);const i=hn(n.firestore,si),r=hx(n.converter,t,e);return kp(i,[ox(Sh(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Li.none())])}function qz(n,t,e,...i){n=hn(n,Ai);const r=hn(n.firestore,si),o=Sh(r);let s;return s="string"==typeof(t=(0,an.Ku)(t))||t instanceof fc?iP(o,"updateDoc",n._key,t,e,i):nP(o,"updateDoc",n._key,t),kp(r,[s.toMutation(n._key,Li.exists(!0))])}function Wz(n,...t){var e,i,r;n=(0,an.Ku)(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof t[s]||YR(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(YR(t[s])){const p=t[s];t[s]=null===(e=p.next)||void 0===e?void 0:e.bind(p),t[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),t[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let l,c,h;if(n instanceof Ai)c=hn(n.firestore,si),h=op(n._key.path),l={next:p=>{t[s]&&t[s](lP(c,n,p))},error:t[s+1],complete:t[s+2]};else{const p=hn(n,Xr);c=hn(p.firestore,si),h=p._query;const b=new Uu(c);l={next:E=>{t[s]&&t[s](new Vu(c,b,p,E))},error:t[s+1],complete:t[s+2]},Vz(n._query)}return function(b,E,T,R){const P=new XI(R),H=new dR(E,P,T);return b.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return oR(yield Rp(b),H)})),()=>{P.Za(),b.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return aR(yield Rp(b),H)}))}}(Vi(c),h,a,l)}function kp(n,t){return function(i,r){const o=new Ur;return i.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return function ihe(n,t,e){return yR.apply(this,arguments)}(yield qR(i),r,o)})),o.promise}(Vi(n),t)}function lP(n,t,e){const i=e.docs.get(t._key),r=new Uu(n);return new mc(n,r,t._key,i,new Mh(e.hasPendingWrites,e.fromCache),t.converter)}const Tfe={maxAttempts:5};class Kz{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Sh(t)}set(t,e,i){this._verifyNotCommitted();const r=Bu(t,this._firestore),o=hx(r.converter,e,i),s=ox(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Li.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Bu(t,this._firestore);let s;return s="string"==typeof(e=(0,an.Ku)(e))||e instanceof fc?iP(this._dataReader,"WriteBatch.update",o._key,e,i,r):nP(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Li.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Bu(t,this._firestore);return this._mutations=this._mutations.concat(new dp(e._key,Li.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bu(n,t){if((n=(0,an.Ku)(n)).firestore!==t)throw new Fe(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Afe extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Sh(e)}get(e){const i=Bu(e,this._firestore),r=new sfe(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return ut();const s=o[0];if(s.isFoundDocument())return new Dy(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new Dy(this._firestore,r,i._key,null,i.converter);throw ut()})}set(e,i,r){const o=Bu(e,this._firestore),s=hx(o.converter,i,r),a=ox(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){const s=Bu(e,this._firestore);let a;return a="string"==typeof(i=(0,an.Ku)(i))||i instanceof fc?iP(this._dataReader,"Transaction.update",s._key,i,r,o):nP(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){const i=Bu(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Bu(t,this._firestore),i=new Uu(this._firestore);return super.get(t).then(r=>new mc(this._firestore,i,e._key,r._document,new Mh(!1,!1),e.converter))}}function uP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function Xz(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function Jz(){if(!function sue(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Zm=ol.SDK_VERSION,(0,ol._registerComponent)(new fI.uA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new si(new Dce(i.getProvider("auth-internal")),new Pce(i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Fe(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(c.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,ol.registerVersion)(y6,"4.7.3",t),(0,ol.registerVersion)(y6,"4.7.3","esm2017")}();class ky{constructor(t){this._delegate=t}static fromBase64String(t){return Jz(),new ky(fl.fromBase64String(t))}static fromUint8Array(t){return Xz(),new ky(fl.fromUint8Array(t))}toBase64(){return Jz(),this._delegate.toBase64()}toUint8Array(){return Xz(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dP(n){return function Lfe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Vfe{enableIndexedDbPersistence(t,e){return function Vhe(n,t){Ss("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return Mz(n,Dp.provider,{build:i=>new UR(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Uhe(n){return ZR.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function Bhe(n){if(n._initialized&&!n._terminated)throw new Fe(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.A)(function*(){try{yield(e=(0,ve.A)(function*(r){if(!al.D())return Promise.resolve();const o=r+"main";yield al.delete(o)}),function i(r){return e.apply(this,arguments)})(SM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class eH{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Tu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Ss("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function Cz(n,t,e,i={}){var r;const o=(n=hn(n,Cy))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Vr.MOCK_USER;else{a=(0,an.Fy)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Fe(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Vr(c)}n._authCredentials=new Sce(new b6(a,l))}}(this._delegate,t,e,i)}enableNetwork(){return function zhe(n){return function xhe(n){return n.asyncQueue.enqueue((0,ve.A)(function*(){const t=yield fz(n),e=yield mz(n);return t.setNetworkEnabled(!0),function(r){const o=Ze(r);return o.L_.delete(0),xy(o)}(e)}))}(Vi(n=hn(n,si)))}(this._delegate)}disableNetwork(){return function Hhe(n){return function Che(n){return n.asyncQueue.enqueue((0,ve.A)(function*(){const t=yield fz(n),e=yield mz(n);return t.setNetworkEnabled(!1),(i=(0,ve.A)(function*(o){const s=Ze(o);s.L_.add(0),yield bp(s),s.q_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(Vi(n=hn(n,si)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,bz("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jhe(n){return function(e){const i=new Ur;return e.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return function ahe(n,t){return xR.apply(this,arguments)}(yield qR(e),i)})),i.promise}(Vi(n=hn(n,si)))}(this._delegate)}onSnapshotsInSync(t){return function _fe(n,t){return function Dhe(n,t){const e=new XI(t);return n.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return r=yield Rp(n),o=e,Ze(r).Y_.add(o),void o.next();var r,o})),()=>{e.Za(),n.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return r=yield Rp(n),o=e,void Ze(r).Y_.delete(o);var r,o}))}}(Vi(n=hn(n,si)),YR(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Op(this,Tz(this._delegate,t))}catch(e){throw Fo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Zs(this,tx(this._delegate,t))}catch(e){throw Fo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Lo(this,function Nhe(n,t){if(n=hn(n,Cy),KR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xr(n,null,(i=t,new lc(wn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Fo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Sfe(n,t,e){n=hn(n,si);const i=Object.assign(Object.assign({},Tfe),e);return function(o){if(o.maxAttempts<1)throw new Fe(Ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new Ur;return o.asyncQueue.enqueueAndForget((0,ve.A)(function*(){const c=yield function pz(n){return JI(n).then(t=>t.datastore)}(o);new Ehe(o.asyncQueue,c,a,s,l).au()})),l.promise}(Vi(n),r=>t(new Afe(n,r)),i)}(this._delegate,e=>t(new tH(this,e)))}batch(){return Vi(this._delegate),new nH(new Kz(this._delegate,t=>kp(this._delegate,t)))}loadBundle(t){return function $he(n,t){const e=Vi(n=hn(n,si)),i=new Fhe;return function Mhe(n,t,e,i){const r=function(s,a){let l;return l="string"==typeof s?kj().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return dz(h,p);if(h instanceof ArrayBuffer)return dz(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new bhe(h,a);var h}(e,Iy(t));n.asyncQueue.enqueueAndForget((0,ve.A)(function*(){!function vhe(n,t,e){const i=Ze(n);var r;(r=(0,ve.A)(function*(s,a,l){try{const c=yield a.getMetadata();if(yield function(T,R){const P=Ze(T),H=hr(R.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",B=>P.Gr.getBundleMetadata(B,R.id)).then(B=>!!B&&B.createTime.compareTo(H)>=0)}(s.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(T=c).totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}),Promise.resolve(new Set);l._updateProgress(ez(c));const h=new Qde(c,s.localStore,a.serializer);let p=yield a.Ua();for(;p;){const E=yield h.la(p);E&&l._updateProgress(E),p=yield a.Ua()}const b=yield h.complete();return yield hc(s,b.Ia,void 0),yield function(T,R){const P=Ze(T);return P.persistence.runTransaction("Save bundle","readwrite",H=>P.Gr.saveBundleMetadata(H,R))}(s.localStore,c),l._completeWith(b.progress),Promise.resolve(b.Pa)}catch(c){return Ss("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var T}),function o(s,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield qR(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Ghe(n,t){return function Rhe(n,t){return n.asyncQueue.enqueue((0,ve.A)(function*(){return function(i,r){const o=Ze(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,r))}(yield Mp(n),t)}))}(Vi(n=hn(n,si)),t).then(e=>e?new Xr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Lo(this,e):null)}}class mx extends aP{constructor(t){super(),this.firestore=t}convertBytes(t){return new ky(new fl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Zs.forKey(e,this.firestore,null)}}class tH{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new mx(t)}get(t){const e=Ph(t);return this._delegate.get(e).then(i=>new Oy(this._firestore,new mc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Ph(t);return i?(uP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Ph(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Ph(t);return this._delegate.delete(e),this}}class nH{constructor(t){this._delegate=t}set(t,e,i){const r=Ph(t);return i?(uP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Ph(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Ph(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Rh{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Py(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ny(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Rh.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Rh(t,new mx(t),e),r.set(e,o)),o}}Rh.INSTANCES=new WeakMap;class Zs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new mx(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Zs(e,new Ai(e._delegate,i,new it(t)))}static forKey(t,e,i){return new Zs(e,new Ai(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Op(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Op(this.firestore,Tz(this._delegate,t))}catch(e){throw Fo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,an.Ku)(t))instanceof Ai&&Az(this._delegate,t)}set(t,e){e=uP("DocumentReference.set",e);try{return e?Gz(this._delegate,t,e):Gz(this._delegate,t)}catch(i){throw Fo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?qz(this._delegate,t):qz(this._delegate,t,e,...i)}catch(r){throw Fo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function pfe(n){return kp(hn(n.firestore,si),[new dp(n._key,Li.none())])}(this._delegate)}onSnapshot(...t){const e=iH(t),i=rH(t,r=>new Oy(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Wz(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function ufe(n){n=hn(n,Ai);const t=hn(n.firestore,si),e=Vi(t),i=new Uu(t);return function The(n,t){const e=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return(i=(0,ve.A)(function*(o,s,a){try{const l=yield function(h,p){const b=Ze(h);return b.persistence.runTransaction("read document","readonly",E=>b.localDocuments.getDocument(E,p))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new Fe(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=xp(l,`Failed to get document '${s} from cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Mp(n),t,e);var i})),e.promise}(e,n._key).then(r=>new mc(t,i,n._key,r,new Mh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function dfe(n){n=hn(n,Ai);const t=hn(n.firestore,si);return gz(Vi(t),n._key,{source:"server"}).then(e=>lP(t,n,e))}(this._delegate):function cfe(n){n=hn(n,Ai);const t=hn(n.firestore,si);return gz(Vi(t),n._key).then(e=>lP(t,n,e))}(this._delegate),e.then(i=>new Oy(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Zs(this.firestore,this._delegate.withConverter(t?Rh.getInstance(this.firestore,t):null))}}function Fo(n,t,e){return n.message=n.message.replace(t,e),n}function iH(n){for(const t of n)if("object"==typeof t&&!dP(t))return t;return{}}function rH(n,t){var e,i;let r;return r=dP(n[0])?n[0]:dP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Oy{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Zs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return $z(this._delegate,t._delegate)}}class Ny extends Oy{data(t){const e=this._delegate.data(t);return this._delegate._converter||function Tce(n){n||ut()}(void 0!==e),e}}class Lo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new mx(t)}where(t,e,i){try{return new Lo(this.firestore,Lu(this._delegate,function Xhe(n,t,e){const i=t,r=lx("where",n);return Ry._create(r,i,e)}(t,e,i)))}catch(r){throw Fo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Lo(this.firestore,Lu(this._delegate,function Jhe(n,t="asc"){const e=t,i=lx("orderBy",n);return sP._create(i,e)}(t,e)))}catch(i){throw Fo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Lo(this.firestore,Lu(this._delegate,function efe(n){return Iz("limit",n),cx._create("limit",n,"F")}(t)))}catch(e){throw Fo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Lo(this.firestore,Lu(this._delegate,function tfe(n){return Iz("limitToLast",n),cx._create("limitToLast",n,"L")}(t)))}catch(e){throw Fo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Lo(this.firestore,Lu(this._delegate,function nfe(...n){return ux._create("startAt",n,!0)}(...t)))}catch(e){throw Fo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Lo(this.firestore,Lu(this._delegate,function ife(...n){return ux._create("startAfter",n,!1)}(...t)))}catch(e){throw Fo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Lo(this.firestore,Lu(this._delegate,function rfe(...n){return dx._create("endBefore",n,!1)}(...t)))}catch(e){throw Fo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Lo(this.firestore,Lu(this._delegate,function ofe(...n){return dx._create("endAt",n,!0)}(...t)))}catch(e){throw Fo(e,"endAt()","Query.endAt()")}}isEqual(t){return QR(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function ffe(n){n=hn(n,Xr);const t=hn(n.firestore,si),e=Vi(t),i=new Uu(t);return function Ahe(n,t){const e=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return(i=(0,ve.A)(function*(o,s,a){try{const l=yield $I(o,s,!0),c=new iz(s,l.Ts),h=c.ma(l.documents),p=c.applyChanges(h,!1);a.resolve(p.snapshot)}catch(l){const c=xp(l,`Failed to execute query '${s} against cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Mp(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Vu(t,i,n,r))}(this._delegate):"server"===t?.source?function mfe(n){n=hn(n,Xr);const t=hn(n.firestore,si),e=Vi(t),i=new Uu(t);return _z(e,n._query,{source:"server"}).then(r=>new Vu(t,i,n,r))}(this._delegate):function hfe(n){n=hn(n,Xr);const t=hn(n.firestore,si),e=Vi(t),i=new Uu(t);return Vz(n._query),_z(e,n._query).then(r=>new Vu(t,i,n,r))}(this._delegate),e.then(i=>new hP(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=iH(t),i=rH(t,r=>new hP(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Wz(this._delegate,e,i)}withConverter(t){return new Lo(this.firestore,this._delegate.withConverter(t?Rh.getInstance(this.firestore,t):null))}}class Bfe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Ny(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Lo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Ny(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Bfe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Ny(this._firestore,i))})}isEqual(t){return $z(this._delegate,t._delegate)}}class Op extends Lo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Zs(this.firestore,t):null}doc(t){try{return new Zs(this.firestore,void 0===t?tx(this._delegate):tx(this._delegate,t))}catch(e){throw Fo(e,"doc()","CollectionReference.doc()")}}add(t){return function gfe(n,t){const e=hn(n.firestore,si),i=tx(n),r=hx(n.converter,t);return kp(e,[ox(Sh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Li.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Zs(this.firestore,e))}isEqual(t){return Az(this._delegate,t._delegate)}withConverter(t){return new Op(this.firestore,this._delegate.withConverter(t?Rh.getInstance(this.firestore,t):null))}}function Ph(n){return hn(n,Ai)}class fP{constructor(...t){this._delegate=new fc(...t)}static documentId(){return new fP(Ci.keyField().canonicalString())}isEqual(t){return(t=(0,an.Ku)(t))instanceof fc&&this._delegate._internalPath.isEqual(t._internalPath)}}class kh{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Mfe(){return new XR("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new kh(t)}static delete(){const t=function Dfe(){return new Ay("deleteField")}();return t._methodName="FieldValue.delete",new kh(t)}static arrayUnion(...t){const e=function Rfe(...n){return new JR("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new kh(e)}static arrayRemove(...t){const e=function Pfe(...n){return new eP("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new kh(e)}static increment(t){const e=function kfe(n){return new tP("increment",n)}(t);return e._methodName="FieldValue.increment",new kh(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const jfe={Firestore:eH,GeoPoint:nx,Timestamp:Ni,Blob:ky,Transaction:tH,WriteBatch:nH,DocumentReference:Zs,DocumentSnapshot:Oy,Query:Lo,QueryDocumentSnapshot:Ny,QuerySnapshot:hP,CollectionReference:Op,FieldPath:fP,FieldValue:kh,setLogLevel:function Ufe(n){!function Cce(n){Eu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function oH(n,t){return function $fe(n,t=Gm){return new Dn(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function mP(n,t){return oH(n,t).pipe(Le(e=>({payload:e,type:"query"})))}!function Hfe(n){(function zfe(n,t){n.INTERNAL.registerComponent(new fI.uA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},jfe)))})(n,(t,e)=>new eH(t,e,new Vfe)),n.registerVersion("@firebase/firestore-compat","0.3.38")}(Ys.A);class sH{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=hH(i,e);return new cH(r,o,this.afs)}snapshotChanges(){return function Gfe(n,t){return oH(n,t).pipe(Ja(void 0),zD(),Le(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(No)}valueChanges(t={}){return this.snapshotChanges().pipe(Le(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return Yt(this.ref.get(t)).pipe(No)}}function px(n,t){return mP(n,t).pipe(Ja(void 0),zD(),Le(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=o.find(p=>p.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function aH(n,t,e){return px(n,e).pipe(CE((i,r)=>function qfe(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Wfe(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return pP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return pP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return pP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),u6(),Le(i=>i.map(r=>({type:r.type,payload:r}))))}function pP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function lH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class cH{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=px(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Le(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Ja(void 0),zD(),ur(([i,r])=>r.length>0||!i),Le(([,i])=>i),No)}auditTrail(t){return this.stateChanges(t).pipe(CE((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=lH(t);return aH(this.query,e,this.afs.schedulers.outsideAngular).pipe(No)}valueChanges(t={}){return mP(this.query,this.afs.schedulers.outsideAngular).pipe(Le(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),No)}get(t){return Yt(this.query.get(t)).pipe(No)}add(t){return this.ref.add(t)}doc(t){return new sH(this.ref.doc(t),this.afs)}}class Kfe{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?px(this.query,this.afs.schedulers.outsideAngular).pipe(Le(e=>e.filter(i=>t.indexOf(i.type)>-1)),ur(e=>e.length>0),No):px(this.query,this.afs.schedulers.outsideAngular).pipe(No)}auditTrail(t){return this.stateChanges(t).pipe(CE((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=lH(t);return aH(this.query,e,this.afs.schedulers.outsideAngular).pipe(No)}valueChanges(t={}){return mP(this.query,this.afs.schedulers.outsideAngular).pipe(Le(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),No)}get(t){return Yt(this.query.get(t)).pipe(No)}}const uH=new he("angularfire2.enableFirestorePersistence"),dH=new he("angularfire2.firestore.persistenceSettings"),Qfe=new he("angularfire2.firestore.settings"),Yfe=new he("angularfire2.firestore.use-emulator");function hH(n,t=e=>e){return{query:t(n),ref:n}}let gP=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,l,c,h,p,b,E,T,R,P,H,B){this.schedulers=l;const Q=Gv(e,a,i),ge=h;p&&c6(Q,a,b,T,R,P,E,H),[this.firestore,this.persistenceEnabled$]=dI(`${Q.name}.firestore`,"AngularFirestore",Q.name,()=>{const ze=a.runOutsideAngular(()=>Q.firestore());if(o&&ze.settings(o),ge&&ze.useEmulator(...ge),r&&!nE(s)){const We=()=>{try{return Yt(ze.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch($){return typeof console<"u"&&console.warn($),qe(!1)}};return[ze,a.runOutsideAngular(We)]}return[ze,qe(!1)]},[o,ge,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=hH(r,i),a=this.schedulers.ngZone.run(()=>o);return new cH(a,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new Kfe(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new sH(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(G(Qm),G(Ym,8),G(uH,8),G(Qfe,8),G(es),G(At),G(uI),G(dH,8),G(Yfe,8),G(Wv,8),G(i6,8),G(r6,8),G(o6,8),G(s6,8),G(a6,8),G(l6,8),G(cI,8))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Zfe=(()=>{class n{constructor(){Ys.A.registerVersion("angularfire",qm.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:uH,useValue:!0},{provide:dH,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Kt({type:n});static \u0275inj=Gt({providers:[gP]})}return n})();function gx(n,t=Gm){return Qe((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,h=t.now();if(h<c)return r=this.schedule(void 0,c-h),void i.add(r);a()}e.subscribe(Xe(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}const fH="firebasestorage.googleapis.com",mH="storageBucket";class zi extends an.g{constructor(t,e,i=0){super(_P(t),`Firebase Storage: ${e} (${_P(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return _P(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ui=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Ui||{});function _P(n){return"storage/"+n}function vP(){return new zi(Ui.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function pH(){return new zi(Ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gH(){return new zi(Ui.CANCELED,"User canceled the upload/download.")}function _H(){return new zi(Ui.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Np(n){return new zi(Ui.INVALID_ARGUMENT,n)}function vH(){return new zi(Ui.APP_DELETED,"The Firebase app was deleted.")}function yH(n){return new zi(Ui.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fy(n,t){return new zi(Ui.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Ly(n){throw new zi(Ui.INTERNAL_ERROR,"Internal error: "+n)}class fo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=fo.makeFromUrl(t,e)}catch{return new fo(t,"")}if(""===i.path)return i;throw function ame(n){return new zi(Ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(ge){ge.path_=decodeURIComponent(ge.path)}const p=e.replace(/[.]/g,"\\."),Q=[{regex:a,indices:{bucket:1,path:3},postModify:function o(ge){"/"===ge.path.charAt(ge.path.length-1)&&(ge.path_=ge.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${p}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${e===fH?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let ge=0;ge<Q.length;ge++){const ze=Q[ge],We=ze.regex.exec(t);if(We){let V=We[ze.indices.path];V||(V=""),i=new fo(We[ze.indices.bucket],V),ze.postModify(i);break}}if(null==i)throw function sme(n){return new zi(Ui.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class hme{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function _x(n){return"string"==typeof n||n instanceof String}function bH(n){return yP()&&n instanceof Blob}function yP(){return typeof Blob<"u"}function bP(n,t,e,i){if(i<t)throw Np(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Np(`Invalid value for '${n}'. Expected ${e} or less.`)}function pc(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function wH(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Fp=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Fp||{});function EH(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class vme{constructor(t,e,i,r,o,s,a,l,c,h,p,b=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=p,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,T)=>{this.resolve_=E,this.reject_=T,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function pme(n){return void 0!==n}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=vP();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(r.canceled?this.appDelete_?vH():gH():pH())};this.canceled_?e(0,new vx(!1,null,!0)):this.backoffId_=function fme(n,t,e){let i=1,r=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function h(...P){c||(c=!0,t.apply(null,P))}function p(P){r=setTimeout(()=>{r=null,n(E,l())},P)}function b(){o&&clearTimeout(o)}function E(P,...H){if(c)return void b();if(P)return b(),void h.call(null,P,...H);if(l()||s)return b(),void h.call(null,P,...H);let Q;i<64&&(i*=2),1===a?(a=2,Q=0):Q=1e3*(i+Math.random()),p(Q)}let T=!1;function R(P){T||(T=!0,b(),!c&&(null!==r?(P||(a=2),clearTimeout(r),p(0)):P||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,R(!0)},e),R}((i,r)=>{if(r)return void i(!1,new vx(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Fp.NO_ERROR,l=o.getStatus();if(!a||EH(l,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Fp.ABORT;return void i(!1,new vx(!1,null,h))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new vx(c,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function mme(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class vx{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Cme(...n){const t=function xme(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(yP())return new Blob(n);throw new zi(Ui.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Rs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wP{constructor(t,e){this.data=t,this.contentType=e||null}}function EP(n,t){switch(n){case Rs.RAW:return new wP(IH(t));case Rs.BASE64:case Rs.BASE64URL:return new wP(xH(n,t));case Rs.DATA_URL:return new wP(function Dme(n){const t=new CH(n);return t.base64?xH(Rs.BASE64,t.rest):function Sme(n){let t;try{t=decodeURIComponent(n)}catch{throw Fy(Rs.DATA_URL,"Malformed data URL.")}return IH(t)}(t.rest)}(t),function Mme(n){return new CH(n).contentType}(t))}throw vP()}function IH(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function xH(n,t){switch(n){case Rs.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw Fy(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Rs.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw Fy(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Ame(n){if(typeof atob>"u")throw function dme(n){return new zi(Ui.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:Fy(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class CH{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Fy(Rs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Rme(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class ml{constructor(t,e){let i=0,r="";bH(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(bH(this.data_)){const r=function Tme(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new ml(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new ml(i,!0)}}static getBlob(...t){if(yP()){const e=t.map(i=>i instanceof ml?i.data_:i);return new ml(Cme.apply(null,e))}{const e=t.map(s=>_x(s)?EP(Rs.RAW,s).data:s.data_);let i=0;e.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new ml(r,!0)}}uploadData(){return this.data_}}function IP(n){let t;try{t=JSON.parse(n)}catch{return null}return function _me(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function TH(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Ome(n,t){return t}class Vo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Ome}}let yx=null;function Vy(){if(yx)return yx;const n=[];n.push(new Vo("bucket")),n.push(new Vo("generation")),n.push(new Vo("metageneration")),n.push(new Vo("name","fullPath",!0));const e=new Vo("name");e.xform=function t(o,s){return function Nme(n){return!_x(n)||n.length<2?n:TH(n)}(s)},n.push(e);const r=new Vo("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new Vo("timeCreated")),n.push(new Vo("updated")),n.push(new Vo("md5Hash",null,!0)),n.push(new Vo("cacheControl",null,!0)),n.push(new Vo("contentDisposition",null,!0)),n.push(new Vo("contentEncoding",null,!0)),n.push(new Vo("contentLanguage",null,!0)),n.push(new Vo("contentType",null,!0)),n.push(new Vo("metadata","customMetadata",!0)),yx=n,yx}function AH(n,t,e){const i=IP(t);return null===i?null:function Lme(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const s=e[o];i[s.local]=s.xform(i,t[s.server])}return function Fme(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new fo(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function xP(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const SH="prefixes",DH="items";class pl{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function gl(n){if(!n)throw vP()}function bx(n,t){return function e(i,r){const o=AH(n,r,t);return gl(null!==o),o}}function Lp(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function rme(){return new zi(Ui.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ime(){return new zi(Ui.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function nme(n){return new zi(Ui.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function ome(n){return new zi(Ui.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Uy(n){const t=Lp(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function tme(n){return new zi(Ui.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function MH(n,t,e){const r=pc(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new pl(r,"GET",bx(n,e),s);return a.errorHandler=Uy(t),a}function Hme(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const a=pc(t.bucketOnlyServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new pl(a,"GET",function jme(n,t){return function e(i,r){const o=function Bme(n,t,e){const i=IP(e);return null===i?null:function Ume(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[SH])for(const r of e[SH]){const o=r.replace(/\/$/,""),s=n._makeStorageReference(new fo(t,o));i.prefixes.push(s)}if(e[DH])for(const r of e[DH]){const o=n._makeStorageReference(new fo(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return gl(null!==o),o}}(n,t.bucket),c);return h.urlParams=o,h.errorHandler=Lp(t),h}function PH(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function Wme(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class wx{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function CP(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{gl(!1)}return gl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Zme={STATE_CHANGED:"state_changed"},Uo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function TP(n){switch(n){case"running":case"pausing":case"canceling":return Uo.RUNNING;case"paused":return Uo.PAUSED;case"success":return Uo.SUCCESS;case"canceled":return Uo.CANCELED;default:return Uo.ERROR}}class Xme{constructor(t,e,i){if(function gme(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Vp(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let NH=null;class Jme{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Ly("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ly("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ly("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ly("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ly("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class epe extends Jme{initXhr(){this.xhr_.responseType="text"}}function Ta(){return NH?NH():new epe}class FH{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Vy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ui.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(EH(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=pH()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ui.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Kme(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s=PH(t,i,r),a={name:s.fullPath},l=pc(o,n.host,n._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},p=xP(s,e),T=new pl(l,"POST",function E(R){let P;CP(R);try{P=R.getResponseHeader("X-Goog-Upload-URL")}catch{gl(!1)}return gl(_x(P)),P},n.maxUploadRetryTime);return T.urlParams=a,T.headers=h,T.body=p,T.errorHandler=Lp(t),T}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ta,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Qme(n,t,e,i){const l=new pl(e,"POST",function o(c){const h=CP(c,["active","final"]);let p=null;try{p=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{gl(!1)}p||gl(!1);const b=Number(p);return gl(!isNaN(b)),new wx(b,i.size(),"final"===h)},n.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=Lp(t),l}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,Ta,e,i);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new wx(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=function Yme(n,t,e,i,r,o,s,a){const l=new wx(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw function cme(){return new zi(Ui.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const c=l.total-l.current;let h=c;r>0&&(h=Math.min(h,r));const p=l.current;let E="";E=0===h?"finalize":c===h?"upload, finalize":"upload";const T={"X-Goog-Upload-Command":E,"X-Goog-Upload-Offset":`${l.current}`},R=i.slice(p,p+h);if(null===R)throw _H();const Q=new pl(e,"POST",function P(ge,ze){const We=CP(ge,["active","final"]),$=l.current+h,V=i.size();let q;return q="final"===We?bx(t,o)(ge,ze):null,new wx($,V,"final"===We,q)},t.maxUploadRetryTime);return Q.headers=T,Q.body=R.uploadData(),Q.progressCallback=a||null,Q.errorHandler=Lp(n),Q}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Ta,r,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=MH(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Ta,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function kH(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let Q="";for(let ge=0;ge<2;ge++)Q+=Math.random().toString().slice(2);return Q}();s["Content-Type"]="multipart/related; boundary="+l;const c=PH(t,i,r),h=xP(c,e),E=ml.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===E)throw _H();const T={name:c.fullPath},R=pc(o,n.host,n._protocol),H=n.maxUploadRetryTime,B=new pl(R,"POST",bx(n,e),H);return B.urlParams=T,B.headers=s,B.body=E.uploadData(),B.errorHandler=Lp(t),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ta,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=gH(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=TP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new Xme(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(TP(this._state)){case Uo.SUCCESS:Vp(this._resolve.bind(null,this.snapshot))();break;case Uo.CANCELED:case Uo.ERROR:Vp(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(TP(this._state)){case Uo.RUNNING:case Uo.PAUSED:t.next&&Vp(t.next.bind(t,this.snapshot))();break;case Uo.SUCCESS:t.complete&&Vp(t.complete.bind(t))();break;default:t.error&&Vp(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Oh{constructor(t,e){this._service=t,this._location=e instanceof fo?e:fo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Oh(t,e)}get root(){const t=new fo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TH(this._location.path)}get storage(){return this._service}get parent(){const t=function Pme(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new fo(this._location.bucket,t);return new Oh(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw yH(t)}}function VH(n,t,e){return AP.apply(this,arguments)}function AP(){return(AP=(0,ve.A)(function*(n,t,e){const r=yield UH(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield VH(n,t,r.nextPageToken))})).apply(this,arguments)}function UH(n,t){null!=t&&"number"==typeof t.maxResults&&bP("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Hme(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Ta)}function hpe(n){n._throwIfRoot("getDownloadURL");const t=function $me(n,t,e){const r=pc(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new pl(r,"GET",function zme(n,t){return function e(i,r){const o=AH(n,r,t);return gl(null!==o),function Vme(n,t,e,i){const r=IP(t);if(null===r||!_x(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const p=n.fullPath;return pc("/b/"+s(n.bucket)+"/o/"+s(p),e,i)+wH({alt:"media",token:c})})[0]}(o,r,n.host,n._protocol)}}(n,e),s);return a.errorHandler=Uy(t),a}(n.storage,n._location,Vy());return n.storage.makeRequestWithTokens(t,Ta).then(e=>{if(null===e)throw function ume(){return new zi(Ui.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function BH(n,t){const e=function kme(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new fo(n._location.bucket,e);return new Oh(n.storage,i)}function jH(n,t){if(n instanceof SP){const e=n;if(null==e._bucket)throw function lme(){return new zi(Ui.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mH+"' property when initializing the app?")}();const i=new Oh(e,e._bucket);return null!=t?jH(i,t):i}return void 0!==t?BH(n,t):n}function gpe(n,t){if(t&&function mpe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof SP)return function ppe(n,t){return new Oh(n,t)}(n,t);throw Np("To use ref(service, url), the first argument must be a Storage instance.")}return jH(n,t)}function zH(n,t){const e=t?.[mH];return null==e?null:fo.makeFromBucketSpec(e,n)}class SP{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=fH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?fo.makeFromBucketSpec(r,this._host):zH(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?fo.makeFromBucketSpec(this._url,t):zH(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){bP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){bP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ve.A)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ve.A)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Oh(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new hme(vH());{const s=function Ime(n,t,e,i,r,o,s=!0){const a=wH(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function wme(n,t){t&&(n["X-Firebase-GMPID"]=t)}(c,t),function yme(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(c,e),function bme(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(c,o),function Eme(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(c,i),new vme(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,ve.A)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const HH="@firebase/storage";function qH(n,t){return gpe(n=(0,an.Ku)(n),t)}function Tpe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new SP(e,i,r,t,ol.SDK_VERSION)}!function Ape(){(0,ol._registerComponent)(new fI.uA("storage",Tpe,"PUBLIC").setMultipleInstances(!0)),(0,ol.registerVersion)(HH,"0.13.2",""),(0,ol.registerVersion)(HH,"0.13.2","esm2017")}();class Ex{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class KH{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ex(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new Ex(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?s=>e(new Ex(s,this,this._ref)):{next:e.next?s=>e.next(new Ex(s,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class QH{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new gc(t,this._service))}get items(){return this._delegate.items.map(t=>new gc(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class gc{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Cpe(n,t){return BH(n,t)}(this._delegate,t);return new gc(e,this.storage)}get root(){return new gc(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new gc(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new KH(function vpe(n,t,e){return function ape(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new FH(n,new ml(t),e)}(n=(0,an.Ku)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Rs.RAW,i){this._throwIfRoot("putString");const r=EP(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new KH(new FH(this._delegate,new ml(r.data,!0),o),this)}listAll(){return function Epe(n){return function cpe(n){const t={prefixes:[],items:[]};return VH(n,t).then(()=>t)}(n=(0,an.Ku)(n))}(this._delegate).then(t=>new QH(t,this.storage))}list(t){return function wpe(n,t){return UH(n=(0,an.Ku)(n),t)}(this._delegate,t||void 0).then(e=>new QH(e,this.storage))}getMetadata(){return function ype(n){return function upe(n){n._throwIfRoot("getMetadata");const t=MH(n.storage,n._location,Vy());return n.storage.makeRequestWithTokens(t,Ta)}(n=(0,an.Ku)(n))}(this._delegate)}updateMetadata(t){return function bpe(n,t){return function dpe(n,t){n._throwIfRoot("updateMetadata");const e=function Gme(n,t,e,i){const o=pc(t.fullServerUrl(),n.host,n._protocol),a=xP(e,i),c=n.maxOperationRetryTime,h=new pl(o,"PATCH",bx(n,i),c);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=Uy(t),h}(n.storage,n._location,t,Vy());return n.storage.makeRequestWithTokens(e,Ta)}(n=(0,an.Ku)(n),t)}(this._delegate,t)}getDownloadURL(){return function Ipe(n){return hpe(n=(0,an.Ku)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function xpe(n){return function fpe(n){n._throwIfRoot("deleteObject");const t=function qme(n,t){const i=pc(t.fullServerUrl(),n.host,n._protocol),a=new pl(i,"DELETE",function s(l,c){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Uy(t),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Ta)}(n=(0,an.Ku)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw yH(t)}}class YH{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(ZH(t))throw Np("ref() expected a child path but got a URL, use refFromURL instead.");return new gc(qH(this._delegate,t),this)}refFromURL(t){if(!ZH(t))throw Np("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fo.makeFromUrl(t,this._delegate.host)}catch{throw Np("refFromUrl() expected a valid full URL but got an invalid one.")}return new gc(qH(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function WH(n,t,e,i={}){!function _pe(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,an.Fy)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function ZH(n){return/^[A-Za-z]+:\/\//.test(n)}function Rpe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new YH(e,i)}function XH(n){const t=function kpe(n){return new Dn(t=>{const e=s=>t.next(s);e(n.snapshot);const o=n.on("state_changed",e);return n.then(s=>{e(s),t.complete()},s=>{e(n.snapshot),(s=>{t.error(s)})(s)}),function(){o()}}).pipe(gx(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(Le(e=>e.bytesTransferred/e.totalBytes*100))}}function Ix(n){return{getDownloadURL:()=>qe(void 0).pipe(Y5,St(()=>n.getDownloadURL()),No),getMetadata:()=>qe(void 0).pipe(Y5,St(()=>n.getMetadata()),No),delete:()=>Yt(n.delete()),child:t=>Ix(n.child(t)),updateMetadata:t=>Yt(n.updateMetadata(t)),put:(t,e)=>XH(n.put(t,e)),putString:(t,e,i)=>XH(n.putString(t,e,i)),list:t=>Yt(n.list(t)),listAll:()=>Yt(n.listAll())}}!function Ppe(n){const t={TaskState:Uo,TaskEvent:Zme,StringFormat:Rs,Storage:YH,Reference:gc};n.INTERNAL.registerComponent(new fI.uA("storage-compat",Rpe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.12")}(Ys.A);const Ope=new he("angularfire2.storageBucket"),Npe=new he("angularfire2.storage.maxUploadRetryTime"),Fpe=new he("angularfire2.storage.maxOperationRetryTime"),Lpe=new he("angularfire2.storage.use-emulator");let JH=(()=>{class n{storage;constructor(e,i,r,o,s,a,l,c,h,p){const b=Gv(e,s,i);this.storage=dI(`${b.name}.storage.${r}`,"AngularFireStorage",b.name,()=>{const E=s.runOutsideAngular(()=>b.storage(r||void 0)),T=h;return T&&E.useEmulator(...T),l&&E.setMaxUploadRetryTime(l),c&&E.setMaxOperationRetryTime(c),E},[l,c])}ref(e){return Ix(this.storage.ref(e))}refFromURL(e){return Ix(this.storage.refFromURL(e))}upload(e,i,r){return Ix(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)(G(Qm),G(Ym,8),G(Ope,8),G(es),G(At),G(uI),G(Npe,8),G(Fpe,8),G(Lpe,8),G(cI,8))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Vpe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Kt({type:n});static \u0275inj=Gt({})}return n})(),Upe=(()=>{class n{constructor(){Ys.A.registerVersion("angularfire",qm.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Kt({type:n});static \u0275inj=Gt({providers:[JH],imports:[Vpe]})}return n})();Et(244);const jpe=new he("angularfire2.functions.origin"),zpe=new he("angularfire2.functions.region"),Hpe=new he("angularfire2.functions.use-emulator");let DP,By=(()=>{class n{httpsCallable;constructor(e,i,r,o,s,a,l,c){const h=l,p=qe(void 0).pipe(Za(o.outsideAngular),St(()=>Promise.resolve().then(Et.bind(Et,244))),Le(()=>Gv(e,r,i)),Le(b=>dI(`${b.name}.functions.${s||a}`,"AngularFireFunctions",b.name,()=>{let E;if(s&&a)throw new Error("REGION and ORIGIN can't be used at the same time.");return E=b.functions(s||a||void 0),h&&E.useEmulator(...h),E},[s,a,h])),qv({bufferSize:1,refCount:!1}));return this.httpsCallable=(b,E)=>T=>Yt(p).pipe(Za(o.insideAngular),St(R=>R.httpsCallable(b,E)(T)),Le(R=>R.data)),Z5(this,p,r)}static \u0275fac=function(i){return new(i||n)(G(Qm),G(Ym,8),G(At),G(uI),G(zpe,8),G(jpe,8),G(Hpe,8),G(cI,8))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),$pe=(()=>{class n{constructor(){Ys.A.registerVersion("angularfire",qm.full,"fn-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Kt({type:n});static \u0275inj=Gt({providers:[By]})}return n})();try{DP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{DP=!1}let jy,Nh,MP,mo=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?X4(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!DP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(G(es))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zy(n){return function Gpe(){if(null==jy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jy=!0}))}finally{jy=jy||!1}return jy}()?n:!!n.capture}function qpe(){if(null==Nh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Nh=!1,Nh;if("scrollBehavior"in document.documentElement.style)Nh=!0;else{const n=Element.prototype.scrollTo;Nh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Nh}function Cx(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function _c(n){return n.composedPath?n.composedPath()[0]:n.target}function RP(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Tx(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function i9(n){return ur((t,e)=>n<=e)}function Ax(n){return Array.isArray(n)?n:[n]}function wr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Fh(n){return n instanceof Qn?n.nativeElement:n}let s9=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),PP=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({providers:[s9]})}}return n})();const a9=new Set;let Lh,vge=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bge}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function yge(n,t){if(!a9.has(n))try{Lh||(Lh=document.createElement("style"),t&&Lh.setAttribute("nonce",t),Lh.setAttribute("type","text/css"),document.head.appendChild(Lh)),Lh.sheet&&(Lh.sheet.insertRule(`@media ${n} {body{ }}`,0),a9.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||n)(G(mo),G(ET,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bge(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let l9=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new F}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return c9(Ax(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=nh(c9(Ax(e)).map(s=>this._registerQuery(s).observable));return o=Pm(o.pipe(Qr(1)),o.pipe(i9(1),gx(0))),o.pipe(Le(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Dn(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Ja(i),Le(({matches:s})=>({query:e,matches:s})),km(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static{this.\u0275fac=function(i){return new(i||n)(G(vge),G(At))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function c9(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const Bp_Medium="(min-width: 960px) and (max-width: 1279.98px)",Bp_Large="(min-width: 1280px) and (max-width: 1919.98px)";let kP=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Mge(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Dge(n){try{return n.frameElement}catch{return null}}(function Vge(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===g9(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=g9(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Fge(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Lge(n){return!function Pge(n){return function Oge(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Rge(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function kge(n){return function Nge(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||p9(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(i){return new(i||n)(G(mo))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function p9(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function g9(n){if(!p9(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class _9{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1,s){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?jd(t,{injector:this._injector}):setTimeout(t)}}let v9=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._injector=we(jn),this._document=r}create(e,i=!1){return new _9(e,this._checker,this._ngZone,this._document,i,this._injector)}static{this.\u0275fac=function(i){return new(i||n)(G(kP),G(At),G(_n))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function y9(n){return 0===n.buttons||0===n.detail}function b9(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Uge=new he("cdk-input-modality-detector-options"),Bge={ignoreKeys:[18,17,224,91,16]},jp=zy({passive:!0,capture:!0});let jge=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new xe(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_c(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(y9(s)?"keyboard":"mouse"),this._mostRecentTarget=_c(s))},this._onTouchstart=s=>{b9(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_c(s))},this._options={...Bge,...o},this.modalityDetected=this._modality.pipe(i9(1)),this.modalityChanged=this.modalityDetected.pipe(u6()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,jp),r.addEventListener("mousedown",this._onMousedown,jp),r.addEventListener("touchstart",this._onTouchstart,jp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jp),document.removeEventListener("mousedown",this._onMousedown,jp),document.removeEventListener("touchstart",this._onTouchstart,jp))}static{this.\u0275fac=function(i){return new(i||n)(G(mo),G(At),G(_n),G(Uge,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Sx=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Sx||{});const Hge=new he("cdk-focus-monitor-default-options"),Dx=zy({passive:!0,capture:!0});let OP=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new F,this._rootNodeFocusAndBlurListener=a=>{for(let c=_c(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||Sx.IMMEDIATE}monitor(e,i=!1){const r=Fh(e);if(!this._platform.isBrowser||1!==r.nodeType)return qe();const o=function Kpe(n){if(function Wpe(){if(null==MP){const n=typeof document<"u"?document.head:null;MP=!(!n||!n.createShadowRoot&&!n.attachShadow)}return MP}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new F,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Fh(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Fh(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Sx.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,this._detectionMode===Sx.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=_c(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Dx),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Dx)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(km(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Dx),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Dx),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(G(At),G(mo),G(jge),G(_n,8),G(Hge,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vh=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Vh||{});const E9="cdk-high-contrast-black-on-white",I9="cdk-high-contrast-white-on-black",NP="cdk-high-contrast-active";let x9=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=we(l9).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Vh.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Vh.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Vh.BLACK_ON_WHITE}return Vh.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(NP,E9,I9),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===Vh.BLACK_ON_WHITE?e.add(NP,E9):i===Vh.WHITE_ON_BLACK&&e.add(NP,I9)}}static{this.\u0275fac=function(i){return new(i||n)(G(mo),G(_n))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$ge=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(G(x9))}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[PP]})}}return n})();const Gge=new he("cdk-dir-doc",{providedIn:"root",factory:function qge(){return we(_n)}}),Wge=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let FP=(()=>{class n{constructor(e){this.value="ltr",this.change=new Qt,e&&(this.value=function Kge(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Wge.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(G(Gge,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$y=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({})}}return n})(),A9=(()=>{class n{static{this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)"}static{this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)"}static{this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)"}static{this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}}return n})(),S9=(()=>{class n{static{this.COMPLEX="375ms"}static{this.ENTERING="225ms"}static{this.EXITING="195ms"}}return n})();const Yge=new he("mat-sanity-checks",{providedIn:"root",factory:function Qge(){return!0}});let Hi=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!RP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static{this.\u0275fac=function(i){return new(i||n)(G(x9),G(Yge,8),G(_n))}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[$y,$y]})}}return n})();var Xs=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Xs||{});class i_e{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Xs.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const D9=zy({passive:!0,capture:!0});class r_e{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=_c(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,D9)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,D9)))}}const M9={enterDuration:225,exitDuration:150},R9=zy({passive:!0,capture:!0}),P9=["mousedown","touchstart"],k9=["mouseup","mouseleave","touchend","touchcancel"];class qy{static{this._eventManager=new r_e}constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Fh(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...M9,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function s_e(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=l-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),E=p.transitionDuration,T="none"===p.transitionProperty||"0s"===E||"0s, 0s"===E||0===r.width&&0===r.height,R=new i_e(this,h,i,T);h.style.transform="scale3d(1, 1, 1)",R.state=Xs.FADING_IN,i.persistent||(this._mostRecentTransientRipple=R);let P=null;return!T&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const H=()=>{P&&(P.fallbackTimer=null),clearTimeout(Q),this._finishRippleTransition(R)},B=()=>this._destroyRipple(R),Q=setTimeout(B,c+100);h.addEventListener("transitionend",H),h.addEventListener("transitioncancel",B),P={onTransitionEnd:H,onTransitionCancel:B,fallbackTimer:Q}}),this._activeRipples.set(R,P),(T||!c)&&this._finishRippleTransition(R),R}fadeOutRipple(t){if(t.state===Xs.FADING_OUT||t.state===Xs.HIDDEN)return;const e=t.element,i={...M9,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Xs.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Fh(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,P9.forEach(i=>{qy._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{k9.forEach(e=>{this._triggerElement.addEventListener(e,this,R9)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Xs.FADING_IN?this._startFadeOutTransition(t):t.state===Xs.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Xs.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Xs.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=y9(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!b9(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===Xs.VISIBLE||t.config.terminateOnPointerUp&&t.state===Xs.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(P9.forEach(e=>qy._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(k9.forEach(e=>t.removeEventListener(e,this,R9)),this._pointerUpEventsRegistered=!1))}}const Mx=new he("mat-ripple-global-options");let a_e=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new qy(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static{this.\u0275fac=function(i){return new(i||n)(z(Qn),z(At),z(mo),z(Mx,8),z(Zc,8))}}static{this.\u0275dir=at({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&_r("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),LP=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[Hi,Hi]})}}return n})(),O9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[Hi]})}}return n})(),N9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[LP,Hi,O9]})}}return n})();const F9={capture:!0},L9=["focus","mousedown","mouseenter","touchstart"],VP="mat-ripple-loader-uninitialized",UP="mat-ripple-loader-class-name",V9="mat-ripple-loader-centered",Rx="mat-ripple-loader-disabled";let l_e=(()=>{class n{constructor(){this._document=we(_n,{optional:!0}),this._animationMode=we(Zc,{optional:!0}),this._globalRippleOptions=we(Mx,{optional:!0}),this._platform=we(mo),this._ngZone=we(At),this._hosts=new Map,this._onInteraction=e=>{const i=_c(e);if(i instanceof HTMLElement){const r=i.closest(`[${VP}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(const e of L9)this._document?.addEventListener(e,this._onInteraction,F9)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of L9)this._document?.removeEventListener(i,this._onInteraction,F9)}configureRipple(e,i){e.setAttribute(VP,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(UP))&&e.setAttribute(UP,i.className||""),i.centered&&e.setAttribute(V9,""),i.disabled&&e.setAttribute(Rx,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(Rx,""):e.removeAttribute(Rx)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(UP)),e.append(r);const o=new a_e(new Qn(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(V9),o.disabled=e.hasAttribute(Rx),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(VP),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),c_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[Hi,Hi]})}}return n})();const d_e=["mat-icon-button",""],h_e=["*"],f_e=new he("MAT_BUTTON_CONFIG"),m_e=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let p_e=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=we(OP),this._rippleLoader=we(l_e),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=we(f_e,{optional:!0}),a=e.nativeElement,l=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:c,mdcClasses:h}of m_e)a.hasAttribute(c)&&l.add(...h)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){XT()}}static{this.\u0275dir=at({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Hs],disabled:[2,"disabled","disabled",Hs],ariaDisabled:[2,"aria-disabled","ariaDisabled",Hs],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Hs]},features:[O_]})}}return n})(),__e=(()=>{class n extends p_e{constructor(e,i,r,o){super(e,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(z(Qn),z(mo),z(At),z(Zc,8))}}static{this.\u0275cmp=on({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(ei("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),yw(r.color?"mat-"+r.color:""),_r("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[gn,ga],attrs:d_e,ngContentSelectors:h_e,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(iu(),fe(0,"span",0),so(1),fe(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),v_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[Hi,LP,Hi]})}}return n})();const y_e=["*"];let Px;function Wy(n){return function b_e(){if(void 0===Px&&(Px=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Px=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Px}()?.createHTML(n)||n}function U9(n){return Error(`Unable to find icon with the name "${n}"`)}function B9(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function j9(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Uh{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let kx=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Uh(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(Wr.HTML,r);if(!s)throw j9(r);const a=Wy(s);return this._addSvgIconConfig(e,i,new Uh("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Uh(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(Wr.HTML,i);if(!o)throw j9(i);const s=Wy(o);return this._addSvgIconSetConfig(e,new Uh("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Wr.RESOURCE_URL,e);if(!i)throw B9(e);const r=this._cachedIconsByUrl.get(i);return r?qe(Ox(r)):this._loadSvgIconFromConfig(new Uh(e,null)).pipe(vn(o=>this._cachedIconsByUrl.set(i,o)),Le(o=>Ox(o)))}getNamedSvgIcon(e,i=""){const r=z9(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Xa(U9(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?qe(Ox(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Le(i=>Ox(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?qe(r):wD(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(xi(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Wr.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),qe(null)})))).pipe(Le(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw U9(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(vn(i=>e.svgText=i),Le(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?qe(null):this._fetchIcon(e).pipe(vn(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Wy("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Wy("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function w_e(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Wr.RESOURCE_URL,i);if(!s)throw B9(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Le(c=>Wy(c)),Dm(()=>this._inProgressUrlFetches.delete(s)),t6());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(z9(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return I_e(o)?new Uh(o.url,null,o.options):new Uh(o,null)}}static{this.\u0275fac=function(i){return new(i||n)(G(tc,8),G(hS),G(_n,8),G(_s))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ox(n){return n.cloneNode(!0)}function z9(n,t){return n+":"+t}function I_e(n){return!(!n.url||!n.options)}const x_e=new he("MAT_ICON_DEFAULT_OPTIONS"),C_e=new he("mat-icon-location",{providedIn:"root",factory:function T_e(){const n=we(_n),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),H9=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],A_e=H9.map(n=>`[${n}]`).join(", "),S_e=/^url\(['"]?#(.*?)['"]?\)$/;let D_e=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){this._elementRef=e,this._iconRegistry=i,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ct.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(A_e),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)H9.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(S_e):null;if(c){let h=r.get(a);h||(h=[],r.set(a,h)),h.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qr(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static{this.\u0275fac=function(i){return new(i||n)(z(Qn),z(kx),function d(n){return function uT(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(sf(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(On(),n)}("aria-hidden"),z(C_e),z(_s),z(x_e,8))}}static{this.\u0275cmp=on({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(ei("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),yw(r.color?"mat-"+r.color:""),_r("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[2,"inline","inline",Hs],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[O_,ga],ngContentSelectors:y_e,decls:1,vars:0,template:function(i,r){1&i&&(iu(),so(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),M_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[Hi,Hi]})}}return n})();const R_e=["*"],O_e=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],N_e=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],F_e=new he("MAT_CARD_CONFIG");let $9=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||n)(z(F_e,8))}}static{this.\u0275cmp=on({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&_r("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[ga],ngContentSelectors:R_e,decls:1,vars:0,template:function(i,r){1&i&&(iu(),so(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})(),G9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=at({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return n})(),q9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=at({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return n})(),W9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=at({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}}return n})(),K9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=on({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[ga],ngContentSelectors:N_e,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(iu(O_e),so(0),_(1,"div",0),so(2,1),v(),so(3,2))},encapsulation:2,changeDetection:0})}}return n})(),U_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[Hi,av,Hi]})}}return n})(),B_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[Hi,Hi]})}}return n})(),_ve=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[PP,av,Hi,LP,O9,B_e]})}}return n})();const vve=["addListener","removeListener"],yve=["addEventListener","removeEventListener"],bve=["on","off"];function jP(n,t,e,i){if(nt(e)&&(i=e,e=void 0),i)return jP(n,t,e).pipe(KS(i));const[r,o]=function Ive(n){return nt(n.addEventListener)&&nt(n.removeEventListener)}(n)?yve.map(s=>a=>n[s](t,a,e)):function wve(n){return nt(n.addListener)&&nt(n.removeListener)}(n)?vve.map(e7(n,t)):function Eve(n){return nt(n.on)&&nt(n.off)}(n)?bve.map(e7(n,t)):[];if(!r&&zS(n))return Kr(s=>jP(s,t,e))(Po(n));if(!r)throw new TypeError("Invalid event target");return new Dn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function e7(n,t){return e=>i=>n[e](t,i)}const Ky={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Ky;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new ct(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Ky;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Ky;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Cve extends lI{flush(t){let e;this._active=!0,t?e=t.id:(e=this._scheduled,this._scheduled=void 0);const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class xve extends aI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ky.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&e===t._scheduled&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Ky.cancelAnimationFrame(e),t._scheduled=void 0)}});let zP,Ave=1;const Nx={};function t7(n){return n in Nx&&(delete Nx[n],!0)}const Sve={setImmediate(n){const t=Ave++;return Nx[t]=!0,zP||(zP=Promise.resolve()),zP.then(()=>t7(t)&&n()),t},clearImmediate(n){t7(n)}},{setImmediate:Dve,clearImmediate:Mve}=Sve,Fx={setImmediate(...n){const{delegate:t}=Fx;return(t?.setImmediate||Dve)(...n)},clearImmediate(n){const{delegate:t}=Fx;return(t?.clearImmediate||Mve)(n)},delegate:void 0};new class Pve extends lI{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Rve extends aI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Fx.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Fx.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function n7(n=0,t,e=oce){let i=-1;return null!=t&&(sU(t)?e=t:i=t),new Dn(r=>{let o=function Nve(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function i7(n,t=Gm){return function Ove(n){return Qe((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(Xe(e,c=>{i=!0,r=c,o||Po(n(c)).subscribe(o=Xe(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>n7(n,t))}let Lve=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new F,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Dn(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(i7(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ur(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Fh(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>jP(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(G(At),G(mo),G(_n,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),r7=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new F,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(i7(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(G(mo),G(At),G(_n,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HP=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({})}}return n})(),o7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[$y,HP,$y,HP]})}}return n})();class $P{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class GP extends $P{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class s7 extends $P{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Uve extends $P{constructor(t){super(),this.element=t instanceof Qn?t.nativeElement:t}}class qP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof GP?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof s7?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Uve?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Bve extends qP{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||jn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let WP=(()=>{class n extends qP{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Qt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||n)(z(em),z(js),z(_n))}}static{this.\u0275dir=at({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[gn]})}}return n})(),Lx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({})}}return n})();const a7=qpe();class jve{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=wr(-this._previousScrollPosition.left),t.style.top=wr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),a7&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),a7&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class zve{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(ur(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class l7{enable(){}disable(){}attach(){}}function KP(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function c7(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Hve{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();KP(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let $ve=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new l7,this.close=s=>new zve(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new jve(this._viewportRuler,this._document),this.reposition=s=>new Hve(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(G(Lve),G(r7),G(At),G(_n))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class u7{constructor(t){if(this.scrollStrategy=new l7,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Gve{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let d7=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(G(_n))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qve=(()=>{class n extends d7{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(G(_n),G(At,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wve=(()=>{class n extends d7{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=_c(o)},this._clickListener=o=>{const s=_c(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const h=l[c];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h7(h.overlayElement,s)||h7(h.overlayElement,a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(G(_n),G(mo),G(At,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function h7(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}let QP=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||RP()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),RP()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(G(_n),G(mo))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Vx{constructor(t,e,i,r,o,s,a,l,c,h=!1,p){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._injector=p,this._backdropElement=null,this._backdropClick=new F,this._attachments=new F,this._detachments=new F,this._locationChanges=ct.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._backdropTransitionendHandler=b=>{this._disposeBackdrop(b.target)},this._keydownEvents=new F,this._outsidePointerEvents=new F,this._renders=new F,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=va(()=>function dF(n,t){!t?.injector&&xg();const e=t?.injector??we(jn);return bs(e)?(So("NgAfterRender"),hF(n,e,t,!1)):fF}(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=jd(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=wr(this._config.width),t.height=wr(this._config.height),t.minWidth=wr(this._config.minWidth),t.minHeight=wr(this._config.minHeight),t.maxWidth=wr(this._config.maxWidth),t.maxHeight=wr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Ax(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(km(hI(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const f7="cdk-overlay-connected-position-bounding-box",Kve=/([A-Za-z%]+)$/;class Qve{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new F,this._resizeSubscription=ct.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(f7),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),h=this._getOverlayFit(c,e,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(h,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(f7),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=p7(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let b=0-a,E=a+o.height-i.height,T=this._subtractOverflows(o.width,0-s,s+o.width-i.width),R=this._subtractOverflows(o.height,b,E),P=T*R;return{visibleArea:P,isCompletelyWithinViewport:o.width*o.height===P,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:T==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=m7(this._overlayRef.getConfig().minHeight),a=m7(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=p7(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let h=0,p=0;return h=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,p=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:h,y:p},{x:t.x+h,y:t.y+p}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function Yve(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new Gve(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,p,b;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const E=Math.min(i.bottom-t.y+i.top,t.y),T=this._lastBoundingBoxSize.height;o=2*E,s=t.y-E,o>T&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-T/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)b=i.width-t.x+2*this._viewportMargin,h=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)p=t.x,h=i.right-t.x;else{const E=Math.min(i.right-t.x+i.left,t.x),T=this._lastBoundingBoxSize.width;h=2*E,p=t.x-E,h>T&&!this._isInitialRender&&!this._growAfterOpen&&(p=t.x-T/2)}return{top:s,left:p,bottom:a,right:b,width:h,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=wr(i.height),r.top=wr(i.top),r.bottom=wr(i.bottom),r.width=wr(i.width),r.left=wr(i.left),r.right=wr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=wr(o)),s&&(r.maxWidth=wr(s))}this._lastBoundingBoxSize=i,Bh(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Bh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();Bh(i,this._getExactOverlayY(e,t,h)),Bh(i,this._getExactOverlayX(e,t,h))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=wr(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=wr(s.maxWidth):o&&(i.maxWidth="")),Bh(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=wr(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=wr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:c7(t,i),isOriginOutsideView:KP(t,i),isOverlayClipped:c7(e,i),isOverlayOutsideView:KP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ax(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Qn)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Bh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function m7(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Kve);return e&&"px"!==e?null:parseFloat(t)}return n||null}function p7(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const g7="cdk-global-overlay-wrapper";class Zve{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(g7),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,b="rtl"===this._overlayRef.getConfig().direction;let E="",T="",R="";l?R="flex-start":"center"===h?(R="center",b?T=p:E=p):b?"left"===h||"end"===h?(R="flex-end",E=p):("right"===h||"start"===h)&&(R="flex-start",T=p):"left"===h||"start"===h?(R="flex-start",E=p):("right"===h||"end"===h)&&(R="flex-end",T=p),t.position=this._cssPosition,t.marginLeft=l?"0":E,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":T,e.justifyContent=R,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(g7),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Xve=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Zve}flexibleConnectedTo(e){return new Qve(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(G(r7),G(_n),G(mo),G(QP))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Jve=0,vc=(()=>{class n{constructor(e,i,r,o,s,a,l,c,h,p,b,E){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=h,this._location=p,this._outsideClickDispatcher=b,this._animationsModuleType=E}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new u7(e);return s.direction=s.direction||this._directionality.value,new Vx(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(pr))}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Jve++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(_a)),new Bve(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(G($ve),G(QP),G(em),G(Xve),G(qve),G(jn),G(At),G(_n),G(FP),G(Kd),G(Wve),G(Zc,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const nye={provide:new he("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=we(vc);return()=>n.scrollStrategies.reposition()}}),deps:[vc],useFactory:function tye(n){return()=>n.scrollStrategies.reposition()}};let _7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({providers:[vc,nye],imports:[$y,Lx,o7,o7]})}}return n})();function iye(n,t){}class Ux{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let v7=(()=>{class n extends qP{constructor(e,i,r,o,s,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._platform=we(mo),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=we(Wl),this._injector=we(jn),this._isDestroyed=!1,this.attachDomPortal=h=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),p},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||jd(()=>{const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Cx(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Cx();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Cx()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(z(Qn),z(v9),z(_n,8),z(Ux),z(kP),z(At),z(Vx),z(OP))}}static{this.\u0275cmp=on({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&function u1(n,t,e){k2(n,t,e)}(WP,7),2&i){let o;(function Hl(n){const t=Ae(),e=en(),i=ha();Rf(i+1);const r=kA(e,i);if(n.dirty&&function t0(n){return!(4&~n[Tt])}(t)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const o=F2(t,i);n.reset(o,dO),n.notifyOnChanges()}return!0}return!1})(o=$l())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&ei("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[gn,ga],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&pe(0,iye,0,0,"ng-template",0)},dependencies:[WP],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})();class YP{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new F,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Tx(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const y7=new he("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=we(vc);return()=>n.scrollStrategies.block()}}),rye=new he("DialogData"),oye=new he("DefaultDialogConfig");let aye=0,b7=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F,this._afterOpenedAtThisLevel=new F,this._ariaHiddenElements=new Map,this.afterAllClosed=wv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ja(void 0))),this._scrollStrategy=a}open(e,i){(i={...this._defaultOptions||new Ux,...i}).id=i.id||"cdk-dialog-"+aye++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new YP(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(e,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){ZP(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){ZP(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),ZP(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new u7({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:Ux,useValue:r},{provide:YP,useValue:i},{provide:Vx,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=v7;const l=new GP(a,r.viewContainerRef,jn.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof qa){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new s7(e,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new GP(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:rye,useValue:e.data},{provide:YP,useValue:i}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(FP,null,{optional:!0}))&&a.push({provide:FP,useValue:{value:e.direction,change:qe()}}),jn.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(G(vc),G(jn),G(oye,8),G(n,12),G(QP),G(y7))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ZP(n,t){let e=n.length;for(;e--;)t(n[e])}let lye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({providers:[b7],imports:[_7,Lx,$ge,Lx]})}}return n})();function cye(n,t){}const uye={bottomSheetState:Cm("state",[cu("void, hidden",xs({transform:"translateY(100%)"})),cu("visible",xs({transform:"translateY(0%)"})),Xl("visible => void, visible => hidden",T3([lu(`${S9.COMPLEX} ${A9.ACCELERATION_CURVE}`),mS("@*",fS(),{optional:!0})])),Xl("void => visible",T3([lu(`${S9.EXITING} ${A9.DECELERATION_CURVE}`),mS("@*",fS(),{optional:!0})]))])};let dye=(()=>{class n extends v7{constructor(e,i,r,o,s,a,l,c,h){super(e,i,r,o,s,a,l,h),this._animationState="void",this._animationStateChanged=new Qt,this._breakpointSubscription=c.observe([Bp_Medium,Bp_Large,"(min-width: 1920px)"]).subscribe(()=>{const p=this._elementRef.nativeElement.classList;p.toggle("mat-bottom-sheet-container-medium",c.isMatched(Bp_Medium)),p.toggle("mat-bottom-sheet-container-large",c.isMatched(Bp_Large)),p.toggle("mat-bottom-sheet-container-xlarge",c.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(e){"visible"===e.toState&&this._trapFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_captureInitialFocus(){}static{this.\u0275fac=function(i){return new(i||n)(z(Qn),z(v9),z(_n,8),z(Ux),z(kP),z(At),z(Vx),z(l9),z(OP))}}static{this.\u0275cmp=on({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(i,r){1&i&&a1("@state.start",function(s){return r._onAnimationStart(s)})("@state.done",function(s){return r._onAnimationDone(s)}),2&i&&(r1("@state",r._animationState),ei("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel))},standalone:!0,features:[gn,ga],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&pe(0,cye,0,0,"ng-template",0)},dependencies:[WP],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color, var(--mat-app-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-app-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-app-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-app-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-app-body-large-tracking))}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[uye.bottomSheetState]}})}}return n})();const hye=new he("MatBottomSheetData");class fye{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class w7{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(t,e,i){this._ref=t,this._afterOpened=new F,this.containerInstance=i,this.disableClose=e.disableClose,i._animationStateChanged.pipe(ur(r=>"done"===r.phaseName&&"visible"===r.toState),Qr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ur(r=>"done"===r.phaseName&&"hidden"===r.toState),Qr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),t.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),hI(this.backdropClick(),this.keydownEvents().pipe(ur(r=>27===r.keyCode))).subscribe(r=>{!this.disableClose&&("keydown"!==r.type||!Tx(r))&&(r.preventDefault(),this.dismiss())})}dismiss(t){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(ur(e=>"start"===e.phaseName),Qr(1)).subscribe(e=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},e.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const mye=new he("mat-bottom-sheet-default-options");let pye=(()=>{class n{get _openedBottomSheetRef(){const e=this._parentBottomSheet;return e?e._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(e){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=e:this._bottomSheetRefAtThisLevel=e}constructor(e,i,r,o){this._overlay=e,this._parentBottomSheet=r,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null,this._dialog=i.get(b7)}open(e,i){const r={...this._defaultOptions||new fye,...i};let o;return this._dialog.open(e,{...r,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:dye,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,l)=>(o=new w7(s,r,l),[{provide:w7,useValue:o},{provide:hye,useValue:r.data}])}),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(e){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(e)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static{this.\u0275fac=function(i){return new(i||n)(G(vc),G(jn),G(n,12),G(mye,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({providers:[pye],imports:[lye,Hi,Lx,Hi]})}}return n})(),Bx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[Hi,av,PP,Hi]})}}return n})();const Aye={provide:new he("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=we(vc);return()=>n.scrollStrategies.reposition()}}),deps:[vc],useFactory:function Tye(n){return()=>n.scrollStrategies.reposition()}};let Sye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({providers:[Aye],imports:[av,_7,N9,Hi,HP,Bx,N9,Hi]})}}return n})(),Dye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({})}}return n})(),Mye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n})}static{this.\u0275inj=Gt({imports:[Hi,Bx,Bx,Dye,Hi]})}}return n})();class zp{}let XP=(()=>{class n extends zp{getTranslation(e){return qe({})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})();static \u0275prov=Pe({token:n,factory:n.\u0275fac})}return n})();class jx{}let JP=(()=>{class n{handle(e){return e.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Pe({token:n,factory:n.\u0275fac})}return n})();function zx(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!=n&&t!=t)return!0;const e=typeof n;let r,o,s;if(e==typeof t&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(t))return!1;for(o in s=Object.create(null),n){if(!zx(n[o],t[o]))return!1;s[o]=!0}for(o in t)if(!(o in s)&&typeof t[o]<"u")return!1;return!0}if(!Array.isArray(t))return!1;if((r=n.length)==t.length){for(o=0;o<r;o++)if(!zx(n[o],t[o]))return!1;return!0}}return!1}function Hu(n){return typeof n<"u"&&null!==n}function Qy(n){return Hx(n)&&!ek(n)&&null!==n}function Hx(n){return"object"==typeof n}function ek(n){return Array.isArray(n)}function tk(n){return"string"==typeof n}function nk(n,t){const e=Object.assign({},n);return Hx(n)?(Hx(n)&&Hx(t)&&Object.keys(t).forEach(i=>{Qy(t[i])?i in n?e[i]=nk(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e):nk({},t)}function ik(n,t){const e=t.split(".");t="";do{t+=e.shift(),Hu(n)&&Hu(n[t])&&(Qy(n[t])||ek(n[t])||!e.length)?(n=n[t],t=""):e.length?t+=".":n=void 0}while(e.length);return n}class Yy{}let rk=(()=>{class n extends Yy{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,i){return tk(e)?this.interpolateString(e,i):function Rye(n){return"function"==typeof n}(e)?this.interpolateFunction(e,i):void 0}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(r,o)=>{const s=ik(i,o);return Hu(s)?s:r}):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})();static \u0275prov=Pe({token:n,factory:n.\u0275fac})}return n})();class Zy{}let ok=(()=>{class n extends Zy{compile(e,i){return e}compileTranslations(e,i){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ei(n)))(r||n)}})();static \u0275prov=Pe({token:n,factory:n.\u0275fac})}return n})();class $x{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Qt;onLangChange=new Qt;onDefaultLangChange=new Qt}const Gx=new he("ISOLATE_TRANSLATE_SERVICE"),qx=new he("USE_DEFAULT_LANG"),Wx=new he("DEFAULT_LANGUAGE"),Kx=new he("USE_EXTEND"),Xy=n=>nc(n)?n:qe(n);let Si=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,i,r,o,s,a=!0,l=!1,c=!1,h){this.store=e,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.extend=c,l&&(this.store=new $x),h&&this.setDefaultLang(h)}setDefaultLang(e){if(e===this.defaultLang)return;const i=this.retrieveTranslations(e);typeof i<"u"?(null==this.defaultLang&&(this.defaultLang=e),i.pipe(Qr(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return qe(this.translations[e]);this.currentLang||(this.currentLang=e);const i=this.retrieveTranslations(e);return nc(i)?(i.pipe(Qr(1)).subscribe(()=>{this.changeLang(e)}),i):(this.changeLang(e),qe(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;const i=this.currentLoader.getTranslation(e).pipe(qv(1),Qr(1));return this.loadingTranslations=i.pipe(Le(r=>this.compiler.compileTranslations(r,e)),qv(1),Qr(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?{...r,...this.translations[e]}:r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(e,i,r=!1){const o=this.compiler.compileTranslations(i,e);this.translations[e]=(r||this.extend)&&this.translations[e]?nk(this.translations[e],o):o,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){const i=e.filter(r=>!this.langs.includes(r));i.length>0&&(this.langs=[...this.langs,...i])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,i,r){let o;if(e&&(o=this.runInterpolation(ik(e,i),r)),void 0===o&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.runInterpolation(ik(this.translations[this.defaultLang],i),r)),void 0===o){const s={key:i,translateService:this};typeof r<"u"&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return void 0!==o?o:i}runInterpolation(e,i){if(ek(e))return e.map(r=>this.runInterpolation(r,i));if(Qy(e)){const r={};for(const o in e){const s=this.runInterpolation(e[o],i);void 0!==s&&(r[o]=s)}return r}return this.parser.interpolate(e,i)}getParsedResult(e,i,r){if(i instanceof Array){const o={};let s=!1;for(const l of i)o[l]=this.getParsedResultForKey(e,l,r),s=s||nc(o[l]);return s?wD(i.map(l=>Xy(o[l]))).pipe(Le(l=>{const c={};return l.forEach((h,p)=>{c[i[p]]=h}),c})):o}return this.getParsedResultForKey(e,i,r)}get(e,i){if(!Hu(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(Jd(r=>Xy(this.getParsedResult(r,e,i)))):Xy(this.getParsedResult(this.translations[this.currentLang],e,i))}getStreamOnTranslationChange(e,i){if(!Hu(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return Pm(wv(()=>this.get(e,i)),this.onTranslationChange.pipe(St(r=>{const o=this.getParsedResult(r.translations,e,i);return Xy(o)})))}stream(e,i){if(!Hu(e)||!e.length)throw new Error('Parameter "key" required');return Pm(wv(()=>this.get(e,i)),this.onLangChange.pipe(St(r=>{const o=this.getParsedResult(r.translations,e,i);return Xy(o)})))}instant(e,i){if(!Hu(e)||0===e.length)throw new Error('Parameter "key" is required and cannot be empty');const r=this.getParsedResult(this.translations[this.currentLang],e,i);return nc(r)?Array.isArray(e)?e.reduce((o,s)=>(o[s]=s,o),{}):e:r}set(e,i,r=this.currentLang){(function Pye(n,t,e){const i=t.split(".");let r=n;for(let o=0;o<i.length;o++){const s=i[o];o===i.length-1?r[s]=e:((!r[s]||!Qy(r[s]))&&(r[s]={}),r=r[s])}})(this.translations[r],e,tk(i)?this.compiler.compile(i,r):this.compiler.compileTranslations(i,r)),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(i){return new(i||n)(G($x),G(zp),G(Zy),G(Yy),G(jx),G(qx),G(Gx),G(Kx),G(Wx))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yi=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,i){this.translate=e,this._ref=i}updateValue(e,i,r){const o=s=>{this.value=void 0!==s?s:e,this.lastKey=e,this._ref.markForCheck()};if(r){const s=this.translate.getParsedResult(r,e,i);nc(s)?s.subscribe(o):o(s)}this.translate.get(e,i).subscribe(o)}transform(e,...i){if(!e||!e.length)return e;if(zx(e,this.lastKey)&&zx(i,this.lastParams))return this.value;let r;if(Hu(i[0])&&i.length)if(tk(i[0])&&i[0].length){const o=i[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else Qy(i[0])&&(r=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||n)(z(Si,16),z(Wl,16))};static \u0275pipe=qi({name:"translate",type:n,pure:!1,standalone:!0});static \u0275prov=Pe({token:n,factory:n.\u0275fac})}return n})(),kye=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:zp,useClass:XP},e.compiler||{provide:Zy,useClass:ok},e.parser||{provide:Yy,useClass:rk},e.missingTranslationHandler||{provide:jx,useClass:JP},$x,{provide:Gx,useValue:e.isolate},{provide:qx,useValue:e.useDefaultLang},{provide:Kx,useValue:e.extend},{provide:Wx,useValue:e.defaultLanguage},Si]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:zp,useClass:XP},e.compiler||{provide:Zy,useClass:ok},e.parser||{provide:Yy,useClass:rk},e.missingTranslationHandler||{provide:jx,useClass:JP},{provide:Gx,useValue:e.isolate},{provide:qx,useValue:e.useDefaultLang},{provide:Kx,useValue:e.extend},{provide:Wx,useValue:e.defaultLanguage},Si]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Kt({type:n});static \u0275inj=Gt({})}return n})();class Oye{http;prefix;suffix;constructor(t,e="/assets/i18n/",i=".json"){this.http=t,this.prefix=e,this.suffix=i}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}const Nye_firebase={apiKey:"AIzaSyBhM8rsBGh4ZVxQ_znx3k6Z7LniJPHP_Gk",authDomain:"ana-vaspitac-prod-e7ee4.firebaseapp.com",projectId:"ana-vaspitac-prod-e7ee4",storageBucket:"ana-vaspitac-prod-e7ee4.firebasestorage.app",messagingSenderId:"408364244962",appId:"1:408364244962:web:89651ed86161a881dc63bb",measurementId:"G-T9TSFDXH3V"},E7=(0,Et(83).F3)("App",{web:()=>Et.e(303).then(Et.bind(Et,303)).then(n=>new n.AppWeb)});let Hp=(()=>{class n{constructor(){this.lang$=new xe("sr")}setLanguage(e){this.lang$.next(e)}getLanguage(){return this.lang$.asObservable()}getCurrentLanguage(){return this.lang$.getValue()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Bo=function(n){return n.PUBLIC="public",n.SUBSCRIBER="subscriber",n.ADMIN="admin",n}(Bo||{});function jh(n,t){const e="object"==typeof t;return new Promise((i,r)=>{const o=new ki({next:s=>{i(s),o.unsubscribe()},error:r,complete:()=>{e?i(t.defaultValue):r(new bv)}});n.subscribe(o)})}let Jy=(()=>{class n{constructor(e,i,r){this._firestore=e,this._http=i,this._languageService=r}getActivities(){return this._languageService.getLanguage().pipe(St(e=>this._firestore.collection(`activities_${e}`).valueChanges().pipe(xi(()=>this._http.get(`assets/activities_${e}.json`)))))}getActivityById(e){return this._languageService.getLanguage().pipe(St(i=>this._firestore.doc(`activities_${i}/${e}`).valueChanges().pipe(xi(()=>this._http.get(`assets/activities_${i}.json`).pipe(St(r=>qe(r.find(o=>o.id===e))))))))}getCategories(){return this._languageService.getLanguage().pipe(St(e=>this._firestore.collection(`categories_${e}`).valueChanges().pipe(xi(i=>this._http.get(`assets/categories_${e}.json`).pipe(vn(r=>{}))))))}getBlogPosts(){return this._languageService.getLanguage().pipe(St(e=>this._firestore.collection(`blog_${e}`).valueChanges().pipe(xi(i=>this._http.get(`assets/blog-posts_${e}.json`)))))}getTips(){return this._languageService.getLanguage().pipe(St(e=>this._firestore.collection(`tips_${e}`).valueChanges().pipe(xi(()=>this._http.get(`assets/tips_${e}.json`)))))}getAboutContent(){return this._languageService.getLanguage().pipe(St(e=>this._firestore.doc(`about_${e}/content`).valueChanges().pipe(Le(i=>{if(!i)throw new Error("About content not found in Firestore");return i}),xi(()=>this._http.get(`assets/about_${e}.json`).pipe(Le(i=>i.data))))))}updateAboutContent(e){return jh(this._languageService.getLanguage().pipe(St(i=>this._firestore.doc(`about_${i}/content`).set({...e,lastUpdated:(new Date).toISOString()}))))}getVersion(){return this._firestore.doc("metadata/version").valueChanges().pipe(Le(e=>({version:e?.version??"1.0.0",lastUpdated:e?.lastUpdated?new Date(e.lastUpdated):new Date})),xi(()=>qe({version:"1.0.0",lastUpdated:new Date})))}createBlogPost(e){return jh(this._languageService.getLanguage().pipe(St(i=>this._firestore.collection(`blog_${i}`).doc(e.id.toString()).set(e))))}updateBlogPost(e){return jh(this._languageService.getLanguage().pipe(St(i=>this._firestore.collection(`blog_${i}`).doc(e.id.toString()).update(e))))}deleteBlogPost(e){return jh(this._languageService.getLanguage().pipe(St(i=>this._firestore.collection(`blog_${i}`).doc(e.toString()).delete())))}createActivity(e){return jh(this._languageService.getLanguage().pipe(St(i=>this._firestore.collection(`activities_${i}`).doc(e.id).set(e))))}updateActivity(e){return jh(this._languageService.getLanguage().pipe(St(i=>this._firestore.collection(`activities_${i}`).doc(e.id).update(e))))}deleteActivity(e){return jh(this._languageService.getLanguage().pipe(St(i=>this._firestore.collection(`activities_${i}`).doc(e).delete())))}static{this.\u0275fac=function(i){return new(i||n)(G(gP),G(tc),G(Hp))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$u=(()=>{class n{constructor(){this.loadingStateSubject=new xe({isVisible:!1,message:"",showSpinner:!0}),this.loadingState$=this.loadingStateSubject.asObservable()}get currentState(){return this.loadingStateSubject.value}show(){this.updateState({isVisible:!0,message:"",showSpinner:!0})}showWithMessage(e,i=!0){this.updateState({isVisible:!0,message:e,showSpinner:i})}hide(){this.updateState({isVisible:!1,message:"",showSpinner:!0})}updateState(e){this.loadingStateSubject.next(e)}showForDuration(e,i){this.showWithMessage(i||"",!0),setTimeout(()=>{this.hide()},e)}showWhile(e,i){var r=this;return(0,ve.A)(function*(){try{return r.showWithMessage(i||"",!0),yield e()}finally{r.hide()}})()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Aa=(()=>{class n{constructor(e){this._afAuth=e,this.user$=this._afAuth.authState}signUp(e,i,r){var o=this;return(0,ve.A)(function*(){try{const s=yield o._afAuth.createUserWithEmailAndPassword(e,i);return s.user?(s.user.updateProfile&&(yield s.user.updateProfile({displayName:r})),s.user):null}catch(s){throw console.error("Sign up error:",s),o._handleAuthError(s)}})()}signIn(e,i){var r=this;return(0,ve.A)(function*(){try{return(yield r._afAuth.signInWithEmailAndPassword(e,i)).user}catch(o){throw console.error("Sign in error:",o),r._handleAuthError(o)}})()}signOut(){var e=this;return(0,ve.A)(function*(){try{yield e._afAuth.signOut()}catch(i){throw console.error("Sign out error:",i),e._handleAuthError(i)}})()}getCurrentUser(){var e=this;return(0,ve.A)(function*(){return yield e._afAuth.currentUser})()}isLoggedIn(){var e=this;return(0,ve.A)(function*(){try{return!!(yield e._afAuth.currentUser)}catch(i){return console.error("Error checking login status:",i),!1}})()}_handleAuthError(e){let i="An authentication error occurred. Please try again.";switch(e.code){case"auth/network-request-failed":i="Network error. Please check your internet connection and try again.";break;case"auth/user-not-found":i="No account found with this email address.";break;case"auth/wrong-password":i="Incorrect password. Please try again.";break;case"auth/email-already-in-use":i="An account with this email already exists.";break;case"auth/weak-password":i="Password is too weak. Please choose a stronger password.";break;case"auth/invalid-email":i="Invalid email address. Please check your email and try again.";break;case"auth/too-many-requests":i="Too many failed attempts. Please try again later.";break;case"auth/operation-not-allowed":i="This sign-in method is not enabled. Please contact support.";break;default:i=e.message||i}const r=new Error(i);return r.name=e.code||"auth/unknown",r}sendPasswordResetEmail(e){var i=this;return(0,ve.A)(function*(){try{yield i._afAuth.sendPasswordResetEmail(e)}catch(r){throw console.error("Password reset email error:",r),i._handleAuthError(r)}})()}static{this.\u0275fac=function(i){return new(i||n)(G(Wv))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eb=(()=>{class n{constructor(e,i,r,o,s){this._firestoreService=e,this._loadingService=i,this._translateService=r,this._functions=o,this._authService=s}getActivities(e="en"){return this._loadingService.showWithMessage(this._translateService.instant("ACTIVITIES.LOADING")),this._authService.user$.pipe(St(i=>i?Yt(this._functions.httpsCallable("getFilteredActivities")({language:e})).pipe(Le(r=>(r.activities||[]).map(s=>({...s,visibility:s.visibility||Bo.PUBLIC,isPremium:s.isPremium||!1}))),xi(r=>(console.warn("Filtered activities failed, falling back to public content:",r),this.getPublicActivities(e)))):this.getPublicActivities(e)),vn(()=>{this._loadingService.hide()}))}getPublicActivities(e="en"){return this._loadingService.showWithMessage(this._translateService.instant("ACTIVITIES.LOADING")),Yt(this._functions.httpsCallable("getPublicContent")({contentType:"activities",language:e})).pipe(Le(i=>(i.content||[]).map(o=>({...o,visibility:o.visibility||Bo.PUBLIC,isPremium:o.isPremium||!1}))),vn(()=>{this._loadingService.hide()}))}getActivityById(e){return this._loadingService.showWithMessage(this._translateService.instant("ACTIVITIES.LOADING_SINGLE")),this._firestoreService.getActivityById(e).pipe(Le(i=>i?{...i,visibility:i.visibility||Bo.PUBLIC,isPremium:i.isPremium||!1}:void 0),vn(()=>{this._loadingService.hide()}))}createActivity(e){return this._loadingService.showWithMessage(this._translateService.instant("ACTIVITIES.CREATING")),this._firestoreService.createActivity(e).then(()=>{this._loadingService.hide()}).catch(i=>{throw this._loadingService.hide(),i})}updateActivity(e){return this._loadingService.showWithMessage(this._translateService.instant("ACTIVITIES.UPDATING")),this._firestoreService.updateActivity(e).then(()=>{this._loadingService.hide()}).catch(i=>{throw this._loadingService.hide(),i})}deleteActivity(e){return this._loadingService.showWithMessage(this._translateService.instant("ACTIVITIES.DELETING")),this._firestoreService.deleteActivity(e).then(()=>{this._loadingService.hide()}).catch(i=>{throw this._loadingService.hide(),i})}static{this.\u0275fac=function(i){return new(i||n)(G(Jy),G($u),G(Si),G(By),G(Aa))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tb=(()=>{class n{constructor(e,i,r,o,s){this._firestoreService=e,this._loadingService=i,this._translateService=r,this._functions=o,this._authService=s}getBlogPosts(e="en"){return this._loadingService.showWithMessage(this._translateService.instant("BLOG.LOADING")),this._authService.user$.pipe(St(i=>i?Yt(this._functions.httpsCallable("getFilteredBlogPosts")({language:e})).pipe(Le(r=>(r.blogPosts||[]).map(s=>({...s,visibility:s.visibility||Bo.PUBLIC,isPremium:s.isPremium||!1}))),xi(r=>(console.warn("Filtered blog posts failed, falling back to public content:",r),this.getPublicBlogPosts(e)))):this.getPublicBlogPosts(e)),vn(()=>{this._loadingService.hide()}))}getPublicBlogPosts(e="en"){return this._loadingService.showWithMessage(this._translateService.instant("BLOG.LOADING")),Yt(this._functions.httpsCallable("getPublicContent")({contentType:"blog",language:e})).pipe(Le(i=>(i.content||[]).map(o=>({...o,visibility:o.visibility||Bo.PUBLIC,isPremium:o.isPremium||!1}))),vn(()=>{this._loadingService.hide()}))}getBlogPostById(e){return this._loadingService.showWithMessage(this._translateService.instant("BLOG.LOADING_SINGLE")),this._firestoreService.getBlogPosts().pipe(Le(i=>{const r=i.find(o=>o.id===e);if(!r)throw new Error(`Blog post with ID ${e} not found`);return{...r,visibility:r.visibility||Bo.PUBLIC,isPremium:r.isPremium||!1}}),vn(()=>{this._loadingService.hide()}))}createBlogPost(e){return this._loadingService.showWithMessage(this._translateService.instant("BLOG.CREATING")),this._firestoreService.createBlogPost(e).then(()=>{this._loadingService.hide()}).catch(i=>{throw this._loadingService.hide(),i})}updateBlogPost(e){return this._loadingService.showWithMessage(this._translateService.instant("BLOG.UPDATING")),this._firestoreService.updateBlogPost(e).then(()=>{this._loadingService.hide()}).catch(i=>{throw this._loadingService.hide(),i})}deleteBlogPost(e){return this._loadingService.showWithMessage(this._translateService.instant("BLOG.DELETING")),this._firestoreService.deleteBlogPost(e).then(()=>{this._loadingService.hide()}).catch(i=>{throw this._loadingService.hide(),i})}static{this.\u0275fac=function(i){return new(i||n)(G(Jy),G($u),G(Si),G(By),G(Aa))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_l=(()=>{class n{constructor(e,i,r,o){this._afs=e,this._loadingService=i,this._translateService=r,this._functions=o}getUserProfile(e){return this._loadingService.showWithMessage(this._translateService.instant("PROFILE.LOADING")),this._afs.doc(`users/${e}`).valueChanges().pipe(Le(i=>i??null),vn(()=>{this._loadingService.hide()}))}setUserProfile(e){return this._afs.doc(`users/${e.uid}`).set(e,{merge:!0})}getAllUsers(){return this._loadingService.showWithMessage(this._translateService.instant("PROFILE.LOADING")),this._afs.collection("users").valueChanges().pipe(vn(()=>{this._loadingService.hide()}))}createUser(e){return this._loadingService.showWithMessage(this._translateService.instant("COMMON.SAVING")),Yt(this._functions.httpsCallable("createUser")(e)).pipe(vn({next:()=>this._loadingService.hide(),error:()=>this._loadingService.hide()}))}updateUser(e){return this._loadingService.showWithMessage(this._translateService.instant("COMMON.SAVING")),Yt(this._functions.httpsCallable("updateUser")(e)).pipe(vn({next:()=>this._loadingService.hide(),error:()=>this._loadingService.hide()}))}deleteUser(e){return this._loadingService.showWithMessage(this._translateService.instant("COMMON.DELETING")),Yt(this._functions.httpsCallable("deleteUser")(e)).pipe(vn({next:()=>this._loadingService.hide(),error:()=>this._loadingService.hide()}))}resetUserPassword(e){return this._loadingService.showWithMessage(this._translateService.instant("COMMON.SENDING")),Yt(this._functions.httpsCallable("resetUserPassword")(e)).pipe(vn({next:()=>this._loadingService.hide(),error:()=>this._loadingService.hide()}))}deleteOwnProfile(e){return this._loadingService.showWithMessage(this._translateService.instant("COMMON.DELETING")),Yt(this._functions.httpsCallable("deleteOwnProfile")(e)).pipe(vn({next:()=>this._loadingService.hide(),error:()=>this._loadingService.hide()}))}static{this.\u0275fac=function(i){return new(i||n)(G(gP),G($u),G(Si),G(By))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Lye(n,t){if(1&n){const e=st();_(0,"button",1),le("click",function(){return oe(e),re(L().scrollToTop())}),je(),_(1,"svg",2),fe(2,"path",3),v()()}}let Qx=(()=>{class n{constructor(){this.isVisible=!1}onWindowScroll(){this.toggleVisibility()}ngOnInit(){}ngOnDestroy(){}toggleVisibility(){this.isVisible=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=on({type:n,selectors:[["app-scroll-to-top"]],hostBindings:function(i,r){1&i&&le("scroll",function(){return r.onWindowScroll()},0,aN)},decls:1,vars:1,consts:[["class","fixed bottom-6 right-6 z-50 w-12 h-12 rounded-full bg-green-600 hover:bg-green-700 shadow-lg flex items-center justify-center transition-all duration-200","aria-label","Scroll to top",3,"click",4,"ngIf"],["aria-label","Scroll to top",1,"fixed","bottom-6","right-6","z-50","w-12","h-12","rounded-full","bg-green-600","hover:bg-green-700","shadow-lg","flex","items-center","justify-center","transition-all","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 10l7-7m0 0l7 7m-7-7v18"]],template:function(i,r){1&i&&pe(0,Lye,3,0,"button",0),2&i&&O("ngIf",r.isVisible)},dependencies:[Ii]})}}return n})();const Vye=n=>({term:n});function Uye(n,t){if(1&n){const e=st();_(0,"mat-card",17),le("click",function(){const r=oe(e).$implicit;return re(L(4).onActivityClick(r.id))}),_(1,"mat-card-header")(2,"mat-card-title"),x(3),v(),_(4,"mat-card-subtitle"),x(5),v()(),_(6,"mat-card-content")(7,"p"),x(8),v(),_(9,"div",18)(10,"span",19),x(11),v()()()()}if(2&n){const e=t.$implicit;y(3),U(e.title),y(2),U(e.category),y(3),U(e.description),y(3),U(e.duration)}}function Bye(n,t){if(1&n&&(_(0,"div",13)(1,"h3",14),x(2),S(3,"translate"),v(),_(4,"div",15),pe(5,Uye,12,4,"mat-card",16),v()()),2&n){const e=L(3);y(2),rs(" ",D(3,3,"SEARCH.ACTIVITIES")," (",e.filteredActivities.length,") "),y(3),O("ngForOf",e.filteredActivities)}}function jye(n,t){if(1&n){const e=st();_(0,"mat-card",21),le("click",function(){const r=oe(e).$implicit;return re(L(4).onBlogClick(r.id))}),_(1,"mat-card-header")(2,"mat-card-title"),x(3),v(),_(4,"mat-card-subtitle"),x(5),v()(),_(6,"mat-card-content")(7,"p"),x(8),v()()()}if(2&n){const e=t.$implicit;y(3),U(e.title),y(2),rs("",e.author," \u2022 ",e.readTime,""),y(3),U(e.excerpt)}}function zye(n,t){if(1&n&&(_(0,"div",13)(1,"h3",14),x(2),S(3,"translate"),v(),_(4,"div",15),pe(5,jye,9,4,"mat-card",20),v()()),2&n){const e=L(3);y(2),rs(" ",D(3,3,"SEARCH.BLOG_POSTS")," (",e.filteredBlogs.length,") "),y(3),O("ngForOf",e.filteredBlogs)}}function Hye(n,t){if(1&n&&(_(0,"div",22)(1,"mat-icon",23),x(2,"search_off"),v(),_(3,"p"),x(4),S(5,"translate"),v()()),2&n){const e=L(3);y(4),U(Gl(5,1,"SEARCH.NO_RESULTS",_1(4,Vye,e.searchTerm)))}}function $ye(n,t){if(1&n&&(_(0,"div"),pe(1,Bye,6,5,"div",11)(2,zye,6,5,"div",11)(3,Hye,6,6,"div",12),v()),2&n){const e=L(2);y(),O("ngIf",e.filteredActivities.length>0),y(),O("ngIf",e.filteredBlogs.length>0),y(),O("ngIf",0===e.filteredActivities.length&&0===e.filteredBlogs.length)}}function Gye(n,t){1&n&&(_(0,"div",24)(1,"mat-icon",25),x(2,"search"),v(),_(3,"p"),x(4),S(5,"translate"),v()()),2&n&&(y(4),U(D(5,1,"SEARCH.START_TYPING")))}function qye(n,t){if(1&n){const e=st();_(0,"div",1),le("click",function(r){return oe(e),re(L().onBackdropClick(r))}),_(1,"div",2)(2,"div",3)(3,"div",4)(4,"mat-icon",5),x(5,"search"),v(),_(6,"input",6),S(7,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L();return Mn(o.searchTerm,r)||(o.searchTerm=r),re(r)}),le("ngModelChange",function(){return oe(e),re(L().onSearchChange())}),v(),_(8,"button",7),le("click",function(){return oe(e),re(L().closeOverlay())}),_(9,"mat-icon"),x(10,"close"),v()()()(),_(11,"div",8),pe(12,$ye,4,3,"div",9)(13,Gye,6,3,"div",10),v()()()}if(2&n){const e=L();y(6),O("placeholder",D(7,4,"SEARCH.PLACEHOLDER")),xn("ngModel",e.searchTerm),y(6),O("ngIf",e.searchTerm.length>0),y(),O("ngIf",0===e.searchTerm.length)}}let Wye=(()=>{class n{constructor(e,i){this._router=e,this._translateService=i,this.isOpen=!1,this.activities=[],this.blogPosts=[],this.close=new Qt,this.searchTerm="",this.filteredActivities=[],this.filteredBlogs=[]}ngOnInit(){this.setupBodyScroll()}ngOnDestroy(){this.restoreBodyScroll()}ngOnChanges(e){e.isOpen&&(this.isOpen?this.setupBodyScroll():(this.restoreBodyScroll(),this.searchTerm=""))}setupBodyScroll(){this.isOpen&&(document.body.style.overflow="hidden")}restoreBodyScroll(){document.body.style.overflow="unset"}onSearchChange(){this.filterResults()}filterResults(){if(!this.searchTerm.trim())return this.filteredActivities=[],void(this.filteredBlogs=[]);const e=this.searchTerm.toLowerCase();this.filteredActivities=this.activities.filter(i=>i.title.toLowerCase().includes(e)||i.description.toLowerCase().includes(e)||i.category.toLowerCase().includes(e)),this.filteredBlogs=this.blogPosts.filter(i=>i.title.toLowerCase().includes(e)||i.excerpt.toLowerCase().includes(e))}onActivityClick(e){this._router.navigate(["/activity",e]),this.closeOverlay()}onBlogClick(e){this._router.navigate(["/blog"],{queryParams:{post:e}}),this.closeOverlay()}closeOverlay(){this.close.emit()}onBackdropClick(e){e.target===e.currentTarget&&this.closeOverlay()}static{this.\u0275fac=function(i){return new(i||n)(z(oi),z(Si))}}static{this.\u0275cmp=on({type:n,selectors:[["app-search-overlay"]],inputs:{isOpen:"isOpen",activities:"activities",blogPosts:"blogPosts"},outputs:{close:"close"},features:[Or],decls:1,vars:1,consts:[["class","search-overlay-backdrop",3,"click",4,"ngIf"],[1,"search-overlay-backdrop",3,"click"],[1,"search-overlay-container"],[1,"search-header"],[1,"search-input-container"],[1,"search-icon"],["type","text","autofocus","",1,"search-input",3,"ngModelChange","placeholder","ngModel"],["mat-icon-button","",1,"close-button",3,"click"],[1,"search-results"],[4,"ngIf"],["class","empty-state",4,"ngIf"],["class","results-section",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"results-section"],[1,"section-title"],[1,"results-grid"],["class","activity-card",3,"click",4,"ngFor","ngForOf"],[1,"activity-card",3,"click"],[1,"activity-meta"],[1,"duration"],["class","blog-card",3,"click",4,"ngFor","ngForOf"],[1,"blog-card",3,"click"],[1,"no-results"],[1,"no-results-icon"],[1,"empty-state"],[1,"empty-state-icon"]],template:function(i,r){1&i&&pe(0,qye,14,6,"div",0),2&i&&O("ngIf",r.isOpen)},dependencies:[Is,Ii,Ks,rl,Ca,__e,D_e,$9,q9,K9,W9,G9,Yi],styles:[".search-overlay-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:1000;display:flex;align-items:flex-start;justify-content:center;padding-top:5rem}.search-overlay-container[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:100%;max-width:64rem;margin:0 1rem;max-height:80vh;overflow:hidden;display:flex;flex-direction:column}.search-header[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #e5e7eb;background:#fff}.search-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;position:relative}.search-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:1.25rem;width:1.25rem;height:1.25rem}.search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;font-size:1.125rem;padding:.5rem 0;background:transparent}.search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.search-input[_ngcontent-%COMP%]:focus{outline:none}.close-button[_ngcontent-%COMP%]{color:#6b7280}.close-button[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.search-results[_ngcontent-%COMP%]{flex:1;overflow-y:auto;max-height:60vh;padding:1rem}.results-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.results-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827;margin-bottom:.75rem}.results-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem}@media (min-width: 768px){.results-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.activity-card[_ngcontent-%COMP%], .blog-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease-in-out;border:1px solid #e5e7eb}.activity-card[_ngcontent-%COMP%]:hover, .blog-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;transform:translateY(-1px)}.activity-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%], .blog-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-bottom:.5rem}.activity-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .blog-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#065f46;margin-bottom:.25rem}.activity-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%], .blog-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.activity-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .blog-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#374151;font-size:.875rem;line-height:1.5;margin-bottom:.5rem}.activity-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.5rem}.duration[_ngcontent-%COMP%]{background-color:#ecfdf5;color:#065f46;padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem;font-weight:500}.no-results[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:#6b7280}.no-results-icon[_ngcontent-%COMP%], .empty-state-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#d1d5db;margin-bottom:1rem}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0}@media (max-width: 640px){.search-overlay-backdrop[_ngcontent-%COMP%]{padding-top:1rem}.search-overlay-container[_ngcontent-%COMP%]{margin:0 .5rem;max-height:90vh}.search-results[_ngcontent-%COMP%]{max-height:70vh}.results-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return n})();var vi=function(n){return n.ADMIN="admin",n.SUBSCRIBER="subscriber",n.TRIAL_USER="trial",n.FREE_USER="free",n}(vi||{}),sk=function(n){return n.ACCESS_ALL_ACTIVITIES="access_all_activities",n.ACCESS_PREMIUM_ACTIVITIES="access_premium_activities",n.ACCESS_BLOG_POSTS="access_blog_posts",n.ACCESS_PREMIUM_BLOG="access_premium_blog",n.ACCESS_TIPS="access_tips",n.ACCESS_PREMIUM_TIPS="access_premium_tips",n.DOWNLOAD_PDF_GUIDES="download_pdf_guides",n.DOWNLOAD_VIDEO_MATERIALS="download_video_materials",n.MANAGE_CONTENT="manage_content",n.MANAGE_USERS="manage_users",n.VIEW_ANALYTICS="view_analytics",n.MANAGE_SUBSCRIPTIONS="manage_subscriptions",n.EDIT_PROFILE="edit_profile",n.VIEW_PROFILE="view_profile",n.MANAGE_OWN_SUBSCRIPTION="manage_own_subscription",n}(sk||{});function Yye(n,t){1&n&&(_(0,"div",17),x(1),S(2,"translate"),v()),2&n&&(y(),ee(" ",D(2,1,"AUTH.EMAIL_PREFILLED")," "))}function Zye(n,t){if(1&n&&(_(0,"div",18),x(1),v()),2&n){const e=L(3);y(),U(e.errorMessage)}}function Xye(n,t){1&n&&(_(0,"span"),x(1),S(2,"translate"),v()),2&n&&(y(),U(D(2,1,"AUTH.LOADING")))}function Jye(n,t){1&n&&(_(0,"span"),x(1),S(2,"translate"),v()),2&n&&(y(),U(D(2,1,"AUTH.RESET_PASSWORD_SEND")))}function ebe(n,t){if(1&n){const e=st();ti(0),_(1,"form",8),le("ngSubmit",function(){return oe(e),re(L(2).onSend())}),_(2,"div")(3,"label",9),x(4),S(5,"translate"),v(),_(6,"input",10),S(7,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(2);return Mn(o.localEmail,r)||(o.localEmail=r),re(r)}),v(),pe(8,Yye,3,3,"div",11),v(),pe(9,Zye,2,1,"div",12),_(10,"div",13)(11,"button",14),le("click",function(){return oe(e),re(L(2).onClose())}),x(12),S(13,"translate"),v(),_(14,"button",15),pe(15,Xye,3,3,"span",16)(16,Jye,3,3,"span",16),v()()(),ni()}if(2&n){const e=L(2);y(4),U(D(5,11,"AUTH.EMAIL")),y(2),is("placeholder",D(7,13,"AUTH.RESET_PASSWORD_EMAIL_PLACEHOLDER")),xn("ngModel",e.localEmail),O("disabled",e.isLoading||e.disableEmail),y(2),O("ngIf",e.disableEmail),y(),O("ngIf",e.errorMessage),y(2),O("disabled",e.isLoading),y(),U(D(13,15,"AUTH.RESET_PASSWORD_CANCEL")),y(2),O("disabled",!e.localEmail||e.isLoading),y(),O("ngIf",e.isLoading),y(),O("ngIf",!e.isLoading)}}function tbe(n,t){if(1&n){const e=st();_(0,"div",19)(1,"div",20)(2,"strong"),x(3),S(4,"translate"),v(),fe(5,"br"),x(6),S(7,"translate"),v(),_(8,"button",21),le("click",function(){return oe(e),re(L(2).onClose())}),x(9),S(10,"translate"),v()()}2&n&&(y(3),U(D(4,3,"AUTH.RESET_PASSWORD_SUCCESS")),y(3),ee(" ",D(7,5,"AUTH.RESET_PASSWORD_CHECK_INBOX")," "),y(3),U(D(10,7,"AUTH.CLOSE")))}function nbe(n,t){if(1&n){const e=st();_(0,"div",2)(1,"div",3)(2,"button",4),le("click",function(){return oe(e),re(L().onClose())}),_(3,"span",5),x(4,"\xd7"),v()(),_(5,"h2",6),x(6),S(7,"translate"),v(),pe(8,ebe,17,17,"ng-container",7)(9,tbe,11,9,"ng-template",null,0,Ar),v()()}if(2&n){const e=Ki(10),i=L();y(6),ee(" ",D(7,3,"AUTH.RESET_PASSWORD")," "),y(2),O("ngIf",!i.success)("ngIfElse",e)}}let I7=(()=>{class n{constructor(){this.isOpen=!1,this.email="",this.isLoading=!1,this.errorMessage=null,this.disableEmail=!1,this.close=new Qt,this.send=new Qt,this.success=!1,this.localEmail=""}ngOnChanges(){this.localEmail=this.email||""}onSend(){const e=this.localEmail.trim();e&&this.send.emit(e)}onClose(){this.close.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=on({type:n,selectors:[["app-reset-password-modal"]],inputs:{isOpen:"isOpen",email:"email",isLoading:"isLoading",errorMessage:"errorMessage",disableEmail:"disableEmail",success:"success"},outputs:{close:"close",send:"send"},features:[Or],decls:1,vars:1,consts:[["successBlock",""],["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50","p-4"],[1,"bg-white","rounded-lg","w-full","max-w-md","p-6","relative","shadow-lg"],["type","button",1,"absolute","top-3","right-3","p-1","rounded-full","hover:bg-gray-100","focus:outline-none",3,"click"],["aria-hidden","true"],[1,"text-xl","font-bold","text-gray-900","mb-6","text-center"],[4,"ngIf","ngIfElse"],["autocomplete","off",1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","email","name","resetEmail","required","",1,"w-full","pl-3","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","disabled:bg-gray-100","disabled:text-gray-500","disabled:cursor-not-allowed","disabled:opacity-75",3,"ngModelChange","ngModel","placeholder","disabled"],["class","mt-1 text-xs text-gray-500",4,"ngIf"],["class","text-red-500 text-sm",4,"ngIf"],[1,"flex","justify-end","gap-2","mt-6"],["type","button",1,"px-4","py-2","rounded-lg","border","border-gray-300","text-gray-700","hover:bg-gray-100",3,"click","disabled"],["type","submit",1,"px-4","py-2","rounded-lg","bg-green-600","text-white","font-semibold","hover:bg-green-700","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center",3,"disabled"],[4,"ngIf"],[1,"mt-1","text-xs","text-gray-500"],[1,"text-red-500","text-sm"],[1,"flex","flex-col","items-center","justify-center","py-8"],[1,"mb-4","text-green-700","bg-green-100","border","border-green-200","rounded-lg","px-4","py-3","w-full","text-center"],[1,"px-6","py-2","rounded-lg","bg-green-600","text-white","font-semibold","hover:bg-green-700","mt-4",3,"click"]],template:function(i,r){1&i&&pe(0,nbe,11,5,"div",1),2&i&&O("ngIf",r.isOpen)},dependencies:[Ii,bu,Ks,rl,yu,wu,Ca,rc,Yi],styles:["[_nghost-%COMP%]     .modal-overlay{background:#00000080}[_nghost-%COMP%]     input[disabled]{background-color:#f3f4f6!important;color:#6b7280!important;cursor:not-allowed!important;opacity:.7}[_nghost-%COMP%]     input[disabled]::placeholder{color:#9ca3af!important}"]})}}return n})();function ibe(n,t){if(1&n){const e=st();_(0,"div")(1,"label",9),x(2),S(3,"translate"),v(),_(4,"input",17),S(5,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(2);return Mn(o.name,r)||(o.name=r),re(r)}),v()()}if(2&n){const e=L(2);y(2),ee(" ",D(3,3,"AUTH.NAME")," "),y(2),is("placeholder",D(5,5,"AUTH.NAME_PLACEHOLDER")),xn("ngModel",e.name)}}function rbe(n,t){if(1&n){const e=st();_(0,"div",18)(1,"button",19),le("click",function(){return oe(e),re(L(2).forgotPassword())}),x(2),S(3,"translate"),v()()}2&n&&(y(2),ee(" ",D(3,1,"AUTH.FORGOT_PASSWORD")," "))}function obe(n,t){if(1&n&&(_(0,"div",20),x(1),v()),2&n){const e=L(2);y(),U(e.error)}}function sbe(n,t){1&n&&(_(0,"span"),x(1),S(2,"translate"),v()),2&n&&(y(),U(D(2,1,"AUTH.LOADING")))}function abe(n,t){if(1&n&&(_(0,"span"),x(1),S(2,"translate"),S(3,"translate"),v()),2&n){const e=L(2);y(),U(e.isLogin?D(2,1,"AUTH.LOGIN"):D(3,3,"AUTH.REGISTER"))}}function lbe(n,t){if(1&n){const e=st();_(0,"div",2)(1,"div",3)(2,"button",4),S(3,"translate"),le("click",function(){return oe(e),re(L().onClose())}),_(4,"span",5),x(5,"\xd7"),v()(),_(6,"h2",6),x(7),S(8,"translate"),S(9,"translate"),v(),_(10,"form",7),le("ngSubmit",function(r){return oe(e),re(L().onSubmit(r))}),pe(11,ibe,6,7,"div",8),_(12,"div")(13,"label",9),x(14),S(15,"translate"),v(),_(16,"input",10),S(17,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L();return Mn(o.email,r)||(o.email=r),re(r)}),v()(),_(18,"div")(19,"label",9),x(20),S(21,"translate"),v(),_(22,"input",11),S(23,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L();return Mn(o.password,r)||(o.password=r),re(r)}),v()(),pe(24,rbe,4,3,"div",12)(25,obe,2,1,"div",13),_(26,"button",14),pe(27,sbe,3,3,"span",8)(28,abe,4,5,"span",8),v()(),_(29,"div",15)(30,"button",16),le("click",function(){return oe(e),re(L().switchMode())}),x(31),S(32,"translate"),S(33,"translate"),v()()()()}if(2&n){const e=L();y(2),ei("aria-label",D(3,15,"AUTH.CLOSE")),y(5),ee(" ",e.isLogin?D(8,17,"AUTH.LOGIN_TITLE"):D(9,19,"AUTH.REGISTER_TITLE")," "),y(4),O("ngIf",!e.isLogin),y(3),ee(" ",D(15,21,"AUTH.EMAIL")," "),y(2),is("placeholder",D(17,23,"AUTH.EMAIL_PLACEHOLDER")),xn("ngModel",e.email),y(4),ee(" ",D(21,25,"AUTH.PASSWORD")," "),y(2),is("placeholder",D(23,27,"AUTH.PASSWORD_PLACEHOLDER")),xn("ngModel",e.password),y(2),O("ngIf",e.isLogin),y(),O("ngIf",e.error),y(),O("disabled",e.isLoading),y(),O("ngIf",e.isLoading),y(),O("ngIf",!e.isLoading),y(3),ee(" ",e.isLogin?D(32,29,"AUTH.NO_ACCOUNT"):D(33,31,"AUTH.HAVE_ACCOUNT")," ")}}let x7=(()=>{class n{constructor(e,i,r){this._auth=e,this._userService=i,this._translate=r,this.isOpen=!1,this.close=new Qt,this.email="",this.password="",this.name="",this.isLogin=!0,this.isLoading=!1,this.error="",this.showResetPasswordModal=!1,this.resetEmail="",this.resetError=null,this.resetLoading=!1,this.resetSuccess=!1}switchMode(){this.isLogin=!this.isLogin,this.error="",this.email="",this.password="",this.name=""}onClose(){this.close.emit()}onSubmit(e){var i=this;return(0,ve.A)(function*(){if(e.preventDefault(),i.error="",i.email&&i.password&&(i.isLogin||i.name)){i.isLoading=!0;try{if(i.isLogin)yield i._auth.signIn(i.email,i.password);else{const r=yield i._auth.signUp(i.email,i.password,i.name);if(r){const o={uid:r.uid,displayName:i.name,email:i.email,avatarUrl:r.photoURL||"",createdAt:(new Date).toISOString(),role:vi.FREE_USER,permissions:[sk.VIEW_PROFILE,sk.EDIT_PROFILE]};yield i._userService.setUserProfile(o)}}i.onClose()}catch(r){i.error=r.message||i._translate.instant("AUTH.ERROR_GENERIC")}finally{i.isLoading=!1}}else i.error=i._translate.instant("AUTH.REQUIRED_FIELDS")})()}onShowResetPassword(){this.resetEmail=this.email,this.resetError=null,this.showResetPasswordModal=!0}onSendResetPassword(e){var i=this;return(0,ve.A)(function*(){i.resetLoading=!0,i.resetError=null;try{yield i._auth.sendPasswordResetEmail(e),i.resetSuccess=!0}catch(r){i.resetError=r.message||"Do\u0161lo je do gre\u0161ke pri slanju emaila za reset lozinke."}finally{i.resetLoading=!1}})()}onCloseResetPassword(){this.showResetPasswordModal=!1,this.resetSuccess=!1}forgotPassword(){this.onShowResetPassword()}static{this.\u0275fac=function(i){return new(i||n)(z(Aa),z(_l),z(Si))}}static{this.\u0275cmp=on({type:n,selectors:[["app-auth-modal"]],inputs:{isOpen:"isOpen"},outputs:{close:"close"},decls:2,vars:6,consts:[["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",4,"ngIf"],[3,"close","send","isOpen","email","isLoading","errorMessage","success"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50","p-4"],[1,"bg-white","rounded-lg","w-full","max-w-md","p-6","relative","shadow-lg"],["type","button",1,"absolute","top-3","right-3","p-1","rounded-full","hover:bg-gray-100","focus:outline-none",3,"click"],["aria-hidden","true"],[1,"text-xl","font-bold","text-gray-900","mb-6","text-center"],["autocomplete","off",1,"space-y-4",3,"ngSubmit"],[4,"ngIf"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","email","name","email",1,"w-full","pl-3","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent",3,"ngModelChange","ngModel","placeholder"],["type","password","name","password",1,"w-full","pl-3","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent",3,"ngModelChange","ngModel","placeholder"],["class","text-right mb-2",4,"ngIf"],["class","text-red-500 text-sm",4,"ngIf"],["type","submit",1,"w-full","bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","rounded-lg","transition-colors",3,"disabled"],[1,"mt-4","text-center"],["type","button",1,"text-green-600","hover:text-green-700","text-sm",3,"click"],["type","text","name","name",1,"w-full","pl-3","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent",3,"ngModelChange","ngModel","placeholder"],[1,"text-right","mb-2"],["type","button",1,"text-blue-600","hover:underline","text-sm",3,"click"],[1,"text-red-500","text-sm"]],template:function(i,r){1&i&&(pe(0,lbe,34,33,"div",0),_(1,"app-reset-password-modal",1),le("close",function(){return r.onCloseResetPassword()})("send",function(s){return r.onSendResetPassword(s)}),v()),2&i&&(O("ngIf",r.isOpen),y(),O("isOpen",r.showResetPasswordModal)("email",r.resetEmail)("isLoading",r.resetLoading)("errorMessage",r.resetError)("success",r.resetSuccess))},dependencies:[Ii,bu,Ks,rl,yu,Ca,rc,I7,Yi],styles:[".modal-backdrop[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}button[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible{outline:2px solid #10b981;outline-offset:2px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 640px){.modal-content[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem);overflow-y:auto}}@media (prefers-contrast: high){.modal-content[_ngcontent-%COMP%]{border:2px solid #000}button[_ngcontent-%COMP%]{border:1px solid #000}}@media (prefers-reduced-motion: reduce){.modal-backdrop[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{animation:none}}"]})}}return n})();function ube(n,t){1&n&&(_(0,"div",10),fe(1,"div",11),v())}function dbe(n,t){if(1&n&&(_(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),fe(4,"img",5),v()(),_(5,"div",6)(6,"h1",7),x(7),v(),_(8,"p",8),x(9),v()(),pe(10,ube,2,0,"div",9),v()()),2&n){const e=L();O("@fadeInOut",void 0),y(7),U(e.getWelcomeMessage()),y(),O("@quoteFade",e.quoteAnimationState),y(),ee(" ",e.getDisplayMessage()," "),y(),O("ngIf",e.showSpinner)}}let hbe=(()=>{class n{constructor(e,i){this._translateService=e,this._http=i,this.isVisible=!1,this.showSpinner=!0,this.message="",this.hideSplash=new Qt,this.currentQuoteIndex=0,this.quoteAnimationState="visible",this.quotes={},this.currentLang="sr"}ngOnInit(){this.currentLang=this._translateService.currentLang||"sr",this.loadQuotes(),this.translationSub=this._translateService.onLangChange.subscribe(e=>{this.currentLang=e.lang,this.currentQuoteIndex=0,this.loadQuotes()}),this.startQuoteRotation()}ngOnDestroy(){this.translationSub&&this.translationSub.unsubscribe(),this.quoteSub&&this.quoteSub.unsubscribe()}loadQuotes(){this._http.get(`assets/i18n/splash-quotes_${this.currentLang}.json`).pipe(xi(()=>this._http.get("assets/i18n/splash-quotes_sr.json"))).subscribe(i=>{this.quotes=i})}startQuoteRotation(){this.quoteSub=function cbe(n=0,t=Gm){return n<0&&(n=0),n7(n,n,t)}(8e3).subscribe(()=>{this.quoteAnimationState="fading",setTimeout(()=>{this.currentQuoteIndex=(this.currentQuoteIndex+1)%10,this.quoteAnimationState="visible"},400)})}getWelcomeMessage(){return this.quotes.WELCOME_TITLE||"Welcome to Ana Vaspitac"}getWelcomeSubtitle(){return this.quotes.WELCOME_SUBTITLE||"5-minute activities for children"}getDisplayMessage(){return this.message||this.getCurrentQuote()}getCurrentQuote(){return this.quotes[`QUOTE_${this.currentQuoteIndex+1}`]||"Loading..."}static{this.\u0275fac=function(i){return new(i||n)(z(Si),z(tc))}}static{this.\u0275cmp=on({type:n,selectors:[["app-splash-screen"]],inputs:{isVisible:"isVisible",showSpinner:"showSpinner",message:"message"},outputs:{hideSplash:"hideSplash"},decls:1,vars:1,consts:[["class","splash-screen",4,"ngIf"],[1,"splash-screen"],[1,"splash-content"],[1,"logo-container"],[1,"logo-background"],["src","assets/android-chrome-192x192.png","alt","Ana Vaspitac Logo",1,"logo-image"],[1,"text-content"],[1,"welcome-title"],[1,"welcome-subtitle"],["class","spinner-container",4,"ngIf"],[1,"spinner-container"],[1,"spinner"]],template:function(i,r){1&i&&pe(0,dbe,11,5,"div",0),2&i&&O("ngIf",r.isVisible)},dependencies:[Ii],styles:[".splash-screen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#f8fafc,#e2e8f0);display:flex;align-items:center;justify-content:center;z-index:9999;overflow:hidden}.splash-content[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:2rem;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.logo-container[_ngcontent-%COMP%]{margin-bottom:2rem}.logo-background[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background:#fffc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;margin:0 auto;animation:_ngcontent-%COMP%_pulse 2s infinite;border:2px solid rgba(76,175,80,.3);box-shadow:0 8px 32px #0000001a}.logo-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:contain}.text-content[_ngcontent-%COMP%]{margin-bottom:2rem}.welcome-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--primary-green);margin:0 0 .5rem;text-shadow:0 2px 4px rgba(0,0,0,.1)}.welcome-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;margin:0;line-height:1.6;font-style:italic;max-width:450px;text-align:center;padding:0 1rem;min-height:3rem;display:flex;align-items:center;justify-content:center;text-shadow:0 1px 2px rgba(0,0,0,.05)}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid rgba(76,175,80,.3);border-top:3px solid var(--primary-green);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);box-shadow:0 0 #fff6}50%{transform:scale(1.05);box-shadow:0 0 0 10px #fff0}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.splash-content[_ngcontent-%COMP%]{padding:1.5rem;max-width:320px}.logo-background[_ngcontent-%COMP%]{width:100px;height:100px}.logo-image[_ngcontent-%COMP%]{width:70px;height:70px}.welcome-title[_ngcontent-%COMP%]{font-size:1.75rem}.welcome-subtitle[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.splash-content[_ngcontent-%COMP%]{padding:1rem;max-width:280px}.logo-background[_ngcontent-%COMP%]{width:80px;height:80px}.logo-image[_ngcontent-%COMP%]{width:60px;height:60px}.welcome-title[_ngcontent-%COMP%]{font-size:1.5rem}}"],data:{animation:[Cm("fadeInOut",[cu("void",xs({opacity:0})),cu("*",xs({opacity:1})),Xl("void <=> *",[lu("300ms ease-in-out")])]),Cm("quoteFade",[cu("visible",xs({opacity:1,transform:"translateY(0)"})),cu("fading",xs({opacity:0,transform:"translateY(-20px)"})),Xl("visible => fading",[lu("400ms ease-in")]),Xl("fading => visible",[lu("800ms ease-out")])])]}})}}return n})();function fbe(n,t){if(1&n&&fe(0,"img",29),2&n){const e=L().ngIf;O("src",e.avatarUrl,Lr)("alt",e.displayName)}}function mbe(n,t){1&n&&(je(),_(0,"svg",30),fe(1,"path",31)(2,"circle",32),v())}function pbe(n,t){if(1&n){const e=st();ti(0),_(1,"button",27),le("click",function(){return oe(e),re(L().onProfileClick())}),pe(2,fbe,1,2,"img",28)(3,mbe,3,0,"ng-template",null,1,Ar),v(),ni()}if(2&n){const e=t.ngIf,i=Ki(4);y(2),O("ngIf",e.avatarUrl)("ngIfElse",i)}}function gbe(n,t){if(1&n){const e=st();_(0,"button",33),le("click",function(){return oe(e),re(L().openAuthModal())}),x(1),S(2,"translate"),v()}2&n&&(y(),ee(" ",D(2,1,"AUTH.LOGIN")," "))}function _be(n,t){if(1&n&&(ti(0),fe(1,"app-splash-screen",34),ni()),2&n){const e=t.ngIf;y(),O("isVisible",e.isVisible||!1)("message",e.message||"")("showSpinner",e.showSpinner||!0)}}let vbe=(()=>{class n{constructor(e,i,r,o,s,a,l,c,h){this.translate=e,this._router=i,this._location=r,this._languageService=o,this._activityService=s,this._blogService=a,this._loadingService=l,this._auth=c,this._userService=h,this.currentLang="sr",this.activeRoute="",this.isSearchOpen=!1,this.activities=[],this.blogPosts=[],this.userProfile$=qe(null),this.showAuthModal=!1,this.loadingState$=this._loadingService.loadingState$,e.addLangs(["sr","en"]),e.setDefaultLang("sr"),e.use("sr"),this.currentLang="sr",this._router.events.subscribe(p=>{p instanceof nl&&(this.activeRoute=p.urlAfterRedirects)}),this.registerAndroidBackButton()}ngOnInit(){this.loadData(),this.userProfile$=this._auth.user$.pipe(St(e=>e?this._userService.getUserProfile(e.uid):qe(null)))}ngOnDestroy(){this.backButtonListener&&this.backButtonListener.remove()}registerAndroidBackButton(){E7.addListener("backButton",({})=>{window.history.length>1?this._location.back():E7.exitApp()}).then(e=>{this.backButtonListener=e})}switchLanguage(){this.currentLang="sr"===this.currentLang?"en":"sr",this.translate.use(this.currentLang),this._languageService.setLanguage(this.currentLang),this.loadData()}isActive(e){return this.activeRoute===e}loadData(){this._activityService.getActivities(this.currentLang).subscribe(e=>{this.activities=e}),this._blogService.getBlogPosts(this.currentLang).subscribe(e=>{this.blogPosts=e})}openSearch(){this.isSearchOpen=!0}closeSearch(){this.isSearchOpen=!1}openAuthModal(){this.showAuthModal=!0}closeAuthModal(){this.showAuthModal=!1}onLogout(){this._auth.signOut()}onProfileClick(){this._router.navigate(["/profile"])}navigateToHome(){this._router.navigate(["/"])}static{this.\u0275fac=function(i){return new(i||n)(z(Si),z(oi),z(Kd),z(Hp),z(eb),z(tb),z($u),z(Aa),z(_l))}}static{this.\u0275cmp=on({type:n,selectors:[["app-root"]],decls:38,vars:21,consts:[["showLoginHeader",""],["defaultAvatarHeader",""],[1,"bg-white","shadow-sm","border-b","border-green-100","sticky","top-0","z-50"],[1,"px-4","py-3"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","md:w-12","md:h-12","rounded-full","bg-gradient-to-br","flex","items-center","justify-center","shadow-lg","overflow-hidden","cursor-pointer","hover:shadow-xl","transition-shadow",3,"click"],["src","assets/favicon_io/android-chrome-192x192.png","alt","Ana Vaspitac Logo",1,"w-full","h-full","object-cover"],[1,"hidden","sm:block"],[1,"text-lg","md:text-xl","font-bold","text-green-800"],[1,"text-xs","md:text-sm","text-green-600","font-normal","italic","mt-1"],[1,"sm:hidden"],[1,"text-lg","font-bold","text-green-800"],[1,"flex","items-center","space-x-2"],[1,"p-2","flex","items-center","gap-1","md:gap-2","rounded","hover:bg-green-50","transition",3,"click"],[1,"text-base","md:text-lg"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-3","w-3","md:h-4","md:w-4","text-green-600"],["d","M12 20v-6m0 0V4m0 10l-4-4m4 4l4-4"],[1,"p-2","rounded","hover:bg-green-50","transition",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4","md:h-5","md:w-5","text-green-600"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],[4,"ngIf","ngIfElse"],[3,"close","isOpen"],[4,"ngIf"],[1,"main-content","px-4","py-4","md:py-6"],[3,"close","isOpen","activities","blogPosts"],[1,"p-1","rounded-full","hover:bg-green-50","transition","flex","items-center",3,"click"],["class","w-8 h-8 rounded-full border-2 border-green-300",3,"src","alt",4,"ngIf","ngIfElse"],[1,"w-8","h-8","rounded-full","border-2","border-green-300",3,"src","alt"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-7","w-7","text-green-600"],["d","M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","shadow",3,"click"],[3,"isVisible","message","showSpinner"]],template:function(i,r){if(1&i){const o=st();_(0,"header",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),le("click",function(){return oe(o),re(r.navigateToHome())}),fe(5,"img",7),v(),_(6,"div",8)(7,"h1",9),x(8),S(9,"translate"),v(),_(10,"div",10),x(11),S(12,"translate"),v()(),_(13,"div",11)(14,"h1",12),x(15),S(16,"translate"),v()()(),_(17,"div",13)(18,"button",14),le("click",function(){return oe(o),re(r.switchLanguage())}),_(19,"span",15),x(20),v(),je(),_(21,"svg",16),fe(22,"path",17),v()(),vt(),_(23,"button",18),le("click",function(){return oe(o),re(r.openSearch())}),je(),_(24,"svg",19),fe(25,"circle",20)(26,"line",21),v()(),pe(27,pbe,5,2,"ng-container",22),S(28,"async"),pe(29,gbe,3,3,"ng-template",null,0,Ar),v()()()(),vt(),_(31,"app-auth-modal",23),le("close",function(){return oe(o),re(r.closeAuthModal())}),v(),pe(32,_be,2,3,"ng-container",24),S(33,"async"),_(34,"main",25),fe(35,"router-outlet"),v(),fe(36,"app-scroll-to-top"),_(37,"app-search-overlay",26),le("close",function(){return oe(o),re(r.closeSearch())}),v()}if(2&i){const o=Ki(30);y(8),U(D(9,11,"APP.TITLE")),y(3),ee(" ",D(12,13,"APP.TAGLINE")," "),y(4),U(D(16,15,"APP.TITLE")),y(5),U("sr"===r.currentLang?"\u{1f1f7}\u{1f1f8}":"\u{1f1fa}\u{1f1f8}"),y(7),O("ngIf",D(28,17,r.userProfile$))("ngIfElse",o),y(4),O("isOpen",r.showAuthModal),y(),O("ngIf",D(33,19,r.loadingState$)),y(5),O("isOpen",r.isSearchOpen)("activities",r.activities)("blogPosts",r.blogPosts)}},dependencies:[Ii,cD,Qx,Wye,x7,hbe,os,Yi],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.main-content[_ngcontent-%COMP%]{padding:20px;min-height:calc(100vh - 128px)}.bottom-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#fff;border-top:1px solid #e0e0e0;display:flex;justify-content:space-around;padding:8px 0;z-index:1000}.bottom-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;min-width:80px}.bottom-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-bottom:4px}.bottom-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.bottom-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:var(--watermelon-pink)}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{padding:16px}}"]})}}return n})();const Sa={ABOUT:"about",SHOP:"shop",SUBSCRIBE:"subscribe",BLOG:"blog",TIPS:"tips",PHYSICAL:"physical",CREATIVE:"creative",EDUCATIONAL:"educational",MUSICAL:"musical",NATURE:"nature"};let ybe=(()=>{class n{constructor(e,i,r){this._firestoreService=e,this._loadingService=i,this._translateService=r}getCategories(){return this._loadingService.showWithMessage(this._translateService.instant("ACTIVITIES.LOADING")),this._firestoreService.getCategories().pipe(vn(()=>{this._loadingService.hide()}))}static{this.\u0275fac=function(i){return new(i||n)(G(Jy),G($u),G(Si))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ak=(()=>{class n{constructor(e,i,r){this._firestoreService=e,this._loadingService=i,this._translateService=r}getAboutContent(){return this._loadingService.showWithMessage(this._translateService.instant("ABOUT.LOADING")),this._firestoreService.getAboutContent().pipe(vn(()=>{this._loadingService.hide()}))}updateAboutContent(e){return this._loadingService.showWithMessage(this._translateService.instant("COMMON.SAVING")),this._firestoreService.updateAboutContent(e).then(()=>{this._loadingService.hide()}).catch(i=>{throw this._loadingService.hide(),i})}static{this.\u0275fac=function(i){return new(i||n)(G(Jy),G($u),G(Si))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bbe(n,t){if(1&n&&(ti(0),fe(1,"img",18),ni()),2&n){const e=L().ngIf;y(),O("src",e.avatarUrl,Lr)("alt",e.displayName)}}function wbe(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"path",20)(2,"circle",21),v())}function Ebe(n,t){if(1&n){const e=st();_(0,"div",22)(1,"button",23),le("click",function(r){return oe(e),L(2).navigateToAdmin(),re(r.stopPropagation())}),x(2),S(3,"translate"),v()()}2&n&&(y(2),ee(" ",D(3,1,"ADMIN.DASHBOARD_TITLE")," "))}function Ibe(n,t){if(1&n){const e=st();_(0,"div",24),le("click",function(){return oe(e),re(L(2).navigateToAdmin())}),_(1,"div",25),je(),_(2,"svg",19),fe(3,"path",26)(4,"path",27),v()(),vt(),_(5,"h3",28),x(6),S(7,"translate"),v(),_(8,"p",15),x(9,"Admin panel: manage content, users, and more."),v()()}2&n&&(y(6),U(D(7,1,"ADMIN.DASHBOARD_TITLE")))}function xbe(n,t){if(1&n){const e=st();ti(0),_(1,"div",12),le("click",function(){return oe(e),re(L().onProfileClick())}),_(2,"div",13),pe(3,bbe,2,2,"ng-container",10)(4,wbe,3,0,"ng-template",null,1,Ar),v(),_(6,"h3",14),x(7),v(),_(8,"p",15),x(9),v(),pe(10,Ebe,4,3,"div",16),v(),pe(11,Ibe,10,3,"div",17),ni()}if(2&n){const e=t.ngIf,i=Ki(5),r=L();y(3),O("ngIf",e.avatarUrl)("ngIfElse",i),y(4),U(e.displayName),y(2),U(e.email),y(),O("ngIf",r.isAdmin(e)),y(),O("ngIf",r.isAdmin(e))}}function Cbe(n,t){if(1&n){const e=st();_(0,"div",12),le("click",function(){return oe(e),re(L().openAuthModal())}),_(1,"div",13),je(),_(2,"svg",19),fe(3,"path",20)(4,"circle",21),v()(),vt(),_(5,"h3",14),x(6),S(7,"translate"),v(),_(8,"p",15),x(9),S(10,"translate"),v()()}2&n&&(y(6),U(D(7,2,"AUTH.LOGIN")),y(3),U(D(10,4,"HOME.LOGIN_PROMPT")))}function Tbe(n,t){if(1&n&&(ti(0),fe(1,"img",32),ni()),2&n){const e=L().ngIf;y(),O("src",e.profileImageUrl,Lr)}}function Abe(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"path",20)(2,"circle",21),v())}function Sbe(n,t){if(1&n&&(ti(0),pe(1,Tbe,2,1,"ng-container",10)(2,Abe,3,0,"ng-template",null,3,Ar),ni()),2&n){const e=t.ngIf,i=Ki(3);y(),O("ngIf",e.profileImageUrl)("ngIfElse",i)}}function Dbe(n,t){if(1&n&&(ti(0),pe(1,Sbe,4,2,"ng-container",31),S(2,"async"),ni()),2&n){const e=L(2);y(),O("ngIf",D(2,1,e.aboutContent$))}}function Mbe(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"path",20)(2,"circle",21),v())}function Rbe(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"circle",35)(2,"circle",36)(3,"path",37),v())}function Pbe(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"path",38)(2,"path",39),v())}function kbe(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"path",40)(2,"path",41)(3,"path",42),v())}function Obe(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"path",43)(2,"path",44)(3,"path",45)(4,"path",46),v())}function Nbe(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"circle",47)(2,"circle",48)(3,"circle",49)(4,"circle",50)(5,"path",51),v())}function Fbe(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"path",52)(2,"path",53),v())}function Lbe(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"circle",47)(2,"path",54),v())}function Vbe(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"path",55)(2,"path",56),v())}function Ube(n,t){1&n&&(je(),_(0,"svg",19),fe(1,"rect",57)(2,"line",58),v())}function Bbe(n,t){1&n&&(ti(0,33),pe(1,Mbe,3,0,"svg",34)(2,Rbe,4,0,"svg",34)(3,Pbe,3,0,"svg",34)(4,kbe,4,0,"svg",34)(5,Obe,5,0,"svg",34)(6,Nbe,6,0,"svg",34)(7,Fbe,3,0,"svg",34)(8,Lbe,3,0,"svg",34)(9,Vbe,3,0,"svg",34)(10,Ube,3,0,"svg",34),ni()),2&n&&(O("ngSwitch",L().$implicit.icon),y(),O("ngSwitchCase","user"),y(),O("ngSwitchCase","shopping-cart"),y(),O("ngSwitchCase","book-open"),y(),O("ngSwitchCase","lightbulb"),y(),O("ngSwitchCase","dumbbell"),y(),O("ngSwitchCase","palette"),y(),O("ngSwitchCase","graduation-cap"),y(),O("ngSwitchCase","music"),y(),O("ngSwitchCase","tree"),y(),O("ngSwitchCase","credit-card"))}function jbe(n,t){if(1&n){const e=st();ti(0),_(1,"div",29),le("click",function(){const r=oe(e).$implicit;return re(L().goToCategory(r.id))}),_(2,"div",30),pe(3,Dbe,3,3,"ng-container",10)(4,Bbe,11,11,"ng-template",null,2,Ar),v(),_(6,"h3",14),x(7),S(8,"translate"),v(),_(9,"p",15),x(10),S(11,"translate"),v()(),ni()}if(2&n){const e=t.$implicit,i=Ki(5);y(2),O("ngClass",e.color),y(),O("ngIf","about"===e.id)("ngIfElse",i),y(4),ee(" ",D(8,5,e.title)," "),y(3),U(D(11,7,e.description))}}let zbe=(()=>{class n{constructor(e,i,r,o,s,a){this._router=e,this._http=i,this._categoryService=r,this._auth=o,this._userService=s,this._aboutService=a,this.userProfile$=qe(null),this.showAuthModal=!1}ngOnInit(){this.categories$=this._categoryService.getCategories().pipe(Le(e=>e.slice().sort((r,o)=>(r.order??0)-(o.order??0)))),this.userProfile$=this._auth.user$.pipe(St(e=>e?this._userService.getUserProfile(e.uid):qe(null))),this.aboutContent$=this._aboutService.getAboutContent()}goToCategory(e){switch(e){case Sa.ABOUT:this._router.navigate(["/about"]).then(()=>this.scrollToTop());break;case Sa.SHOP:this._router.navigate(["/shop"]).then(()=>this.scrollToTop());break;case Sa.SUBSCRIBE:this._router.navigate(["/subscribe"]).then(()=>this.scrollToTop());break;case Sa.BLOG:this._router.navigate(["/blog"]).then(()=>this.scrollToTop());break;case Sa.TIPS:this._router.navigate(["/tips"]).then(()=>this.scrollToTop());break;case Sa.PHYSICAL:case Sa.CREATIVE:case Sa.EDUCATIONAL:case Sa.MUSICAL:case Sa.NATURE:this._router.navigate(["/activities"],{queryParams:{category:e}}).then(()=>this.scrollToTop());break;default:this._router.navigate(["/activities"]).then(()=>this.scrollToTop())}}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}openAuthModal(){this.showAuthModal=!0}closeAuthModal(){this.showAuthModal=!1}onProfileClick(){this._router.navigate(["/profile"])}onLogout(){this._auth.signOut()}navigateToAdmin(){this._router.navigate(["/admin"])}isAdmin(e){return e?.role===vi.ADMIN}static{this.\u0275fac=function(i){return new(i||n)(z(oi),z(tc),z(ybe),z(Aa),z(_l),z(ak))}}static{this.\u0275cmp=on({type:n,selectors:[["app-home"]],decls:19,vars:17,consts:[["showLoginCardInGrid",""],["userIcon",""],["otherCategoryIcon",""],["aboutDefaultAvatar",""],[1,"max-w-3xl","mx-auto","text-center","my-4","md:my-8","px-4"],[1,"text-2xl","md:text-3xl","font-semibold","text-green-800","mb-2"],[1,"text-base","md:text-lg","text-green-700","mb-3","md:mb-4"],[1,"text-sm","md:text-base","text-gray-600","mb-4","md:mb-6"],[3,"close","isOpen"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4","md:gap-6","max-w-5xl","mx-auto","mb-8","md:mb-12","px-4"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"cursor-pointer","transform","hover:scale-105","transition-all","duration-300","bg-white","rounded-xl","shadow","hover:shadow-lg","border","border-green-100","p-4","md:p-6","flex","flex-col","items-center","text-center","min-h-[140px]","md:min-h-[160px]","w-full",3,"click"],[1,"w-12","h-12","md:w-16","md:h-16","rounded-full","flex","items-center","justify-center","shadow-lg","mb-3","md:mb-4","bg-green-500"],[1,"text-base","md:text-lg","font-semibold","text-green-800","mb-1","md:mb-2"],[1,"text-xs","md:text-sm","text-gray-600","line-clamp-2"],["class","mt-2",4,"ngIf"],["class","cursor-pointer transform hover:scale-105 transition-all duration-300 bg-red-50 rounded-xl shadow hover:shadow-lg border border-red-200 p-4 md:p-6 flex flex-col items-center text-center min-h-[140px] md:min-h-[160px] w-full",3,"click",4,"ngIf"],[1,"w-full","h-full","rounded-full","object-cover",3,"src","alt"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-6","w-6","md:h-8","md:w-8","text-white"],["d","M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"mt-2"],[1,"bg-red-600","hover:bg-red-700","text-white","text-xs","px-2","py-1","rounded-md","transition-colors",3,"click"],[1,"cursor-pointer","transform","hover:scale-105","transition-all","duration-300","bg-red-50","rounded-xl","shadow","hover:shadow-lg","border","border-red-200","p-4","md:p-6","flex","flex-col","items-center","text-center","min-h-[140px]","md:min-h-[160px]","w-full",3,"click"],[1,"w-12","h-12","md:w-16","md:h-16","rounded-full","flex","items-center","justify-center","shadow-lg","mb-3","md:mb-4","bg-red-600"],["d","M3 3v18h18"],["d","M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"],[1,"text-base","md:text-lg","font-semibold","text-red-800","mb-1","md:mb-2"],[1,"cursor-pointer","transform","hover:scale-105","transition-all","duration-300","bg-white","rounded-xl","shadow","hover:shadow-lg","border","border-green-100","p-4","md:p-6","flex","flex-col","items-center","text-center","min-h-[140px]","md:min-h-[160px]",3,"click"],[1,"w-12","h-12","md:w-16","md:h-16","rounded-full","flex","items-center","justify-center","shadow-lg","mb-3","md:mb-4",3,"ngClass"],[4,"ngIf"],["alt","Profile",1,"w-full","h-full","object-cover","rounded-full",3,"src"],[3,"ngSwitch"],["class","h-6 w-6 md:h-8 md:w-8 text-white","fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",4,"ngSwitchCase"],["cx","8","cy","21","r","1"],["cx","19","cy","21","r","1"],["d","M2 6h2l.34 2m0 0L6 17a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2l1.24-7.45A2 2 0 0 0 18.26 8H6.34z"],["d","M2 7v13a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7"],["d","M16 3v4M8 3v4"],["d","M9 18h6"],["d","M10 22h4"],["d","M12 2a7 7 0 0 0-7 7c0 3.87 3.13 7 7 7s7-3.13 7-7a7 7 0 0 0-7-7z"],["d","M6.5 6.5l11 11"],["d","M21 21l-1.5-1.5"],["d","M3 3l1.5 1.5"],["d","M18 22v-4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v4"],["cx","12","cy","12","r","10"],["cx","7.5","cy","10.5","r","1.5"],["cx","16.5","cy","10.5","r","1.5"],["cx","12","cy","16.5","r","1.5"],["d","M12 2v2"],["d","M22 12l-10-7-10 7 10 7 10-7z"],["d","M2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6"],["d","M9 17V9l8-2v8"],["d","M12 2l-7 12h14L12 2z"],["d","M12 22v-4"],["x","1","y","4","width","22","height","16","rx","2","ry","2"],["x1","1","y1","10","x2","23","y2","10"]],template:function(i,r){if(1&i){const o=st();_(0,"div",4)(1,"h2",5),x(2),S(3,"translate"),v(),_(4,"p",6),x(5),S(6,"translate"),v(),_(7,"p",7),x(8),S(9,"translate"),v()(),_(10,"app-auth-modal",8),le("close",function(){return oe(o),re(r.closeAuthModal())}),v(),_(11,"div",9),pe(12,xbe,12,6,"ng-container",10),S(13,"async"),pe(14,Cbe,11,6,"ng-template",null,0,Ar)(16,jbe,12,9,"ng-container",11),S(17,"async"),v(),fe(18,"app-scroll-to-top")}if(2&i){const o=Ki(15);y(2),ee(" ",D(3,7,"HOME.WELCOME_TITLE")," "),y(3),ee(" ",D(6,9,"HOME.WELCOME_SUBTITLE")," "),y(3),ee(" ",D(9,11,"HOME.DESCRIPTION")," "),y(2),O("isOpen",r.showAuthModal),y(2),O("ngIf",D(13,13,r.userProfile$))("ngIfElse",o),y(4),O("ngForOf",D(17,15,r.categories$))}},dependencies:[au,Is,Ii,ov,Z1,Qx,x7,os,Yi],styles:[".home-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:60vh;padding:20px}.welcome-card[_ngcontent-%COMP%]{max-width:500px;width:100%;text-align:center}.welcome-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{justify-content:center;margin-bottom:20px}.welcome-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{margin-bottom:20px}.welcome-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;color:#666}.welcome-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.welcome-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:200px;height:48px;font-size:16px}"]})}}return n})(),Js=(()=>{class n{constructor(){this.label="Nazad",this.back=new Qt}onClick(){this.back.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=on({type:n,selectors:[["app-back-button"]],inputs:{label:"label"},outputs:{back:"back"},decls:5,vars:2,consts:[["type","button",1,"flex","items-center","gap-1","text-green-600","hover:text-green-700","font-medium","focus:outline-none","focus:ring-2","focus:ring-green-500","rounded-lg",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4"],["d","M15 19l-7-7 7-7"],[1,"text-xs","sm:text-sm"]],template:function(i,r){1&i&&(_(0,"button",0),le("click",function(){return r.onClick()}),je(),_(1,"svg",1),fe(2,"path",2),v(),vt(),_(3,"span",3),x(4),v()()),2&i&&(ei("aria-label",r.label),y(4),U(r.label))},styles:[".flex[_ngcontent-%COMP%]{min-width:48px;min-height:48px}"]})}}return n})();function Hbe(n,t){if(1&n){const e=st();_(0,"button",7),le("click",function(){const r=oe(e).$implicit;return re(L().selectCategory(r))}),x(1),S(2,"translate"),v()}if(2&n){const e=t.$implicit;O("ngClass",L().selectedCategory===e?"bg-green-600 text-white shadow-lg scale-105":"border-green-200 text-green-700 hover:bg-green-100 hover:border-green-300 hover:scale-105"),y(),ee(" ",D(2,2,"HOME.CAT_"+e.toUpperCase()+"_TITLE")," ")}}function $be(n,t){if(1&n){const e=st();_(0,"div",12),le("click",function(){const r=oe(e).$implicit;return re(L().goToActivity(r.id))}),_(1,"div",13),fe(2,"img",14)(3,"div",15),_(4,"div",16)(5,"span",17),x(6),S(7,"translate"),v()(),_(8,"div",18),je(),_(9,"svg",19),fe(10,"circle",20)(11,"polyline",21),v(),vt(),_(12,"span",22),x(13),v()(),_(14,"div",23)(15,"div",24),je(),_(16,"svg",25),fe(17,"polygon",26),v()()()(),vt(),_(18,"div",27)(19,"h3",28),x(20),v(),_(21,"p",29),x(22),v(),_(23,"button",30),le("click",function(r){const o=oe(e).$implicit;return L().goToActivity(o.id),re(r.stopPropagation())}),je(),_(24,"svg",31),fe(25,"polygon",26),v(),x(26),S(27,"translate"),v()()()}if(2&n){const e=t.$implicit;y(2),O("src",e.imageUrl,Lr)("alt",e.title),y(4),ee(" ",D(7,7,"HOME.CAT_"+e.category.toUpperCase()+"_TITLE")," "),y(7),U(e.duration),y(7),ee(" ",e.title," "),y(2),ee(" ",e.description," "),y(4),ee(" ",D(27,9,"ACTIVITIES.START")," ")}}function Gbe(n,t){1&n&&(_(0,"div",32),x(1),S(2,"translate"),v()),2&n&&(y(),ee(" ",D(2,1,"ACTIVITIES.EMPTY")," "))}let qbe=(()=>{class n{constructor(e,i,r,o){this._activityService=e,this._translate=i,this._router=r,this._route=o,this.allActivities=[],this.categories=[],this.selectedCategory="",this.categoryFilter$=new xe("")}ngOnInit(){this.lang=this._translate.currentLang||this._translate.getDefaultLang()||"sr",this._route.queryParams.subscribe(e=>{const i=e.category;i&&(this.selectedCategory=i,this.categoryFilter$.next(i))}),this.activities$=nh([this._translate.onLangChange.pipe(Le(e=>e.lang),Ja(this.lang)),this.categoryFilter$]).pipe(St(([e,i])=>(this.lang=e,this._activityService.getActivities(e).pipe(Le(r=>(this.allActivities=r,this.categories=Array.from(new Set(r.map(o=>o.category))),i?r.filter(o=>o.category===i):r))))))}selectCategory(e){this.selectedCategory=e,this.categoryFilter$.next(e),this._router.navigate([],{relativeTo:this._route,queryParams:{category:e||null},queryParamsHandling:"merge"})}goToActivity(e){this._router.navigate(["/activity",e],{queryParams:{category:this.selectedCategory||null}})}goToSubscription(){this._router.navigate(["/subscription"])}goBack(){this._router.navigate(["/"]).then(()=>{typeof window<"u"&&window&&window.scrollTo({top:0,behavior:"smooth"})})}static{this.\u0275fac=function(i){return new(i||n)(z(eb),z(Si),z(oi),z(ic))}}static{this.\u0275cmp=on({type:n,selectors:[["app-activity-list"]],decls:22,vars:20,consts:[[1,"max-w-5xl","mx-auto","px-4"],[1,"mb-4","md:mb-6","text-center"],[1,"mb-3","md:mb-4",3,"back","label"],[1,"text-2xl","md:text-3xl","font-semibold","text-green-800","mb-2"],[1,"text-base","md:text-lg","text-green-700","mb-3","md:mb-4"],[1,"py-3","bg-green-50/50","border-b","border-green-100","mb-4","md:mb-6"],[1,"flex","space-x-2","overflow-x-auto","scrollbar-hide","px-2"],[1,"whitespace-nowrap","rounded-full","min-w-fit","transition-all","duration-300","px-3","md:px-4","py-1","border","font-medium","text-xs","md:text-sm","focus:outline-none",3,"click","ngClass"],["class","whitespace-nowrap rounded-full min-w-fit transition-all duration-300 px-3 md:px-4 py-1 border font-medium text-xs md:text-sm focus:outline-none",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4","md:gap-6"],["class","group overflow-hidden bg-white rounded-xl shadow hover:shadow-xl transition-all duration-500 hover:scale-[1.03] transform-gpu cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","col-span-full text-center text-gray-500 py-8 md:py-12",4,"ngIf"],[1,"group","overflow-hidden","bg-white","rounded-xl","shadow","hover:shadow-xl","transition-all","duration-500","hover:scale-[1.03]","transform-gpu","cursor-pointer",3,"click"],[1,"relative","h-32","md:h-40","bg-gradient-card","overflow-hidden"],[1,"w-full","h-full","object-cover","transition-transform","duration-700","group-hover:scale-110",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/20","to-transparent","group-hover:from-black/30","transition-all","duration-300"],[1,"absolute","top-2","md:top-3","left-2","md:left-3"],[1,"bg-green-600","text-white","text-xs","px-2","md:px-3","py-1","rounded-full","font-medium","shadow-lg","backdrop-blur-sm"],[1,"absolute","top-2","md:top-3","right-2","md:right-3","flex","items-center","bg-white/95","backdrop-blur-sm","rounded-full","px-2","md:px-3","py-1","shadow-md"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-3","w-3","md:h-4","md:w-4","text-green-600","mr-1"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-xs","font-medium","text-green-800"],[1,"absolute","inset-0","flex","items-center","justify-center","opacity-0","group-hover:opacity-100","transition-opacity","duration-300"],[1,"w-10","h-10","md:w-12","md:h-12","bg-white/90","rounded-full","flex","items-center","justify-center","shadow-lg","backdrop-blur-sm"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-5","w-5","md:h-6","md:w-6","text-green-600","ml-0.5"],["points","6 3 20 12 6 21 6 3"],[1,"p-3","md:p-4"],[1,"font-semibold","text-gray-900","mb-1","md:mb-2","line-clamp-2","group-hover:text-green-800","transition-colors","duration-300","text-sm","md:text-base"],[1,"text-xs","md:text-sm","text-gray-600","mb-3","md:mb-4","line-clamp-2"],[1,"w-full","bg-green-600","hover:bg-green-700","text-white","rounded-full","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:scale-[1.02]","flex","items-center","justify-center","py-2","md:py-2","mt-2","text-sm","md:text-base",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-3","w-3","md:h-4","md:w-4","mr-1","md:mr-2"],[1,"col-span-full","text-center","text-gray-500","py-8","md:py-12"]],template:function(i,r){if(1&i&&(_(0,"div",0)(1,"div",1)(2,"app-back-button",2),S(3,"translate"),le("back",function(){return r.goBack()}),v(),_(4,"h2",3),x(5),S(6,"translate"),v(),_(7,"p",4),x(8),S(9,"translate"),v()(),_(10,"div",5)(11,"div",6)(12,"button",7),le("click",function(){return r.selectCategory("")}),x(13),S(14,"translate"),v(),pe(15,Hbe,3,4,"button",8),v()(),_(16,"div",9),pe(17,$be,28,11,"div",10),S(18,"async"),pe(19,Gbe,3,3,"div",11),S(20,"async"),v()(),fe(21,"app-scroll-to-top")),2&i){let o;y(2),O("label",D(3,8,"ACTIVITIES.BACK")),y(3),ee(" ",D(6,10,"HOME.CAT_PHYSICAL_TITLE")," "),y(3),ee(" ",D(9,12,"HOME.CAT_PHYSICAL_DESC")," "),y(4),O("ngClass",""===r.selectedCategory?"bg-green-600 text-white shadow-lg scale-105":"border-green-200 text-green-700 hover:bg-green-100 hover:border-green-300 hover:scale-105"),y(),ee(" ",D(14,14,"ACTIVITIES.ALL")," "),y(2),O("ngForOf",r.categories),y(2),O("ngForOf",D(18,16,r.activities$)),y(2),O("ngIf",0===(null==(o=D(20,18,r.activities$))?null:o.length))}},dependencies:[au,Is,Ii,Qx,Js,os,Yi],styles:[".activity-list-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:var(--dark-green)}.activities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.activity-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.activity-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}"]})}}return n})();function Wbe(n,t){if(1&n&&(ti(0),fe(1,"video",26),ni()),2&n){const e=L().ngIf;y(),O("src",e.videoUrl,Lr),ei("title",e.title)}}function Kbe(n,t){if(1&n&&fe(0,"img",27),2&n){const e=L().ngIf;O("src",e.imageUrl,Lr)("alt",e.title)}}function Qbe(n,t){if(1&n&&(_(0,"div",31),fe(1,"div",32),_(2,"span",33),x(3),v()()),2&n){const e=t.$implicit;y(3),U(e)}}function Ybe(n,t){if(1&n&&(_(0,"div",11)(1,"h3",28),x(2),S(3,"translate"),v(),_(4,"div",29),pe(5,Qbe,4,1,"div",30),v()()),2&n){const e=L().ngIf;y(2),ee(" ",D(3,2,"ACTIVITY.MATERIALS_TITLE")," "),y(3),O("ngForOf",e.materials)}}function Zbe(n,t){if(1&n&&(_(0,"div",36)(1,"div",37),x(2),v(),_(3,"p",38),x(4),v()()),2&n){const e=t.$implicit,i=t.index;y(2),ee(" ",i+1," "),y(2),U(e)}}function Xbe(n,t){if(1&n&&(_(0,"div",11)(1,"h3",28),x(2),S(3,"translate"),v(),_(4,"div",34),pe(5,Zbe,5,2,"div",35),v()()),2&n){const e=L().ngIf;y(2),ee(" ",D(3,2,"ACTIVITY.INSTRUCTIONS_TITLE")," "),y(3),O("ngForOf",e.instructions)}}function Jbe(n,t){if(1&n){const e=st();ti(0),_(1,"div",4)(2,"div",5)(3,"app-back-button",6),S(4,"translate"),le("back",function(){return oe(e),re(L().goBack())}),v(),_(5,"h1",7),x(6),v()()(),_(7,"div",8)(8,"div",9)(9,"div",10),pe(10,Wbe,2,2,"ng-container",3)(11,Kbe,1,2,"ng-template",null,1,Ar),v()(),_(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14),je(),_(17,"svg",15),fe(18,"circle",16)(19,"polyline",17),v(),vt(),_(20,"span",18),x(21),v()(),_(22,"div",14),je(),_(23,"svg",15),fe(24,"path",19)(25,"circle",20)(26,"path",21)(27,"path",22),v(),vt(),_(28,"span",18),x(29),v()()(),_(30,"span",23),x(31),S(32,"translate"),v()(),_(33,"p",24),x(34),v()(),pe(35,Ybe,6,4,"div",25)(36,Xbe,6,4,"div",25),v(),ni()}if(2&n){const e=t.ngIf,i=Ki(12);y(3),O("label",D(4,10,"ACTIVITY.BACK")),y(3),ee(" ",e.title," "),y(4),O("ngIf",e.videoUrl)("ngIfElse",i),y(11),U(e.duration),y(8),U(e.ageGroup),y(2),ee(" ",D(32,12,"HOME.CAT_"+e.category.toUpperCase()+"_TITLE")," "),y(3),U(e.description),y(),O("ngIf",e.materials&&e.materials.length),y(),O("ngIf",e.instructions&&e.instructions.length)}}function e0e(n,t){1&n&&(_(0,"div",39)(1,"p",40),x(2),S(3,"translate"),v()()),2&n&&(y(2),U(D(3,1,"ACTIVITY.NOT_FOUND")))}let t0e=(()=>{class n{constructor(e,i,r,o){this._route=e,this._activityService=i,this._translate=r,this._router=o}ngOnInit(){this.lang=this._translate.currentLang||this._translate.getDefaultLang()||"sr",this.activity$=nh([this._route.paramMap.pipe(Le(e=>e.get("id"))),this._translate.onLangChange.pipe(Le(e=>e.lang),Ja(this.lang))]).pipe(St(([e,i])=>(this.lang=i,e?this._activityService.getActivities(i).pipe(Le(r=>r.find(o=>o.id===e))):qe(void 0))))}goBack(){const e=this._route.snapshot.queryParamMap.get("category");this._router.navigate(["/activities"],{queryParams:{category:e||null}}).then(()=>{window.scrollTo({top:0,behavior:"smooth"})})}static{this.\u0275fac=function(i){return new(i||n)(z(ic),z(eb),z(Si),z(oi))}}static{this.\u0275cmp=on({type:n,selectors:[["app-activity-detail"]],decls:6,vars:4,consts:[["notFound",""],["showImage",""],[1,"min-h-screen","bg-green-50/30"],[4,"ngIf","ngIfElse"],[1,"sticky","top-0","z-50","bg-white","shadow-sm","border-b","border-green-100"],[1,"px-4","py-3","flex","flex-col","items-start","gap-2"],[3,"back","label"],[1,"font-semibold","text-gray-900","text-sm","md:text-base"],[1,"p-3","md:p-4","space-y-4","md:space-y-6","max-w-3xl","mx-auto"],[1,"overflow-hidden","bg-white","shadow-sm","border","border-green-100","rounded-xl"],[1,"relative","h-40","md:h-48","bg-gray-100"],[1,"bg-white","shadow-sm","border","border-green-100","rounded-xl","p-3","md:p-4"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","mb-3","md:mb-4","space-y-2","md:space-y-0"],[1,"flex","flex-wrap","items-center","space-x-3","md:space-x-4"],[1,"flex","items-center","text-green-600"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-3","w-3","md:h-4","md:w-4","mr-1"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-xs","md:text-sm","font-medium"],["d","M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M23 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],[1,"bg-green-100","text-green-700","text-xs","px-2","md:px-3","py-1","rounded-full","font-medium","self-start","md:self-auto"],[1,"text-gray-700","mb-3","md:mb-4","text-sm","md:text-base"],["class","bg-white shadow-sm border border-green-100 rounded-xl p-3 md:p-4",4,"ngIf"],["controls","",1,"w-full","h-full","object-cover","rounded-lg",3,"src"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"font-semibold","text-gray-900","mb-2","md:mb-3","text-sm","md:text-base"],[1,"space-y-1","md:space-y-2"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","space-x-2"],[1,"w-1.5","h-1.5","md:w-2","md:h-2","bg-green-500","rounded-full","flex-shrink-0"],[1,"text-gray-700","text-sm","md:text-base"],[1,"space-y-3","md:space-y-4"],["class","flex space-x-2 md:space-x-3",4,"ngFor","ngForOf"],[1,"flex","space-x-2","md:space-x-3"],[1,"flex-shrink-0","w-5","h-5","md:w-6","md:h-6","bg-green-600","text-white","rounded-full","flex","items-center","justify-center","text-xs","md:text-sm","font-medium"],[1,"text-gray-700","pt-0.5","text-sm","md:text-base"],[1,"max-w-xl","mx-auto","bg-white","shadow-sm","border-green-100","rounded-xl","p-6","md:p-8","mt-8","md:mt-12","text-center","mx-4"],[1,"text-gray-600","text-sm","md:text-base"]],template:function(i,r){if(1&i&&(_(0,"div",2),pe(1,Jbe,37,14,"ng-container",3),S(2,"async"),pe(3,e0e,4,3,"ng-template",null,0,Ar),v(),fe(5,"app-scroll-to-top")),2&i){const o=Ki(4);y(),O("ngIf",D(2,2,r.activity$))("ngIfElse",o)}},dependencies:[Is,Ii,Qx,Js,os,Yi],styles:[".activity-detail-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.activity-detail-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin-bottom:20px}.activity-detail-container[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;color:#666;margin-bottom:20px}.video-container[_ngcontent-%COMP%]{margin-top:20px}.video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 4px #0000001a}"]})}}return n})();function n0e(n,t){1&n&&(je(),_(0,"svg",41),fe(1,"rect",42)(2,"path",43),v())}function i0e(n,t){1&n&&(je(),_(0,"svg",44),fe(1,"path",45)(2,"circle",46),v())}let r0e=(()=>{class n{constructor(e){this._router=e,this.copiedPayPal=!1,this.paypalEmail="ana.petrovic.vaspitac@gmail.com"}goBack(){this._router.navigate(["/"]).then(()=>{window.scrollTo({top:0,behavior:"smooth"})})}copyPayPalEmail(){var e=this;return(0,ve.A)(function*(){try{if(navigator.clipboard)yield navigator.clipboard.writeText(e.paypalEmail);else{const i=document.createElement("textarea");i.value=e.paypalEmail,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)}e.copiedPayPal=!0,setTimeout(()=>e.copiedPayPal=!1,2e3)}catch{e.copiedPayPal=!1}})()}static{this.\u0275fac=function(i){return new(i||n)(z(oi))}}static{this.\u0275cmp=on({type:n,selectors:[["app-shop"]],decls:166,vars:112,consts:[[1,"min-h-screen","bg-green-50/30"],[1,"px-3","md:px-4","py-4","md:py-6","max-w-4xl","mx-auto"],[1,"mb-4","md:mb-6"],[3,"back","label"],[1,"space-y-6","md:space-y-8"],[1,"text-center"],[1,"text-2xl","md:text-3xl","font-semibold","text-gray-900","mb-2"],[1,"text-base","md:text-lg","text-gray-600"],[1,"bg-white","shadow-lg","border","border-green-100","rounded-xl","p-4","md:p-6"],[1,"text-xl","md:text-2xl","text-gray-900","font-semibold","mb-3","md:mb-4"],[1,"grid","gap-4","md:gap-6","md:grid-cols-2"],[1,"space-y-2","md:space-y-3"],[1,"text-base","md:text-lg","font-semibold","text-green-700"],[1,"space-y-1","md:space-y-2","text-gray-700","text-sm","md:text-base"],[1,"flex","items-center","gap-2","text-xl","md:text-2xl","text-gray-900","mb-3","md:mb-4"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-5","w-5","md:h-6","md:w-6","text-green-600"],["x","2","y","5","width","20","height","14","rx","2"],["d","M2 10h20"],[1,"space-y-3","md:space-y-4"],[1,"text-gray-700","text-sm","md:text-base"],[1,"bg-gray-50","p-3","md:p-4","rounded-lg","border"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-3"],[1,"flex-1","min-w-0"],[1,"text-xs","md:text-sm","text-gray-600","mb-1"],[1,"font-mono","text-sm","md:text-lg","text-gray-900","break-all","overflow-hidden"],[1,"px-3","py-2","border","rounded","text-green-700","hover:bg-green-100","flex","items-center","gap-1","text-sm","md:text-base","self-start","sm:self-auto","whitespace-nowrap",3,"click"],["class","h-4 w-4","fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",4,"ngIf"],["class","h-4 w-4 text-green-600","fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",4,"ngIf"],[1,"space-y-4","md:space-y-6"],[1,"bg-blue-50","border","border-blue-200","p-4","md:p-6","rounded-lg"],[1,"text-xl","md:text-2xl","font-semibold","text-gray-900","mb-3","md:mb-4"],[1,"grid","gap-3","md:gap-4","md:grid-cols-2"],[1,"text-xs","md:text-sm","font-medium","text-blue-700"],[1,"text-blue-900","text-sm","md:text-base"],[1,"font-mono","text-blue-900","text-sm","md:text-base","break-all"],[1,"text-blue-900","text-sm","md:text-base","break-all"],[1,"bg-yellow-50","border","border-yellow-200","p-4","md:p-6","rounded-lg"],[1,"font-semibold","text-base","md:text-lg","text-yellow-900","mb-3","md:mb-4"],[1,"space-y-2","md:space-y-3","text-yellow-800","text-sm","md:text-base"],[1,"font-medium"],[1,"text-yellow-900","text-sm","md:text-base"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4"],["x","9","y","9","width","13","height","13","rx","2"],["d","M5 15V5a2 2 0 0 1 2-2h10"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4","text-green-600"],["d","M9 12l2 2l4-4"],["cx","12","cy","12","r","10"]],template:function(i,r){1&i&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-back-button",3),S(4,"translate"),le("back",function(){return r.goBack()}),v()(),_(5,"div",4)(6,"div",5)(7,"h1",6),x(8),S(9,"translate"),v(),_(10,"p",7),x(11),S(12,"translate"),v()(),_(13,"div",8)(14,"h2",9),x(15),S(16,"translate"),v(),_(17,"div",10)(18,"div",11)(19,"h3",12),x(20),S(21,"translate"),v(),_(22,"ul",13)(23,"li"),x(24),S(25,"translate"),v(),_(26,"li"),x(27),S(28,"translate"),v(),_(29,"li"),x(30),S(31,"translate"),v(),_(32,"li"),x(33),S(34,"translate"),v()()(),_(35,"div",11)(36,"h3",12),x(37),S(38,"translate"),v(),_(39,"ul",13)(40,"li"),x(41),S(42,"translate"),v(),_(43,"li"),x(44),S(45,"translate"),v(),_(46,"li"),x(47),S(48,"translate"),v(),_(49,"li"),x(50),S(51,"translate"),v()()()()(),_(52,"div",8)(53,"div",14),je(),_(54,"svg",15),fe(55,"rect",16)(56,"path",17),v(),x(57),S(58,"translate"),v(),vt(),_(59,"div",18)(60,"p",19),x(61),S(62,"translate"),v(),_(63,"div",20)(64,"div",21)(65,"div",22)(66,"p",23),x(67),S(68,"translate"),v(),_(69,"p",24),x(70," ana.petrovic.vaspitac@gmail.com "),v()(),_(71,"button",25),le("click",function(){return r.copyPayPalEmail()}),pe(72,n0e,3,0,"svg",26)(73,i0e,3,0,"svg",27),_(74,"span"),x(75),S(76,"translate"),S(77,"translate"),v()()()()()(),_(78,"div",8)(79,"div",14),je(),_(80,"svg",15),fe(81,"rect",16)(82,"path",17),v(),x(83),S(84,"translate"),v(),vt(),_(85,"div",28)(86,"p",19),x(87),S(88,"translate"),v(),_(89,"div",29)(90,"h2",30),x(91),S(92,"translate"),v(),_(93,"div",31)(94,"div")(95,"p",32),x(96),S(97,"translate"),v(),_(98,"p",33),x(99,"Ana Petrovi\u0107"),v()(),_(100,"div")(101,"p",32),x(102),S(103,"translate"),v(),_(104,"p",34),x(105," 160-123456789-12 "),v()(),_(106,"div")(107,"p",32),x(108),S(109,"translate"),v(),_(110,"p",33),x(111,"Banka Intesa"),v()(),_(112,"div")(113,"p",32),x(114),S(115,"translate"),v(),_(116,"p",35),x(117,"97 123-456789"),v()()()(),_(118,"div",36)(119,"h3",37),x(120),S(121,"translate"),v(),_(122,"div",38)(123,"div")(124,"span",39),x(125,"1."),v(),_(126,"span",39),x(127),S(128,"translate"),v(),_(129,"span"),x(130),S(131,"translate"),v()(),_(132,"div")(133,"span",39),x(134,"2."),v(),_(135,"span",39),x(136),S(137,"translate"),v(),_(138,"span"),x(139),S(140,"translate"),v()(),_(141,"div")(142,"span",39),x(143,"3."),v(),_(144,"span",39),x(145),S(146,"translate"),v(),_(147,"span"),x(148),S(149,"translate"),v()(),_(150,"div")(151,"span",39),x(152,"4."),v(),_(153,"span",39),x(154),S(155,"translate"),v(),_(156,"span"),x(157),S(158,"translate"),v()()()(),_(159,"div",36)(160,"h3",37),x(161),S(162,"translate"),v(),_(163,"span",40),x(164),S(165,"translate"),v()()()()()()()),2&i&&(y(3),O("label",D(4,38,"SHOP.BACK")),y(5),ee(" ",D(9,40,"SHOP.TITLE")," "),y(3),U(D(12,42,"SHOP.DESCRIPTION")),y(4),ee(" ",D(16,44,"SHOP.OFFER_TITLE")," "),y(5),ee(" ",D(21,46,"SHOP.PDF_GUIDES")," "),y(4),ee("\u2022 ",D(25,48,"SHOP.PDF_MONTHLY"),""),y(3),ee("\u2022 ",D(28,50,"SHOP.PDF_THEMED"),""),y(3),ee("\u2022 ",D(31,52,"SHOP.PDF_MOTOR"),""),y(3),ee("\u2022 ",D(34,54,"SHOP.PDF_CREATIVE"),""),y(4),ee(" ",D(38,56,"SHOP.VIDEO_MATERIALS")," "),y(4),ee("\u2022 ",D(42,58,"SHOP.VIDEO_DEMO"),""),y(3),ee("\u2022 ",D(45,60,"SHOP.VIDEO_TIPS"),""),y(3),ee("\u2022 ",D(48,62,"SHOP.VIDEO_CONSULT"),""),y(3),ee("\u2022 ",D(51,64,"SHOP.VIDEO_WEBINAR"),""),y(7),ee(" ",D(58,66,"SHOP.PAYPAL_TITLE")," "),y(4),U(D(62,68,"SHOP.PAYPAL_DESC")),y(6),ee(" ",D(68,70,"SHOP.PAYPAL_EMAIL_LABEL")," "),y(5),O("ngIf",!r.copiedPayPal),y(),O("ngIf",r.copiedPayPal),y(2),U(r.copiedPayPal?D(76,72,"SHOP.COPIED"):D(77,74,"SHOP.COPY")),y(8),ee(" ",D(84,76,"SHOP.BANK_TITLE")," "),y(4),U(D(88,78,"SHOP.BANK_DESC")),y(4),ee(" ",D(92,80,"SHOP.BANK_DETAILS_TITLE")," "),y(5),ee(" ",D(97,82,"SHOP.BANK_RECIPIENT")," "),y(6),ee(" ",D(103,84,"SHOP.BANK_ACCOUNT")," "),y(6),ee(" ",D(109,86,"SHOP.BANK_BANK")," "),y(6),ee(" ",D(115,88,"SHOP.BANK_REFERENCE")," "),y(6),ee(" ",D(121,90,"SHOP.BANK_HOWTO_TITLE")," "),y(7),U(D(128,92,"SHOP.BANK_HOWTO_WHO")),y(3),U(D(131,94,"SHOP.BANK_HOWTO_WHO_DESC")),y(6),U(D(137,96,"SHOP.BANK_HOWTO_RECIPIENT")),y(3),U(D(140,98,"SHOP.BANK_HOWTO_RECIPIENT_DESC")),y(6),U(D(146,100,"SHOP.BANK_HOWTO_ACCOUNT")),y(3),U(D(149,102,"SHOP.BANK_HOWTO_ACCOUNT_DESC")),y(6),U(D(155,104,"SHOP.BANK_HOWTO_REFERENCE")),y(3),U(D(158,106,"SHOP.BANK_HOWTO_REFERENCE_DESC")),y(4),ee(" ",D(162,108,"SHOP.BANK_NOTE_TITLE")," "),y(3),U(D(165,110,"SHOP.BANK_NOTE_DESC")))},dependencies:[Ii,Js,Yi]})}}return n})();function o0e(n,t){if(1&n&&(ti(0),fe(1,"img",29),ni()),2&n){const e=L().ngIf;y(),O("src",e.profileImageUrl,Lr)}}function s0e(n,t){1&n&&(_(0,"span",30),x(1,"A"),v())}function a0e(n,t){if(1&n&&(_(0,"p",32),x(1),v()),2&n){const e=t.$implicit;y(),U(e)}}function l0e(n,t){if(1&n&&(ti(0),pe(1,a0e,2,1,"p",31),ni()),2&n){const e=L().ngIf;y(),O("ngForOf",e.bioParagraphs)}}function c0e(n,t){1&n&&(_(0,"p",32),x(1),S(2,"translate"),v(),_(3,"p",32),x(4),S(5,"translate"),v(),_(6,"p"),x(7),S(8,"translate"),v()),2&n&&(y(),U(D(2,3,"ABOUT.BIO_1")),y(3),U(D(5,5,"ABOUT.BIO_2")),y(3),U(D(8,7,"ABOUT.BIO_3")))}function u0e(n,t){if(1&n&&(_(0,"p",38),x(1),v()),2&n){const e=L().$implicit;y(),ee(" ",e.dateRange," ")}}function d0e(n,t){if(1&n&&(_(0,"div",34)(1,"h3",35),x(2),v(),pe(3,u0e,2,1,"p",36),_(4,"p",37),x(5),v()()),2&n){const e=t.$implicit;y(2),ee(" ",e.title," "),y(),O("ngIf",e.dateRange),y(2),ee(" ",e.description," ")}}function h0e(n,t){if(1&n&&(ti(0),pe(1,d0e,6,3,"div",33),ni()),2&n){const e=L().ngIf;y(),O("ngForOf",e.experiences)}}function f0e(n,t){1&n&&(_(0,"div",34)(1,"h3",35),x(2),S(3,"translate"),v(),_(4,"p",38),x(5),S(6,"translate"),v(),_(7,"p",37),x(8),S(9,"translate"),v()(),_(10,"div",34)(11,"h3",35),x(12),S(13,"translate"),v(),_(14,"p",38),x(15,"2014 - 2018"),v(),_(16,"p",37),x(17),S(18,"translate"),v()()),2&n&&(y(2),ee(" ",D(3,5,"ABOUT.EXP1_TITLE")," "),y(3),ee(" 2018 - ",D(6,7,"ABOUT.PRESENT")," "),y(3),ee(" ",D(9,9,"ABOUT.EXP1_DESC")," "),y(4),ee(" ",D(13,11,"ABOUT.EXP2_TITLE")," "),y(5),ee(" ",D(18,13,"ABOUT.EXP2_DESC")," "))}function m0e(n,t){if(1&n){const e=st();ti(0),_(1,"div",5)(2,"div",6)(3,"app-back-button",7),S(4,"translate"),le("back",function(){return oe(e),re(L().goBack())}),v()(),_(5,"div",8)(6,"div",9)(7,"div",10),pe(8,o0e,2,1,"ng-container",11)(9,s0e,2,0,"ng-template",null,0,Ar),v(),_(11,"h1",12),x(12),S(13,"translate"),v(),_(14,"p",13),x(15),S(16,"translate"),v()(),_(17,"div",14)(18,"h2",15),x(19),S(20,"translate"),v(),_(21,"div",16),pe(22,l0e,2,1,"ng-container",11)(23,c0e,9,9,"ng-template",null,1,Ar),v()(),_(25,"div",14)(26,"h2",17),x(27),S(28,"translate"),v(),_(29,"div",18),pe(30,h0e,2,1,"ng-container",11)(31,f0e,19,15,"ng-template",null,2,Ar),v()(),_(33,"div",14)(34,"h2",17),x(35),S(36,"translate"),v(),_(37,"div",19)(38,"div",20),je(),_(39,"svg",21),fe(40,"rect",22)(41,"path",23),v(),vt(),_(42,"span",24),x(43),v()(),_(44,"div",20),je(),_(45,"svg",21),fe(46,"path",25),v(),vt(),_(47,"span",26),x(48),v()(),_(49,"div",20),je(),_(50,"svg",21),fe(51,"path",27)(52,"circle",28),v(),vt(),_(53,"span",26),x(54),S(55,"translate"),v()()()()()(),ni()}if(2&n){const e=t.ngIf,i=Ki(10),r=Ki(24),o=Ki(32);y(3),O("label",D(4,15,"ABOUT.BACK")),y(5),O("ngIf",null==e?null:e.profileImageUrl)("ngIfElse",i),y(4),ee(" ",(null==e?null:e.name)||D(13,17,"ABOUT.NAME")," "),y(3),ee(" ",(null==e?null:e.role)||D(16,19,"ABOUT.ROLE")," "),y(4),ee(" ",D(20,21,"ABOUT.BIO_TITLE")," "),y(3),O("ngIf",(null==e?null:e.bioParagraphs)&&e.bioParagraphs.length>0)("ngIfElse",r),y(5),ee(" ",D(28,23,"ABOUT.EXPERIENCE_TITLE")," "),y(3),O("ngIf",(null==e?null:e.experiences)&&e.experiences.length>0)("ngIfElse",o),y(5),ee(" ",D(36,25,"ABOUT.CONTACT_TITLE")," "),y(8),U((null==e?null:e.email)||"ana.petrovic@vaspitac.rs"),y(5),U((null==e?null:e.phone)||"+381 61 123 4567"),y(6),U((null==e?null:e.location)||D(55,27,"ABOUT.LOCATION"))}}let p0e=(()=>{class n{constructor(e,i,r,o){this._router=e,this._aboutService=i,this._translate=r,this._http=o,this.currentLanguage="sr"}ngOnInit(){this.currentLanguage=this._translate.currentLang||this._translate.getDefaultLang()||"sr",this.loadAboutContent()}loadAboutContent(){this.aboutContent$=this._aboutService.getAboutContent().pipe(xi(()=>(console.log(`Falling back to JSON for about_${this.currentLanguage}`),this._http.get(`assets/about_${this.currentLanguage}.json`).pipe(Le(e=>e.data)))))}goBack(){this._router.navigate(["/"]).then(()=>{window.scrollTo({top:0,behavior:"smooth"})})}static{this.\u0275fac=function(i){return new(i||n)(z(oi),z(ak),z(Si),z(tc))}}static{this.\u0275cmp=on({type:n,selectors:[["app-about"]],decls:3,vars:3,consts:[["defaultAvatar",""],["fallbackBio",""],["fallbackExperience",""],[1,"min-h-screen","bg-green-50/30"],[4,"ngIf"],[1,"px-3","md:px-4","py-4","md:py-6","max-w-4xl","mx-auto"],[1,"mb-4","md:mb-6"],[3,"back","label"],[1,"space-y-6","md:space-y-8"],[1,"text-center"],[1,"w-24","h-24","md:w-32","md:h-32","rounded-full","mx-auto","mb-3","md:mb-4","flex","items-center","justify-center","shadow-lg","overflow-hidden","bg-gradient-to-br","from-green-400","to-green-600"],[4,"ngIf","ngIfElse"],[1,"text-2xl","md:text-3xl","font-semibold","text-gray-900","mb-2"],[1,"text-base","md:text-lg","text-green-600","font-medium"],[1,"bg-white","shadow-lg","border","border-green-100","rounded-xl","p-4","md:p-8"],[1,"text-xl","md:text-2xl","font-semibold","text-gray-900","mb-3","md:mb-4"],[1,"prose","prose-green","max-w-none","text-gray-700","leading-relaxed","text-sm","md:text-base"],[1,"text-xl","md:text-2xl","font-semibold","text-gray-900","mb-4","md:mb-6"],[1,"space-y-4","md:space-y-6"],[1,"space-y-3","md:space-y-4"],[1,"flex","items-center","space-x-3"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4","md:h-5","md:w-5","text-green-600","flex-shrink-0"],["x","2","y","4","width","20","height","16","rx","2"],["d","m22 6-10 7L2 6"],[1,"text-gray-700","text-sm","md:text-base","break-all"],["d","M22 16.92V19a2 2 0 0 1-2 2A18 18 0 0 1 3 5a2 2 0 0 1 2-2h2.09a2 2 0 0 1 2 1.72c.13.81.36 1.6.7 2.34a2 2 0 0 1-.45 2.11L7.91 10.09a16 16 0 0 0 6 6l1.92-1.92a2 2 0 0 1 2.11-.45c.74.34 1.53.57 2.34.7A2 2 0 0 1 22 16.92z"],[1,"text-gray-700","text-sm","md:text-base"],["d","M12 21c-4.418 0-8-4.03-8-9a8 8 0 1 1 16 0c0 4.97-3.582 9-8 9z"],["cx","12","cy","12","r","3"],["alt","Profile",1,"w-full","h-full","object-cover",3,"src"],[1,"text-white","font-bold","text-2xl","md:text-4xl"],["class","mb-3 md:mb-4",4,"ngFor","ngForOf"],[1,"mb-3","md:mb-4"],["class","border-l-4 border-green-500 pl-3 md:pl-4",4,"ngFor","ngForOf"],[1,"border-l-4","border-green-500","pl-3","md:pl-4"],[1,"font-semibold","text-base","md:text-lg","text-gray-900"],["class","text-green-600 font-medium text-sm md:text-base",4,"ngIf"],[1,"text-gray-700","mt-2","text-sm","md:text-base"],[1,"text-green-600","font-medium","text-sm","md:text-base"]],template:function(i,r){1&i&&(_(0,"div",3),pe(1,m0e,56,29,"ng-container",4),S(2,"async"),v()),2&i&&(y(),O("ngIf",D(2,1,r.aboutContent$)))},dependencies:[Is,Ii,Js,os,Yi]})}}return n})();function g0e(n,t){if(1&n){const e=st();_(0,"div",11),le("click",function(){const r=oe(e).$implicit;return re(L().viewBlogDetail(r.id))}),_(1,"div",12),fe(2,"img",13),S(3,"translate"),v(),_(4,"div",14)(5,"h3",15),x(6),S(7,"translate"),v(),_(8,"p",16),x(9),S(10,"translate"),v(),_(11,"div",17)(12,"div",18),je(),_(13,"svg",19),fe(14,"path",20)(15,"circle",21),v(),vt(),_(16,"span"),x(17),S(18,"translate"),v()(),_(19,"div",18),je(),_(20,"svg",19),fe(21,"circle",22)(22,"polyline",23),v(),vt(),_(23,"span"),x(24),v()()()()()}if(2&n){const e=t.$implicit;y(2),O("src",e.imageUrl,Lr)("alt",D(3,6,e.title)),y(4),ee(" ",D(7,8,e.title)," "),y(3),ee(" ",D(10,10,e.excerpt)," "),y(8),U(D(18,12,e.author)),y(7),U(e.readTime)}}function _0e(n,t){1&n&&(_(0,"div",24),x(1),S(2,"translate"),v()),2&n&&(y(),ee(" ",D(2,1,"BLOG.EMPTY")," "))}let v0e=(()=>{class n{constructor(e,i,r){this._router=e,this._blogService=i,this._translate=r}ngOnInit(){this.lang=this._translate.currentLang||this._translate.getDefaultLang()||"en",this.blogPosts$=this._translate.onLangChange.pipe(Le(e=>e.lang),Ja(this.lang)).pipe(St(e=>(this.lang=e,this._blogService.getBlogPosts(e))))}goBack(){this._router.navigate(["/"]).then(()=>{typeof window<"u"&&window&&window.scrollTo({top:0,behavior:"smooth"})})}goToSubscription(){this._router.navigate(["/subscription"])}viewBlogDetail(e){this._router.navigate(["/blog",e]).then(()=>{typeof window<"u"&&window&&window.scrollTo({top:0,behavior:"smooth"})})}static{this.\u0275fac=function(i){return new(i||n)(z(oi),z(tb),z(Si))}}static{this.\u0275cmp=on({type:n,selectors:[["app-blog"]],decls:19,vars:15,consts:[[1,"px-3","md:px-4","py-3","md:py-4","max-w-5xl","mx-auto"],[1,"mb-4","md:mb-6"],[1,"text-green-600","hover:text-green-700","p-0","h-auto","font-medium","flex","items-center","gap-1",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4"],["d","M15 19l-7-7 7-7"],[1,"mb-4","md:mb-6","text-center"],[1,"text-2xl","md:text-3xl","font-semibold","text-green-800","mb-2"],[1,"text-base","md:text-lg","text-green-700","mb-3","md:mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","md:gap-6"],["class","overflow-hidden bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","col-span-full text-center text-gray-500 py-8",4,"ngIf"],[1,"overflow-hidden","bg-white","rounded-xl","shadow","hover:shadow-lg","transition-shadow","cursor-pointer",3,"click"],[1,"aspect-video","overflow-hidden"],[1,"w-full","h-full","object-cover","hover:scale-105","transition-transform","duration-300",3,"src","alt"],[1,"p-3","md:p-4"],[1,"text-base","md:text-lg","font-semibold","line-clamp-2","text-green-800","mb-2"],[1,"text-gray-600","text-xs","md:text-sm","mb-3","md:mb-4","line-clamp-3"],[1,"flex","items-center","justify-between","text-xs","text-gray-500"],[1,"flex","items-center","gap-1"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-3","w-3"],["d","M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"col-span-full","text-center","text-gray-500","py-8"]],template:function(i,r){if(1&i&&(_(0,"div",0)(1,"div",1)(2,"button",2),le("click",function(){return r.goBack()}),je(),_(3,"svg",3),fe(4,"path",4),v(),x(5),S(6,"translate"),v()(),vt(),_(7,"div",5)(8,"h2",6),x(9),S(10,"translate"),v(),_(11,"p",7),x(12),S(13,"translate"),v()(),_(14,"div",8),pe(15,g0e,25,14,"div",9),S(16,"async"),pe(17,_0e,3,3,"div",10),S(18,"async"),v()()),2&i){let o;y(5),ee(" ",D(6,5,"BLOG.BACK")," "),y(4),ee(" ",D(10,7,"BLOG.TITLE")," "),y(3),ee(" ",D(13,9,"BLOG.SUBTITLE")," "),y(3),O("ngForOf",D(16,11,r.blogPosts$)),y(2),O("ngIf",0===(null==(o=D(18,13,r.blogPosts$))?null:o.length))}},dependencies:[Is,Ii,os,Yi]})}}return n})();function y0e(n,t){if(1&n&&(_(0,"article",8)(1,"div",9),fe(2,"img",10),S(3,"translate"),_(4,"h1",11),x(5),S(6,"translate"),v(),_(7,"div",12)(8,"div",13),je(),_(9,"svg",4),fe(10,"path",14)(11,"circle",15),v(),vt(),_(12,"span"),x(13),S(14,"translate"),v()(),_(15,"div",13),je(),_(16,"svg",4),fe(17,"circle",16)(18,"polyline",17),v(),vt(),_(19,"span"),x(20),v()(),_(21,"span"),x(22),S(23,"date"),v()()(),_(24,"div",18)(25,"div",19),x(26),v()()()),2&n){const e=t.ngIf;y(2),O("src",e.imageUrl,Lr)("alt",D(3,7,e.title)),y(3),ee(" ",D(6,9,e.title)," "),y(8),U(D(14,11,e.author)),y(7),U(e.readTime),y(2),U(Gl(23,13,e.date,"mediumDate")),y(4),ee(" ",e.fullContent," ")}}function b0e(n,t){1&n&&(_(0,"div",20)(1,"div",21),x(2),S(3,"translate"),v()()),2&n&&(y(2),U(D(3,1,"BLOG.LOADING_SINGLE")))}let w0e=(()=>{class n{constructor(e,i,r,o){this._route=e,this._router=i,this._blogService=r,this._translate=o}ngOnInit(){this.lang=this._translate.currentLang||this._translate.getDefaultLang()||"sr",this.blogPost$=nh([this._route.paramMap.pipe(Le(e=>e.get("id"))),this._translate.onLangChange.pipe(Le(e=>e.lang),Ja(this.lang))]).pipe(St(([e,i])=>(this.lang=i,e?this._blogService.getBlogPostById(Number(e)):qe(void 0))))}goBack(){this._router.navigate(["/blog"]).then(()=>{typeof window<"u"&&window&&window.scrollTo({top:0,behavior:"smooth"})})}static{this.\u0275fac=function(i){return new(i||n)(z(ic),z(oi),z(tb),z(Si))}}static{this.\u0275cmp=on({type:n,selectors:[["app-blog-detail"]],decls:12,vars:9,consts:[[1,"min-h-screen","bg-white"],[1,"sticky","top-0","bg-white","border-b","border-gray-200","z-10"],[1,"px-4","py-3"],[1,"text-green-600","hover:text-green-700","p-2","rounded-lg","hover:bg-green-50","transition-colors","flex","items-center","gap-2",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4"],["d","M15 19l-7-7 7-7"],["class","max-w-4xl mx-auto px-4 py-6",4,"ngIf"],["class","flex justify-center items-center min-h-screen",4,"ngIf"],[1,"max-w-4xl","mx-auto","px-4","py-6"],[1,"mb-6"],[1,"w-full","h-64","object-cover","rounded-lg","mb-6",3,"src","alt"],[1,"text-3xl","font-bold","text-gray-900","mb-4"],[1,"flex","items-center","gap-4","text-sm","text-gray-600","mb-6"],[1,"flex","items-center","gap-1"],["d","M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"prose","max-w-none"],[1,"text-gray-700","leading-relaxed","whitespace-pre-line","text-base"],[1,"flex","justify-center","items-center","min-h-screen"],[1,"text-gray-500"]],template:function(i,r){1&i&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),le("click",function(){return r.goBack()}),je(),_(4,"svg",4),fe(5,"path",5),v(),x(6),S(7,"translate"),v()()(),pe(8,y0e,27,16,"article",6),S(9,"async"),pe(10,b0e,4,3,"div",7),S(11,"async"),v()),2&i&&(y(6),ee(" ",D(7,3,"BLOG.BACK")," "),y(2),O("ngIf",D(9,5,r.blogPost$)),y(2),O("ngIf",!D(11,7,r.blogPost$)))},dependencies:[Ii,os,sv,Yi],styles:["[_nghost-%COMP%]{display:block}@media (max-width: 768px){article[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}h1[_ngcontent-%COMP%]{font-size:1.75rem}.meta-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}"]})}}return n})(),E0e=(()=>{class n{constructor(e,i,r){this._firestoreService=e,this._loadingService=i,this._translateService=r}getTips(){return this._loadingService.showWithMessage(this._translateService.instant("TIPS.LOADING")),this._firestoreService.getTips().pipe(vn(()=>{this._loadingService.hide()}))}static{this.\u0275fac=function(i){return new(i||n)(G(Jy),G($u),G(Si))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function I0e(n,t){1&n&&(je(),_(0,"svg",15),fe(1,"path",16),v())}function x0e(n,t){1&n&&(je(),_(0,"svg",15),fe(1,"path",17)(2,"path",18)(3,"path",19)(4,"path",20)(5,"path",21)(6,"path",22)(7,"path",23)(8,"path",24),v())}function C0e(n,t){1&n&&(je(),_(0,"svg",15),fe(1,"circle",25)(2,"path",26)(3,"path",27)(4,"path",28),v())}function T0e(n,t){1&n&&(je(),_(0,"svg",15),fe(1,"path",29)(2,"path",30)(3,"path",31),v())}function A0e(n,t){if(1&n&&(_(0,"div",9)(1,"div",10),ti(2,11),pe(3,I0e,2,0,"svg",12)(4,x0e,9,0,"svg",12)(5,C0e,5,0,"svg",12)(6,T0e,4,0,"svg",12),ni(),v(),_(7,"div")(8,"h3",13),x(9),S(10,"translate"),v(),_(11,"p",14),x(12),S(13,"translate"),v()()()),2&n){const e=t.$implicit;y(),O("ngClass",e.color),y(),O("ngSwitch",e.icon),y(),O("ngSwitchCase","heart"),y(),O("ngSwitchCase","brain"),y(),O("ngSwitchCase","smile"),y(),O("ngSwitchCase","lightbulb"),y(3),ee(" ",D(10,8,e.title)," "),y(3),ee(" ",D(13,10,e.description)," ")}}function S0e(n,t){1&n&&(_(0,"div",32),x(1),S(2,"translate"),v()),2&n&&(y(),ee(" ",D(2,1,"TIPS.EMPTY")," "))}let D0e=(()=>{class n{constructor(e,i,r,o){this._router=e,this._http=i,this._languageService=r,this._tipsService=o}ngOnInit(){this.tips$=this._tipsService.getTips()}goBack(){this._router.navigate(["/"]).then(()=>{window.scrollTo({top:0,behavior:"smooth"})})}static{this.\u0275fac=function(i){return new(i||n)(z(oi),z(tc),z(Hp),z(E0e))}}static{this.\u0275cmp=on({type:n,selectors:[["app-tips"]],decls:16,vars:15,consts:[[1,"px-3","md:px-4","py-3","md:py-4","max-w-4xl","mx-auto"],[1,"mb-4","md:mb-6"],[3,"back","label"],[1,"mb-4","md:mb-6","text-center"],[1,"text-2xl","md:text-3xl","font-semibold","text-green-800","mb-2"],[1,"text-base","md:text-lg","text-green-700","mb-3","md:mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3","md:gap-4"],["class","bg-white rounded-xl shadow hover:shadow-md transition-shadow p-4 md:p-6 flex items-start gap-3 md:gap-4",4,"ngFor","ngForOf"],["class","col-span-full text-center text-gray-500 py-8",4,"ngIf"],[1,"bg-white","rounded-xl","shadow","hover:shadow-md","transition-shadow","p-4","md:p-6","flex","items-start","gap-3","md:gap-4"],[1,"w-8","h-8","md:w-10","md:h-10","rounded-lg","flex","items-center","justify-center","shadow","flex-shrink-0",3,"ngClass"],[3,"ngSwitch"],["class","h-4 w-4 md:h-5 md:w-5","fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",4,"ngSwitchCase"],[1,"text-base","md:text-lg","font-semibold","text-green-800","mb-1"],[1,"text-gray-600","text-xs","md:text-sm","leading-relaxed"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4","md:h-5","md:w-5"],["d","M19.5 13.5 12 21l-7.5-7.5a5.25 5.25 0 0 1 7.5-7.5 5.25 5.25 0 0 1 7.5 7.5Z"],["d","M15 4a2 2 0 0 1 2 2"],["d","M9 4a2 2 0 0 0-2 2"],["d","M7 8V6a5 5 0 0 1 10 0v2"],["d","M17 8a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2"],["d","M7 8a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2"],["d","M7 12v2a5 5 0 0 0 10 0v-2"],["d","M9 18a2 2 0 0 0 2 2"],["d","M15 18a2 2 0 0 1-2 2"],["cx","12","cy","12","r","10"],["d","M8 15s1.5 2 4 2 4-2 4-2"],["d","M9 9h.01"],["d","M15 9h.01"],["d","M9 18h6"],["d","M10 22h4"],["d","M12 2a7 7 0 0 0-7 7c0 3.87 3.13 7 7 7s7-3.13 7-7a7 7 0 0 0-7-7z"],[1,"col-span-full","text-center","text-gray-500","py-8"]],template:function(i,r){if(1&i&&(_(0,"div",0)(1,"div",1)(2,"app-back-button",2),S(3,"translate"),le("back",function(){return r.goBack()}),v()(),_(4,"div",3)(5,"h2",4),x(6),S(7,"translate"),v(),_(8,"p",5),x(9),S(10,"translate"),v()(),_(11,"div",6),pe(12,A0e,14,12,"div",7),S(13,"async"),pe(14,S0e,3,3,"div",8),S(15,"async"),v()()),2&i){let o;y(2),O("label",D(3,5,"TIPS.BACK")),y(4),ee(" ",D(7,7,"TIPS.QUICK_TITLE")," "),y(3),ee(" ",D(10,9,"TIPS.QUICK_SUBTITLE")," "),y(3),O("ngForOf",D(13,11,r.tips$)),y(2),O("ngIf",0===(null==(o=D(15,13,r.tips$))?null:o.length))}},dependencies:[au,Is,Ii,ov,Z1,Js,os,Yi]})}}return n})(),Yx=(()=>{class n{constructor(e,i){this._storage=e,this._auth=i}uploadImage(e,i){return Yt(this._auth.currentUser).pipe(St(r=>{if(!r)return Xa(()=>new Error("User not authenticated"));const o=`${Date.now()}_${e.name}`,s=`${i}${o}`,a=this._storage.ref(s);return Yt(this._storage.upload(s,e)).pipe(St(()=>a.getDownloadURL()),xi(l=>(console.error("Upload error:",l),"storage/unauthorized"===l.code?i.startsWith("admin-uploads/")?Xa(()=>new Error("You do not have admin permissions to upload images. Please ensure you are logged in as an admin user.")):Xa(()=>new Error("You do not have permission to upload images. Please ensure you are logged in.")):Xa("storage/retry-limit-exceeded"===l.code?()=>new Error("Upload failed due to network issues. Please check your connection and try again."):()=>new Error("Upload failed. Please try again.")))))}))}uploadImageFromUrl(e,i){return Yt(globalThis.fetch(e)).pipe(St(r=>r.blob()),St(r=>{const o=new globalThis.File([r],`image_${Date.now()}.jpg`,{type:"image/jpeg"});return this.uploadImage(o,i)}))}deleteImage(e){return Yt(this._storage.refFromURL(e).delete())}isValidImage(e){return["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type)&&e.size<=5242880}formatFileSize(e){if(0===e)return"0 Bytes";const o=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,o)).toFixed(2))+" "+["Bytes","KB","MB","GB"][o]}static{this.\u0275fac=function(i){return new(i||n)(G(JH),G(Wv))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function M0e(n,t){1&n&&fe(0,"img",23),2&n&&O("src",L(2).imagePreview,Lr)}function R0e(n,t){1&n&&(je(),_(0,"svg",24),fe(1,"path",25)(2,"circle",26),v())}function P0e(n,t){1&n&&(_(0,"div",27),fe(1,"div",28),v())}function k0e(n,t){1&n&&(_(0,"div",29),x(1),S(2,"translate"),v()),2&n&&(y(),ee(" ",D(2,1,"PROFILE.UPLOADING_IMAGE")," "))}function O0e(n,t){1&n&&(_(0,"div",30),x(1),S(2,"translate"),v()),2&n&&(y(),U(D(2,1,"PROFILE.ERROR_NAME_REQUIRED")))}function N0e(n,t){if(1&n){const e=st();_(0,"div",2)(1,"div",3)(2,"button",4),le("click",function(){return oe(e),re(L().onClose())}),_(3,"span",5),x(4,"\xd7"),v()(),_(5,"h2",6),x(6),S(7,"translate"),v(),_(8,"form",7),le("ngSubmit",function(r){return oe(e),re(L().onSave(r))}),_(9,"div",8)(10,"div",9),pe(11,M0e,1,1,"img",10)(12,R0e,3,0,"ng-template",null,0,Ar)(14,P0e,2,0,"div",11),v(),_(15,"div",12)(16,"label",13),x(17),S(18,"translate"),_(19,"input",14),le("change",function(r){return oe(e),re(L().onAvatarChange(r))}),v()(),_(20,"button",15),le("click",function(){return oe(e),re(L().removeAvatar())}),x(21),S(22,"translate"),v()(),pe(23,k0e,3,3,"div",16),v(),_(24,"div")(25,"label",17),x(26),S(27,"translate"),v(),_(28,"input",18),S(29,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L();return Mn(o.displayName,r)||(o.displayName=r),re(r)}),v(),pe(30,O0e,3,3,"div",19),v(),_(31,"div",20)(32,"button",21),le("click",function(){return oe(e),re(L().onClose())}),x(33),S(34,"translate"),v(),_(35,"button",22),x(36),S(37,"translate"),v()()()()()}if(2&n){const e=Ki(13),i=L();y(6),ee(" ",D(7,19,"PROFILE.EDIT_TITLE")," "),y(5),O("ngIf",i.imagePreview)("ngIfElse",e),y(3),O("ngIf",i.isUploadingImage),y(2),_r("opacity-50",i.isUploadingImage),y(),ee(" ",D(18,21,"PROFILE.CHANGE_AVATAR")," "),y(2),O("disabled",i.isUploadingImage),y(),O("disabled",i.isUploadingImage),y(),ee(" ",D(22,23,"PROFILE.REMOVE_AVATAR")," "),y(2),O("ngIf",i.isUploadingImage),y(3),U(D(27,25,"PROFILE.NAME")),y(2),is("placeholder",D(29,27,"PROFILE.NAME_PLACEHOLDER")),xn("ngModel",i.displayName),y(2),O("ngIf",!i.displayName),y(2),O("disabled",i.isUploadingImage),y(),U(D(34,29,"COMMON.CANCEL")),y(2),O("disabled",!i.displayName||i.isUploadingImage),y(),U(D(37,31,"COMMON.SAVE"))}}let F0e=(()=>{class n{constructor(e,i){this._imageUploadService=e,this._translate=i,this.isOpen=!1,this.user=null,this.close=new Qt,this.save=new Qt,this.error=new Qt,this.displayName="",this.avatarUrl=null,this.avatarFile=null,this.isUploadingImage=!1,this.imagePreview=null}ngOnChanges(){this.user&&(this.displayName=this.user.displayName,this.avatarUrl=this.user.avatarUrl||null,this.imagePreview=this.user.avatarUrl||null)}onAvatarChange(e){const i=e.target;if(i.files&&i.files[0]){const r=i.files[0];if(!this._imageUploadService.isValidImage(r))return void this.error.emit(this._translate.instant("PROFILE.ERROR_INVALID_IMAGE"));this.avatarFile=r,this.uploadImage(r)}}uploadImage(e){this.isUploadingImage=!0,this._imageUploadService.uploadImage(e,"profile-avatars/").subscribe({next:i=>{this.avatarUrl=i,this.imagePreview=i,this.isUploadingImage=!1},error:i=>{console.error("Error uploading image:",i),this.isUploadingImage=!1,this.error.emit(i.message||this._translate.instant("PROFILE.ERROR_UPLOAD_FAILED"))}})}removeAvatar(){this.avatarUrl=null,this.avatarFile=null,this.imagePreview=null}onSave(e){e.preventDefault(),this.save.emit({displayName:this.displayName,avatarUrl:this.avatarUrl})}onClose(){this.close.emit()}static{this.\u0275fac=function(i){return new(i||n)(z(Yx),z(Si))}}static{this.\u0275cmp=on({type:n,selectors:[["app-edit-profile-modal"]],inputs:{isOpen:"isOpen",user:"user"},outputs:{close:"close",save:"save",error:"error"},features:[Or],decls:1,vars:1,consts:[["defaultAvatar",""],["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50","p-4"],[1,"bg-white","rounded-lg","w-full","max-w-md","p-6","relative","shadow-lg"],["type","button",1,"absolute","top-3","right-3","p-1","rounded-full","hover:bg-gray-100","focus:outline-none",3,"click"],["aria-hidden","true"],[1,"text-xl","font-bold","text-gray-900","mb-6","text-center"],["autocomplete","off",1,"space-y-4",3,"ngSubmit"],[1,"flex","flex-col","items-center","gap-2","mb-4"],[1,"w-20","h-20","rounded-full","bg-gray-100","flex","items-center","justify-center","overflow-hidden","border","border-gray-300","relative"],["alt","avatar","class","w-full h-full object-cover",3,"src",4,"ngIf","ngIfElse"],["class","absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-full",4,"ngIf"],[1,"flex","gap-2","mt-2"],[1,"cursor-pointer","text-green-600","hover:underline","text-sm"],["type","file","accept","image/*",1,"hidden",3,"change","disabled"],["type","button",1,"text-red-500","hover:underline","text-sm",3,"click","disabled"],["class","text-sm text-gray-600",4,"ngIf"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","name","displayName","required","",1,"w-full","pl-3","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent",3,"ngModelChange","ngModel","placeholder"],["class","text-red-500 text-xs mt-1",4,"ngIf"],[1,"flex","justify-end","gap-2","mt-6"],["type","button",1,"px-4","py-2","rounded-lg","border","border-gray-300","text-gray-700","hover:bg-gray-100",3,"click","disabled"],["type","submit",1,"px-4","py-2","rounded-lg","bg-green-600","text-white","font-semibold","hover:bg-green-700",3,"disabled"],["alt","avatar",1,"w-full","h-full","object-cover",3,"src"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-10","w-10","text-gray-400"],["d","M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"absolute","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","rounded-full"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-white"],[1,"text-sm","text-gray-600"],[1,"text-red-500","text-xs","mt-1"]],template:function(i,r){1&i&&pe(0,N0e,38,33,"div",1),2&i&&O("ngIf",r.isOpen)},dependencies:[Ii,bu,Ks,rl,yu,wu,Ca,rc,Yi],styles:["[_nghost-%COMP%]     .modal-overlay{background:#00000080}.avatar-preview[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:9999px;object-fit:cover;border:1px solid #e5e7eb}"]})}}return n})();const L0e=(n,t)=>({"text-green-600":n,"text-gray-600":t});function V0e(n,t){1&n&&(_(0,"div",12),fe(1,"div",13),v())}function U0e(n,t){if(1&n&&(_(0,"div",14)(1,"div",15),je(),_(2,"svg",16),fe(3,"path",17),v(),x(4),v()()),2&n){const e=L();y(4),ee(" ",e.successMessage," ")}}function B0e(n,t){if(1&n&&fe(0,"img",62),2&n){const e=L().ngIf;O("src",e.avatarUrl,Lr)("alt",e.displayName)}}function j0e(n,t){1&n&&(_(0,"div",63),je(),_(1,"svg",64),fe(2,"path",65),v()())}function z0e(n,t){if(1&n&&(_(0,"span"),x(1),S(2,"translate"),S(3,"date"),v()),2&n){const e=L(3).ngIf;y(),rs(" - ",D(2,2,"PROFILE.EXPIRES_ON")," ",Gl(3,4,e.subscription.endDate,"mediumDate")," ")}}function H0e(n,t){if(1&n&&(_(0,"div"),x(1),S(2,"translate"),pe(3,z0e,4,7,"span",37),v()),2&n){const e=L(2).ngIf;y(),ee(" ",D(2,2,"PROFILE.SUBSCRIPTION_ACTIVE")," "),y(2),O("ngIf",e.subscription.endDate)}}function $0e(n,t){if(1&n&&(_(0,"span"),x(1),S(2,"translate"),S(3,"date"),v()),2&n){const e=L(3).ngIf;y(),rs(" - ",D(2,2,"PROFILE.EXPIRES_ON")," ",Gl(3,4,e.subscription.endDate,"mediumDate")," ")}}function G0e(n,t){if(1&n&&(_(0,"div"),x(1),S(2,"translate"),pe(3,$0e,4,7,"span",37),v()),2&n){const e=L(2).ngIf;y(),ee(" ",D(2,2,"PROFILE.SUBSCRIPTION_TRIAL")," "),y(2),O("ngIf",e.subscription.endDate)}}function q0e(n,t){1&n&&(_(0,"div"),x(1),S(2,"translate"),v()),2&n&&(y(),ee(" ",D(2,1,"PROFILE.SUBSCRIPTION_EXPIRED")," "))}function W0e(n,t){if(1&n&&(ti(0),pe(1,H0e,4,4,"div",37)(2,G0e,4,4,"div",37)(3,q0e,3,3,"div",37),ni()),2&n){const e=L().ngIf;y(),O("ngIf","active"===e.subscription.status),y(),O("ngIf","trial"===e.subscription.status),y(),O("ngIf","expired"===e.subscription.status)}}function K0e(n,t){1&n&&(_(0,"div"),x(1),S(2,"translate"),v()),2&n&&(y(),ee(" ",D(2,1,"PROFILE.NO_SUBSCRIPTION")," "))}function Q0e(n,t){if(1&n){const e=st();_(0,"button",66),le("click",function(){return oe(e),re(L(2).navigateToSubscribe())}),x(1),S(2,"translate"),v()}2&n&&(y(),ee(" ",D(2,1,"PROFILE.UPGRADE_BUTTON")," "))}function Y0e(n,t){if(1&n){const e=st();_(0,"button",67),le("click",function(){return oe(e),re(L(2).manageSubscription())}),x(1),S(2,"translate"),v()}2&n&&(y(),ee(" ",D(2,1,"PROFILE.MANAGE_BUTTON")," "))}function Z0e(n,t){if(1&n){const e=st();_(0,"button",68),le("click",function(){return oe(e),re(L(2).cancelSubscription())}),x(1),S(2,"translate"),v()}2&n&&(y(),ee(" ",D(2,1,"PROFILE.CANCEL_BUTTON")," "))}function X0e(n,t){if(1&n){const e=st();_(0,"button",69),le("click",function(){return oe(e),re(L(2).renewSubscription())}),x(1),S(2,"translate"),v()}2&n&&(y(),ee(" ",D(2,1,"PROFILE.RENEW_BUTTON")," "))}function J0e(n,t){if(1&n){const e=st();_(0,"button",70),le("click",function(){return oe(e),re(L(2).onUnsubscribe())}),_(1,"div",45)(2,"div",15),je(),_(3,"svg",71),fe(4,"path",72),v(),vt(),_(5,"span",73),x(6),S(7,"translate"),v()(),je(),_(8,"svg",74),fe(9,"path",49),v()()()}2&n&&(y(6),U(D(7,1,"PROFILE.UNSUBSCRIBE")))}function ewe(n,t){if(1&n){const e=st();ti(0),_(1,"div",18)(2,"div",19)(3,"div",20),pe(4,B0e,1,2,"img",21)(5,j0e,3,0,"ng-template",null,1,Ar),v(),_(7,"div",22)(8,"h2",23),x(9),v(),_(10,"p",24),x(11),v(),_(12,"p",25),x(13),S(14,"translate"),S(15,"date"),v()()(),_(16,"div",26)(17,"div",27)(18,"h3",28),x(19),S(20,"translate"),v(),_(21,"div",29)(22,"div")(23,"label",30),x(24),S(25,"translate"),v(),_(26,"p",31),x(27),v()(),_(28,"div")(29,"label",30),x(30),S(31,"translate"),v(),_(32,"p",31),x(33),v()()()(),_(34,"div",27)(35,"h3",28),x(36),S(37,"translate"),v(),_(38,"div",32)(39,"div",33)(40,"span",34),x(41),S(42,"translate"),v(),_(43,"span",35),x(44),S(45,"translate"),S(46,"translate"),S(47,"translate"),v()(),_(48,"div",36),pe(49,W0e,4,3,"ng-container",37)(50,K0e,3,3,"div",37),v(),_(51,"div",38),pe(52,Q0e,3,3,"button",39)(53,Y0e,3,3,"button",40)(54,Z0e,3,3,"button",41)(55,X0e,3,3,"button",42),v()()(),_(56,"div",27)(57,"h3",28),x(58),S(59,"translate"),v(),_(60,"div",43)(61,"button",44),le("click",function(){return oe(e),re(L().openEditProfile())}),_(62,"div",45)(63,"div",15),je(),_(64,"svg",46),fe(65,"path",47),v(),vt(),_(66,"span"),x(67),S(68,"translate"),v()(),je(),_(69,"svg",48),fe(70,"path",49),v()()(),vt(),_(71,"button",50),le("click",function(){return oe(e),re(L().onResetPassword())}),_(72,"div",45)(73,"div",15),je(),_(74,"svg",51),fe(75,"path",52),v(),vt(),_(76,"span",53),x(77),S(78,"translate"),v()(),je(),_(79,"svg",54),fe(80,"path",49),v()()(),pe(81,J0e,10,3,"button",55),vt(),_(82,"button",56),le("click",function(){return oe(e),re(L().onDeleteProfile())}),_(83,"div",45)(84,"div",15),je(),_(85,"svg",57),fe(86,"path",58),v(),vt(),_(87,"span",59),x(88),S(89,"translate"),v()(),je(),_(90,"svg",60),fe(91,"path",49),v()()(),vt(),_(92,"button",56),le("click",function(){return oe(e),re(L().onLogout())}),_(93,"div",45)(94,"div",15),je(),_(95,"svg",57),fe(96,"path",61),v(),vt(),_(97,"span",59),x(98),S(99,"translate"),v()(),je(),_(100,"svg",60),fe(101,"path",49),v()()()()()()(),ni()}if(2&n){const e=t.ngIf,i=Ki(6),r=L();y(4),O("ngIf",e.avatarUrl)("ngIfElse",i),y(5),U(e.displayName),y(2),U(e.email),y(2),rs(" ",D(14,27,"PROFILE.MEMBER_SINCE"),": ",Gl(15,29,e.createdAt,"mediumDate")," "),y(6),U(D(20,32,"PROFILE.PERSONAL_INFO")),y(5),ee(" ",D(25,34,"PROFILE.DISPLAY_NAME")," "),y(3),U(e.displayName),y(3),ee(" ",D(31,36,"PROFILE.EMAIL")," "),y(3),U(e.email),y(3),U(D(37,38,"PROFILE.SUBSCRIPTION_TITLE")),y(5),ee("",D(42,40,"PROFILE.CURRENT_PLAN"),":"),y(2),O("ngClass",function oV(n,t,e,i,r){return aV(Ae(),Nr(),n,t,e,i,r)}(58,L0e,e.role===r.UserRole.SUBSCRIBER||e.role===r.UserRole.ADMIN,e.role===r.UserRole.FREE_USER)),y(),ee(" ",e.role===r.UserRole.ADMIN?D(45,42,"PROFILE.PLAN_PREMIUM"):e.role===r.UserRole.SUBSCRIBER?D(46,44,"PROFILE.PLAN_PREMIUM"):D(47,46,"PROFILE.PLAN_FREE")," "),y(5),O("ngIf",e.subscription),y(),O("ngIf",!e.subscription),y(2),O("ngIf",e.role===r.UserRole.FREE_USER),y(),O("ngIf",e.role===r.UserRole.SUBSCRIBER&&"active"===(null==e.subscription?null:e.subscription.status)),y(),O("ngIf",e.role===r.UserRole.SUBSCRIBER&&"active"===(null==e.subscription?null:e.subscription.status)),y(),O("ngIf","expired"===(null==e.subscription?null:e.subscription.status)),y(3),U(D(59,48,"PROFILE.ACCOUNT_ACTIONS")),y(9),U(D(68,50,"PROFILE.EDIT_PROFILE")),y(10),U(D(78,52,"AUTH.RESET_PASSWORD")),y(4),O("ngIf",e.role===r.UserRole.SUBSCRIBER||e.role===r.UserRole.ADMIN),y(7),U(D(89,54,"PROFILE.DELETE_PROFILE")),y(10),U(D(99,56,"USERCARD.LOGOUT"))}}function twe(n,t){1&n&&(_(0,"div",75)(1,"p",24),x(2),S(3,"translate"),v()()),2&n&&(y(2),U(D(3,1,"PROFILE.NO_USER")))}function nwe(n,t){1&n&&(_(0,"span"),x(1),S(2,"translate"),v()),2&n&&(y(),U(D(2,1,"PROFILE.DELETE_PROFILE_CONFIRM")))}function iwe(n,t){1&n&&(_(0,"span",15),fe(1,"div",92),x(2),S(3,"translate"),v()),2&n&&(y(2),ee(" ",D(3,1,"PROFILE.DELETE_PROFILE_CONFIRM")," "))}function rwe(n,t){if(1&n){const e=st();_(0,"div",76)(1,"div",77)(2,"div",78)(3,"div",79),je(),_(4,"svg",80),fe(5,"path",81),v()(),vt(),_(6,"div",82)(7,"h3",83),x(8),S(9,"translate"),v()()(),_(10,"div",84)(11,"p",85),x(12),S(13,"translate"),v(),_(14,"p",86),x(15),S(16,"translate"),v(),_(17,"div")(18,"label",30),x(19),S(20,"translate"),v(),_(21,"input",87),S(22,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L();return Mn(o.deleteProfilePassword,r)||(o.deleteProfilePassword=r),re(r)}),le("input",function(r){return oe(e),re(L().onDeleteProfilePasswordChange(r))}),v()()(),_(23,"div",88)(24,"button",89),le("click",function(){return oe(e),re(L().closeDeleteProfileModal())}),x(25),S(26,"translate"),v(),_(27,"button",90),le("click",function(){return oe(e),re(L().confirmDeleteProfile())}),pe(28,nwe,3,3,"span",37)(29,iwe,4,3,"span",91),v()()()()}if(2&n){const e=L();y(8),U(D(9,12,"PROFILE.DELETE_PROFILE_TITLE")),y(4),U(D(13,14,"PROFILE.DELETE_PROFILE_CONFIRMATION")),y(3),U(D(16,16,"PROFILE.DELETE_PROFILE_WARNING")),y(4),ee(" ",D(20,18,"PROFILE.DELETE_PROFILE_PASSWORD")," "),y(2),xn("ngModel",e.deleteProfilePassword),O("placeholder",D(22,20,"PROFILE.DELETE_PROFILE_PASSWORD_PLACEHOLDER"))("disabled",e.deleteProfileLoading),y(3),O("disabled",e.deleteProfileLoading),y(),ee(" ",D(26,22,"PROFILE.DELETE_PROFILE_CANCEL")," "),y(2),O("disabled",!e.deleteProfilePassword||e.deleteProfileLoading),y(),O("ngIf",!e.deleteProfileLoading),y(),O("ngIf",e.deleteProfileLoading)}}function owe(n,t){1&n&&(_(0,"span"),x(1),S(2,"translate"),v()),2&n&&(y(),U(D(2,1,"PROFILE.UNSUBSCRIBE")))}function swe(n,t){1&n&&(_(0,"span",15),fe(1,"div",92),x(2),S(3,"translate"),v()),2&n&&(y(2),ee(" ",D(3,1,"PROFILE.UNSUBSCRIBE")," "))}function awe(n,t){if(1&n){const e=st();_(0,"div",76)(1,"div",77)(2,"div",78)(3,"div",79),je(),_(4,"svg",93),fe(5,"path",81),v()(),vt(),_(6,"div",82)(7,"h3",83),x(8),S(9,"translate"),v()()(),_(10,"div",84)(11,"p",85),x(12),S(13,"translate"),v(),_(14,"p",94),x(15),S(16,"translate"),v()(),_(17,"div",88)(18,"button",89),le("click",function(){return oe(e),re(L().closeUnsubscribeModal())}),x(19),S(20,"translate"),v(),_(21,"button",95),le("click",function(){return oe(e),re(L().confirmUnsubscribe())}),pe(22,owe,3,3,"span",37)(23,swe,4,3,"span",91),v()()()()}if(2&n){const e=L();y(8),U(D(9,8,"PROFILE.UNSUBSCRIBE")),y(4),U(D(13,10,"PROFILE.UNSUBSCRIBE_CONFIRMATION")),y(3),U(D(16,12,"PROFILE.UNSUBSCRIBE_WARNING")),y(3),O("disabled",e.unsubscribeLoading),y(),ee(" ",D(20,14,"PROFILE.DELETE_PROFILE_CANCEL")," "),y(2),O("disabled",e.unsubscribeLoading),y(),O("ngIf",!e.unsubscribeLoading),y(),O("ngIf",e.unsubscribeLoading)}}function lwe(n,t){if(1&n){const e=st();_(0,"div",76)(1,"div",77)(2,"div",78)(3,"div",79),je(),_(4,"svg",80),fe(5,"path",81),v()(),vt(),_(6,"div",82)(7,"h3",83),x(8),v()()(),_(9,"div",84)(10,"p",96),x(11),v()(),_(12,"div",97)(13,"button",98),le("click",function(){return oe(e),re(L().closeErrorModal())}),x(14),S(15,"translate"),v()()()()}if(2&n){const e=L();y(8),U(e.errorTitle),y(3),U(e.errorMessage),y(3),ee(" ",D(15,3,"PROFILE.CLOSE")," ")}}let cwe=(()=>{class n{constructor(e,i,r,o){this._router=e,this._auth=i,this._userService=r,this._translate=o,this.UserRole=vi,this.userProfile$=qe(null),this.isLoading=!0,this.isChangingPassword=!1,this.passwordChangeError=null,this.showEditProfileModal=!1,this.showChangePasswordModal=!1,this.showResetPasswordModal=!1,this.showDeleteProfileModal=!1,this.selectedUser=null,this.resetLoading=!1,this.resetError=null,this.resetSuccess=!1,this.deleteProfilePassword="",this.deleteProfileLoading=!1,this.deleteProfileError=null,this.showUnsubscribeModal=!1,this.unsubscribeLoading=!1,this.showErrorModal=!1,this.errorMessage="",this.errorTitle="",this.showSuccessMessage=!1,this.successMessage=""}ngOnInit(){this.userProfile$=this._auth.user$.pipe(St(e=>e?this._userService.getUserProfile(e.uid):(this._router.navigate(["/"]),qe(null)))),this.userProfile$.subscribe(e=>{this.isLoading=!1,this.selectedUser=e})}goBack(){this._router.navigate(["/"])}onLogout(){this._auth.signOut(),this._router.navigate(["/"])}navigateToSubscribe(){this._router.navigate(["/subscribe"])}manageSubscription(){console.log("Manage subscription clicked"),this.showSuccess("Subscription management coming soon!")}cancelSubscription(){console.log("Cancel subscription clicked"),this.showSuccess("Subscription cancellation coming soon!")}renewSubscription(){console.log("Renew subscription clicked"),this.showSuccess("Subscription renewal coming soon!")}onUnsubscribe(){this.showUnsubscribeModal=!0}confirmUnsubscribe(){var e=this;return(0,ve.A)(function*(){if(e.selectedUser){e.unsubscribeLoading=!0;try{console.log("Unsubscribing user:",e.selectedUser.uid),yield new Promise(i=>setTimeout(i,1e3)),e.closeUnsubscribeModal(),e.showSuccess(e._translate.instant("PROFILE.UNSUBSCRIBE_SUCCESS"))}catch(i){console.error("Error unsubscribing:",i);const r=i.message||e._translate.instant("PROFILE.ERROR_UPDATE_MESSAGE");e.showError(e._translate.instant("PROFILE.ERROR_UPDATE_TITLE"),r)}finally{e.unsubscribeLoading=!1}}})()}closeUnsubscribeModal(){this.showUnsubscribeModal=!1}openEditProfile(){this.showEditProfileModal=!0}onResetPassword(){this.resetError=null,this.resetSuccess=!1,this.showResetPasswordModal=!0}onDeleteProfile(){this.deleteProfilePassword="",this.deleteProfileError=null,this.showDeleteProfileModal=!0}onDeleteProfilePasswordChange(e){this.deleteProfilePassword=e.target.value}confirmDeleteProfile(){var e=this;return(0,ve.A)(function*(){if(e.selectedUser&&e.deleteProfilePassword){e.deleteProfileLoading=!0,e.deleteProfileError=null;try{const i=yield e._auth.getCurrentUser();if(!i||!i.email)throw new Error(e._translate.instant("PROFILE.ERROR_NO_EMAIL"));yield e._auth.signIn(i.email,e.deleteProfilePassword),yield e._userService.deleteOwnProfile({password:e.deleteProfilePassword}).toPromise(),yield e._auth.signOut(),e._router.navigate(["/"])}catch(i){console.error("Error deleting profile:",i),e.deleteProfileError=i.message||e._translate.instant("PROFILE.DELETE_PROFILE_ERROR"),e.showError(e._translate.instant("PROFILE.ERROR_UPDATE_TITLE"),e.deleteProfileError||e._translate.instant("PROFILE.DELETE_PROFILE_ERROR"))}finally{e.deleteProfileLoading=!1}}})()}closeDeleteProfileModal(){this.showDeleteProfileModal=!1,this.deleteProfilePassword="",this.deleteProfileError=null}onSendResetPassword(e){var i=this;return(0,ve.A)(function*(){i.resetLoading=!0,i.resetError=null;try{yield i._auth.sendPasswordResetEmail(e),i.resetSuccess=!0}catch(r){console.error("Password reset email error:",r),i.resetError=r.message||i._translate.instant("PROFILE.ERROR_RESET_PASSWORD")}finally{i.resetLoading=!1}})()}onCloseResetPassword(){this.showResetPasswordModal=!1,this.resetSuccess=!1}closeEditProfile(){this.showEditProfileModal=!1}closeChangePassword(){this.showChangePasswordModal=!1,this.passwordChangeError=null}onSaveProfile(e){var i=this;return(0,ve.A)(function*(){if(i.selectedUser)try{const r={displayName:e.displayName,updatedAt:(new Date).toISOString()};e.avatarUrl&&(r.avatarUrl=e.avatarUrl),yield i._userService.setUserProfile({...i.selectedUser,...r});const o=yield i._auth.getCurrentUser();if(o){let s=null,a=!1;e.avatarUrl&&(e.avatarUrl.length<2e3?s=e.avatarUrl:(console.warn("Avatar URL too long for Firebase Auth, storing only in Firestore"),a=!0)),yield o.updateProfile({displayName:e.displayName,photoURL:s})}i.selectedUser={...i.selectedUser,...r},i.closeEditProfile(),i.showSuccess(i._translate.instant(e.avatarUrl&&e.avatarUrl.length>=2e3?"PROFILE.SUCCESS_UPDATE_AVATAR_LIMIT":"PROFILE.SUCCESS_UPDATE"))}catch(r){console.error("Error updating profile:",r);const o=r.message||i._translate.instant("PROFILE.ERROR_UPDATE_MESSAGE");i.showError(i._translate.instant("PROFILE.ERROR_UPDATE_TITLE"),o)}})()}showError(e,i){this.errorTitle=e,this.errorMessage=i,this.showErrorModal=!0}showSuccess(e){this.successMessage=e,this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},5e3)}closeErrorModal(){this.showErrorModal=!1,this.errorTitle="",this.errorMessage=""}static{this.\u0275fac=function(i){return new(i||n)(z(oi),z(Aa),z(_l),z(Si))}}static{this.\u0275cmp=on({type:n,selectors:[["app-profile"]],decls:18,vars:23,consts:[["noUser",""],["defaultAvatar",""],[1,"max-w-2xl","mx-auto","px-4","py-6"],[1,"flex","items-center","justify-between","mb-6"],[3,"back","label"],[1,"text-2xl","font-bold","text-green-800"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","fixed top-4 right-4 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"close","save","error","isOpen","user"],[3,"close","send","isOpen","email","isLoading","errorMessage","success","disableEmail"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],[1,"flex","justify-center","items-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-green-600"],[1,"fixed","top-4","right-4","z-50","bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","shadow-lg"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","mr-2"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[1,"flex","items-center","mb-6"],[1,"relative"],["class","w-20 h-20 rounded-full border-4 border-green-200 object-cover",3,"src","alt",4,"ngIf","ngIfElse"],[1,"ml-4"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-600"],[1,"text-sm","text-gray-500"],[1,"space-y-4"],[1,"border-t","pt-4"],[1,"text-lg","font-medium","text-gray-900","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"text-gray-900"],[1,"bg-gray-50","rounded-lg","p-4","mb-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-sm","font-semibold",3,"ngClass"],[1,"text-xs","text-gray-500","mb-3"],[4,"ngIf"],[1,"flex","flex-wrap","gap-2"],["class","bg-teal-500 hover:bg-teal-600 text-white text-xs px-3 py-1 rounded-md transition-colors",3,"click",4,"ngIf"],["class","bg-blue-500 hover:bg-blue-600 text-white text-xs px-3 py-1 rounded-md transition-colors",3,"click",4,"ngIf"],["class","bg-red-500 hover:bg-red-600 text-white text-xs px-3 py-1 rounded-md transition-colors",3,"click",4,"ngIf"],["class","bg-green-500 hover:bg-green-600 text-white text-xs px-3 py-1 rounded-md transition-colors",3,"click",4,"ngIf"],[1,"space-y-2"],[1,"w-full","text-left","p-3","rounded-lg","border","border-gray-200","hover:bg-gray-50","transition-colors",3,"click"],[1,"flex","items-center","justify-between"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-600","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"w-full","text-left","p-3","rounded-lg","border","border-blue-200","hover:bg-blue-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 11v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"text-blue-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-400"],["class","w-full text-left p-3 rounded-lg border border-orange-200 hover:bg-orange-50 transition-colors",3,"click",4,"ngIf"],[1,"w-full","text-left","p-3","rounded-lg","border","border-red-200","hover:bg-red-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-red-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"w-20","h-20","rounded-full","border-4","border-green-200","object-cover",3,"src","alt"],[1,"w-20","h-20","rounded-full","border-4","border-green-200","bg-green-100","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"bg-teal-500","hover:bg-teal-600","text-white","text-xs","px-3","py-1","rounded-md","transition-colors",3,"click"],[1,"bg-blue-500","hover:bg-blue-600","text-white","text-xs","px-3","py-1","rounded-md","transition-colors",3,"click"],[1,"bg-red-500","hover:bg-red-600","text-white","text-xs","px-3","py-1","rounded-md","transition-colors",3,"click"],[1,"bg-green-500","hover:bg-green-600","text-white","text-xs","px-3","py-1","rounded-md","transition-colors",3,"click"],[1,"w-full","text-left","p-3","rounded-lg","border","border-orange-200","hover:bg-orange-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-600","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"text-orange-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-orange-400"],[1,"text-center","py-12"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-white","rounded-lg","p-6","max-w-md","w-full","mx-4"],[1,"flex","items-center","mb-4"],[1,"flex-shrink-0"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"ml-3"],[1,"text-lg","font-medium","text-gray-900"],[1,"mb-4"],[1,"text-sm","text-gray-600","mb-4"],[1,"text-sm","text-red-600","mb-4"],["type","password",1,"w-full","pl-3","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-red-500","focus:border-transparent",3,"ngModelChange","input","ngModel","placeholder","disabled"],[1,"flex","justify-end","gap-2"],["type","button",1,"px-4","py-2","rounded-lg","border","border-gray-300","text-gray-700","hover:bg-gray-100",3,"click","disabled"],["type","button",1,"bg-red-600","text-white","px-4","py-2","rounded-lg","text-sm","font-medium","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click","disabled"],["class","flex items-center",4,"ngIf"],[1,"animate-spin","rounded-full","h-4","w-4","border-b-2","border-white","mr-2"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-orange-600"],[1,"text-sm","text-orange-600","mb-4"],["type","button",1,"bg-orange-600","text-white","px-4","py-2","rounded-lg","text-sm","font-medium","hover:bg-orange-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-orange-500",3,"click","disabled"],[1,"text-sm","text-gray-600"],[1,"flex","justify-end"],["type","button",1,"bg-red-600","text-white","px-4","py-2","rounded-md","text-sm","font-medium","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"]],template:function(i,r){if(1&i){const o=st();_(0,"div",2)(1,"div",3)(2,"app-back-button",4),S(3,"translate"),le("back",function(){return oe(o),re(r.goBack())}),v(),_(4,"h1",5),x(5),S(6,"translate"),v()(),pe(7,V0e,2,0,"div",6)(8,U0e,5,1,"div",7)(9,ewe,102,61,"ng-container",8),S(10,"async"),pe(11,twe,4,3,"ng-template",null,0,Ar),_(13,"app-edit-profile-modal",9),le("close",function(){return oe(o),re(r.closeEditProfile())})("save",function(a){return oe(o),re(r.onSaveProfile(a))})("error",function(a){return oe(o),re(r.showError("Upload Error",a))}),v(),_(14,"app-reset-password-modal",10),le("close",function(){return oe(o),re(r.onCloseResetPassword())})("send",function(a){return oe(o),re(r.onSendResetPassword(a))}),v(),pe(15,rwe,30,24,"div",11)(16,awe,24,16,"div",11)(17,lwe,16,5,"div",11),v()}if(2&i){const o=Ki(12);y(2),O("label",D(3,17,"PROFILE.BACK")),y(3),U(D(6,19,"PROFILE.TITLE")),y(2),O("ngIf",r.isLoading),y(),O("ngIf",r.showSuccessMessage),y(),O("ngIf",D(10,21,r.userProfile$))("ngIfElse",o),y(4),O("isOpen",r.showEditProfileModal)("user",r.selectedUser),y(),O("isOpen",r.showResetPasswordModal)("email",(null==r.selectedUser?null:r.selectedUser.email)||"")("isLoading",r.resetLoading)("errorMessage",r.resetError)("success",r.resetSuccess)("disableEmail",!(null==r.selectedUser||!r.selectedUser.email)),y(),O("ngIf",r.showDeleteProfileModal),y(),O("ngIf",r.showUnsubscribeModal),y(),O("ngIf",r.showErrorModal)}},dependencies:[au,Ii,Ks,rl,Ca,F0e,I7,Js,os,sv,Yi],styles:[".profile-container[_ngcontent-%COMP%]{min-height:calc(100vh - 200px)}.profile-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border-radius:.5rem;padding:1.5rem;margin-bottom:1.5rem}.profile-avatar[_ngcontent-%COMP%]{border:4px solid #10b981;transition:transform .2s ease-in-out}.profile-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.profile-actions[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.profile-actions[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}@media (max-width: 640px){.profile-container[_ngcontent-%COMP%], .profile-header[_ngcontent-%COMP%]{padding:1rem}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}"]})}}return n})(),uwe=(()=>{class n{constructor(e){this._loadingService=e}showBasicLoading(){this._loadingService.show()}showLoadingWithMessage(){this._loadingService.showWithMessage("Loading your data...")}showLoadingWithoutSpinner(){this._loadingService.showWithMessage("Processing...",!1)}showLoadingForDuration(){this._loadingService.showForDuration(2500,"Quick loading...")}showLoadingWhileAsync(){var e=this;return(0,ve.A)(function*(){yield e._loadingService.showWhile((0,ve.A)(function*(){return yield new Promise(r=>setTimeout(r,2e3)),"Operation completed!"}),"Processing async operation...")})()}simulateNetworkCall(){var e=this;return(0,ve.A)(function*(){try{yield e._loadingService.showWhile((0,ve.A)(function*(){if(yield new Promise(r=>setTimeout(r,1500)),Math.random()>.7)throw new Error("Network error occurred");return{data:"Successfully loaded data"}}),"Fetching data from server...")}catch(i){console.error("Network call failed:",i)}})()}hideSplashScreen(){this._loadingService.hide()}static{this.\u0275fac=function(i){return new(i||n)(z($u))}}static{this.\u0275cmp=on({type:n,selectors:[["app-splash-demo"]],decls:70,vars:4,consts:[[1,"splash-demo-container"],[1,"demo-header"],[1,"demo-buttons"],[1,"button-group"],[1,"demo-button","primary",3,"click"],[1,"button-description"],[1,"demo-button","secondary",3,"click"],[1,"demo-button","tertiary",3,"click"],[1,"demo-info"],[1,"code-example"]],template:function(i,r){1&i&&(_(0,"div",0)(1,"div",1)(2,"h1"),x(3,"SplashScreen Demo"),v(),_(4,"p"),x(5,"Test different loading scenarios and see how the SplashScreen component works."),v()(),_(6,"div",2)(7,"div",3)(8,"h3"),x(9,"Basic Loading"),v(),_(10,"button",4),le("click",function(){return r.showBasicLoading()}),x(11," Show Basic Loading "),v(),_(12,"p",5),x(13," Shows the splash screen with default settings. "),v()(),_(14,"div",3)(15,"h3"),x(16,"Custom Message"),v(),_(17,"button",6),le("click",function(){return r.showLoadingWithMessage()}),x(18," Show Loading with Message "),v(),_(19,"p",5),x(20," Shows the splash screen with a custom message. "),v()(),_(21,"div",3)(22,"h3"),x(23,"Without Spinner"),v(),_(24,"button",7),le("click",function(){return r.showLoadingWithoutSpinner()}),x(25," Show Loading without Spinner "),v(),_(26,"p",5),x(27," Shows the splash screen without the spinning animation. "),v()(),_(28,"div",3)(29,"h3"),x(30,"Duration Loading"),v(),_(31,"button",4),le("click",function(){return r.showLoadingForDuration()}),x(32," Show Loading for Duration "),v(),_(33,"p",5),x(34," Shows the splash screen for exactly 2.5 seconds using the duration method. "),v()(),_(35,"div",3)(36,"h3"),x(37,"Async Operation"),v(),_(38,"button",6),le("click",function(){return r.showLoadingWhileAsync()}),x(39," Show Loading with Async Operation "),v(),_(40,"p",5),x(41," Shows loading while executing an async operation that takes 2 seconds. "),v()(),_(42,"div",3)(43,"h3"),x(44,"Network Call Simulation"),v(),_(45,"button",7),le("click",function(){return r.simulateNetworkCall()}),x(46," Simulate Network Call "),v(),_(47,"p",5),x(48," Simulates a network call with potential errors and shows loading during the process. "),v()(),_(49,"div",3)(50,"h3"),x(51,"Hide Splash Screen"),v(),_(52,"button",4),le("click",function(){return r.hideSplashScreen()}),x(53," Hide Splash Screen "),v(),_(54,"p",5),x(55," Hides the splash screen to return to the demo page. "),v()()(),_(56,"div",8)(57,"h3"),x(58,"How to Use in Your Components"),v(),_(59,"div",9)(60,"h4"),x(61,"1. Inject the LoadingService:"),v(),_(62,"pre")(63,"code"),x(64),v()(),_(65,"h4"),x(66,"2. Show loading during operations:"),v(),_(67,"pre")(68,"code"),x(69),v()()()()()),2&i&&(y(64),rs("constructor(private _loadingService: LoadingService) ","{","","}",""),y(5),rs("// Basic usage\nthis._loadingService.show();\n// ... do work ...\nthis._loadingService.hide();\n\n// With custom message\nthis._loadingService.showWithMessage('Loading data...');\n\n// For async operations\nawait this._loadingService.showWhile(\n  async () => ","{","\n    // Your async operation here\n    return result;\n  ","}",",\n  'Processing...'\n);"))},styles:[".splash-demo-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem}.demo-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.demo-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:var(--primary-green);margin-bottom:1rem}.demo-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#666;line-height:1.6}.demo-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;margin-bottom:3rem}.button-group[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 4px 6px #0000001a;border:1px solid #e5e7eb}.button-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--primary-green);margin-bottom:1rem}.button-group[_ngcontent-%COMP%]   .button-description[_ngcontent-%COMP%]{font-size:.9rem;color:#666;line-height:1.5;margin-top:.75rem}.demo-button[_ngcontent-%COMP%]{width:100%;padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease}.demo-button.primary[_ngcontent-%COMP%]{background:var(--primary-green);color:#fff}.demo-button.primary[_ngcontent-%COMP%]:hover{background:var(--dark-green);transform:translateY(-1px)}.demo-button.secondary[_ngcontent-%COMP%]{background:var(--watermelon-pink);color:#fff}.demo-button.secondary[_ngcontent-%COMP%]:hover{background:#e55a8a;transform:translateY(-1px)}.demo-button.tertiary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.demo-button.tertiary[_ngcontent-%COMP%]:hover{background:#e5e7eb;transform:translateY(-1px)}.demo-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.demo-info[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:2rem;border:1px solid #e2e8f0}.demo-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--primary-green);margin-bottom:1.5rem}.demo-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#374151;margin:1.5rem 0 .5rem}.demo-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:first-child{margin-top:0}.code-example[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#1f2937;color:#f9fafb;padding:1rem;border-radius:8px;overflow-x:auto;margin:.5rem 0}.code-example[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.9rem;line-height:1.5}@media (max-width: 768px){.splash-demo-container[_ngcontent-%COMP%]{padding:1rem}.demo-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.demo-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.button-group[_ngcontent-%COMP%]{padding:1rem}.demo-info[_ngcontent-%COMP%]{padding:1.5rem}}@media (max-width: 480px){.demo-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.demo-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.button-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.demo-button[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.9rem}}"]})}}return n})();function dwe(n,t){if(1&n){const e=st();_(0,"div",3)(1,"div",4)(2,"h1",5),x(3),S(4,"translate"),v(),_(5,"p",6),x(6),S(7,"translate"),v(),_(8,"button",7),le("click",function(){return oe(e),re(L(2).navigateToHome())}),x(9),S(10,"translate"),v(),_(11,"div",8)(12,"div")(13,"strong"),x(14,"Debug info:"),v()(),_(15,"div"),x(16,"User profile: "),_(17,"pre"),x(18),S(19,"json"),v()(),_(20,"div"),x(21,"User role: "),_(22,"strong"),x(23),v()()()()()}if(2&n){const e=L().ngIf;y(3),U(D(4,5,"ADMIN.ACCESS_DENIED")),y(3),U(D(7,7,"ADMIN.ACCESS_DENIED_MESSAGE")),y(3),ee(" ",D(10,9,"COMMON.BACK_TO_HOME")," "),y(9),U(D(19,11,e)),y(5),U((null==e?null:e.role)||"none")}}function hwe(n,t){if(1&n){const e=st();_(0,"div",9)(1,"div",10)(2,"div",11)(3,"app-back-button",12),S(4,"translate"),le("back",function(){return oe(e),re(L(2).navigateToHome())}),v(),_(5,"div")(6,"h1",13),x(7),S(8,"translate"),v(),_(9,"p",14),x(10),S(11,"translate"),v()()(),_(12,"div",15)(13,"div",16)(14,"div",17)(15,"h3",18),x(16),S(17,"translate"),v(),je(),_(18,"svg",19),fe(19,"path",20),v()(),vt(),_(20,"div",21),x(21),v(),_(22,"p",22),x(23),S(24,"translate"),v()(),_(25,"div",16)(26,"div",17)(27,"h3",18),x(28),S(29,"translate"),v(),je(),_(30,"svg",19),fe(31,"path",23),v()(),vt(),_(32,"div",21),x(33),v(),_(34,"p",22),x(35),S(36,"translate"),v()(),_(37,"div",16)(38,"div",17)(39,"h3",18),x(40),S(41,"translate"),v(),je(),_(42,"svg",19),fe(43,"path",24)(44,"circle",25)(45,"path",26)(46,"path",27),v()(),vt(),_(47,"div",21),x(48),v(),_(49,"p",22),x(50),S(51,"translate"),v()(),_(52,"div",16)(53,"div",17)(54,"h3",18),x(55),S(56,"translate"),v(),je(),_(57,"svg",19),fe(58,"path",28)(59,"path",29),v()(),vt(),_(60,"div",21),x(61),v(),_(62,"p",22),x(63),S(64,"translate"),v()()(),_(65,"div",30)(66,"div",31)(67,"h2",32),x(68),S(69,"translate"),v()(),_(70,"div",33)(71,"div",34)(72,"button",35),le("click",function(){return oe(e),re(L(2).navigateToBlogs())}),je(),_(73,"svg",36),fe(74,"path",20),v(),vt(),_(75,"span",37),x(76),S(77,"translate"),v()(),_(78,"button",38),le("click",function(){return oe(e),re(L(2).navigateToActivities())}),je(),_(79,"svg",36),fe(80,"path",23),v(),vt(),_(81,"span",37),x(82),S(83,"translate"),v()(),_(84,"button",39),le("click",function(){return oe(e),re(L(2).navigateToUsers())}),je(),_(85,"svg",36),fe(86,"path",24)(87,"circle",25)(88,"path",26)(89,"path",27),v(),vt(),_(90,"span",37),x(91),S(92,"translate"),v()(),_(93,"button",40),le("click",function(){return oe(e),re(L(2).navigateToAbout())}),je(),_(94,"svg",36),fe(95,"path",41)(96,"circle",42)(97,"path",43)(98,"path",44)(99,"path",45),v(),vt(),_(100,"span",37),x(101),S(102,"translate"),v()()()()()()()}if(2&n){const e=L(2);y(3),O("label",D(4,21,"ADMIN.BACK_TO_HOME")),y(4),U(D(8,23,"ADMIN.DASHBOARD_TITLE")),y(3),U(D(11,25,"ADMIN.DASHBOARD_SUBTITLE")),y(6),U(D(17,27,"ADMIN.TOTAL_BLOGS")),y(5),U(e.stats.totalBlogs),y(2),rs(" ",e.stats.publishedBlogs," ",D(24,29,"ADMIN.PUBLISHED")," "),y(5),U(D(29,31,"ADMIN.TOTAL_ACTIVITIES")),y(5),U(e.stats.totalActivities),y(2),ee(" ",D(36,33,"ADMIN.CRAFT_ACTIVITIES")," "),y(5),U(D(41,35,"ADMIN.TOTAL_USERS")),y(8),U(e.stats.totalUsers),y(2),ee(" ",D(51,37,"ADMIN.REGISTERED_USERS")," "),y(5),U(D(56,39,"ADMIN.ENGAGEMENT")),y(6),ee(" ",e.stats.totalBlogs+e.stats.totalActivities," "),y(2),ee(" ",D(64,41,"ADMIN.TOTAL_CONTENT")," "),y(5),U(D(69,43,"ADMIN.QUICK_ACTIONS")),y(8),U(D(77,45,"ADMIN.MANAGE_BLOGS")),y(6),U(D(83,47,"ADMIN.MANAGE_ACTIVITIES")),y(9),U(D(92,49,"ADMIN.MANAGE_USERS")),y(10),U(D(102,51,"ADMIN.MANAGE_ABOUT"))}}function fwe(n,t){if(1&n&&(ti(0),pe(1,dwe,24,13,"div",1)(2,hwe,103,53,"div",2),ni()),2&n){const e=t.ngIf,i=L();y(),O("ngIf",!i.isAdmin(e)),y(),O("ngIf",i.isAdmin(e))}}let mwe=(()=>{class n{constructor(e,i,r,o,s){this._router=e,this._auth=i,this._userService=r,this._activityService=o,this._blogService=s,this.userProfile$=qe(null),this.stats={totalBlogs:0,publishedBlogs:0,totalActivities:0,totalUsers:0}}ngOnInit(){this.loadUserProfile(),this.loadStats()}loadUserProfile(){this.userProfile$=this._auth.user$.pipe(St(e=>e?this._userService.getUserProfile(e.uid):qe(null)))}loadStats(){this._blogService.getBlogPosts().subscribe(e=>{this.stats.totalBlogs=e.length,this.stats.publishedBlogs=e.length}),this._activityService.getActivities().subscribe(e=>{this.stats.totalActivities=e.length}),this.stats.totalUsers=0}navigateToBlogs(){this._router.navigate(["/admin/blogs"])}navigateToActivities(){this._router.navigate(["/admin/activities"])}navigateToUsers(){this._router.navigate(["/admin/users"])}navigateToAbout(){this._router.navigate(["/admin/about"])}navigateToHome(){this._router.navigate(["/"])}isAdmin(e){return e?.role===vi.ADMIN}static{this.\u0275fac=function(i){return new(i||n)(z(oi),z(Aa),z(_l),z(eb),z(tb))}}static{this.\u0275cmp=on({type:n,selectors:[["app-admin-dashboard"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","min-h-screen bg-gray-50 flex items-center justify-center p-4 sm:p-6",4,"ngIf"],["class","min-h-screen bg-gray-50 p-2 sm:p-4 md:p-6",4,"ngIf"],[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","p-4","sm:p-6"],[1,"text-center"],[1,"text-xl","sm:text-2xl","font-bold","text-red-600","mb-4"],[1,"text-gray-600","mb-6"],[1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","w-full","max-w-xs","mx-auto",3,"click"],[1,"mt-6","p-4","bg-yellow-100","text-yellow-800","rounded","text-left","text-xs","sm:text-sm","overflow-x-auto"],[1,"min-h-screen","bg-gray-50","p-2","sm:p-4","md:p-6"],[1,"max-w-7xl","mx-auto"],[1,"flex","flex-col","items-start","gap-2","sm:gap-4","mb-6","sm:mb-8"],[3,"back","label"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1","sm:mt-2","text-sm","sm:text-base"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4","sm:gap-6","mb-6","sm:mb-8"],[1,"bg-white","rounded-lg","shadow","p-4","sm:p-6","flex","flex-col","justify-between","min-h-[120px]"],[1,"flex","items-center","justify-between","mb-2","sm:mb-4"],[1,"text-xs","sm:text-sm","font-medium","text-gray-600"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4","text-gray-400"],["d","M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-900"],[1,"text-xs","text-gray-500","mt-1"],["d","M13 10V3L4 14h7v7l9-11h-7z"],["d","M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M23 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],["d","M3 3v18h18"],["d","M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"],[1,"bg-white","rounded-lg","shadow","mt-4"],[1,"p-4","sm:p-6","border-b","border-gray-200"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900"],[1,"p-4","sm:p-6"],[1,"grid","grid-cols-1","gap-4","sm:grid-cols-2","md:grid-cols-3"],[1,"h-20","sm:h-24","flex","flex-col","items-center","justify-center","space-y-2","bg-green-600","hover:bg-green-700","text-white","rounded-lg","transition-colors","w-full",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-6","w-6"],[1,"font-medium","text-xs","sm:text-base"],[1,"h-20","sm:h-24","flex","flex-col","items-center","justify-center","space-y-2","bg-blue-600","hover:bg-blue-700","text-white","rounded-lg","transition-colors","w-full",3,"click"],[1,"h-20","sm:h-24","flex","flex-col","items-center","justify-center","space-y-2","bg-purple-600","hover:bg-purple-700","text-white","rounded-lg","transition-colors","w-full",3,"click"],[1,"h-20","sm:h-24","flex","flex-col","items-center","justify-center","space-y-2","bg-orange-600","hover:bg-orange-700","text-white","rounded-lg","transition-colors","w-full",3,"click"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","10","cy","7","r","4"],["d","m21.8 16-3.5-3.5"],["d","m15.8 10-3.5-3.5"],["d","m9.8 4-3.5-3.5"]],template:function(i,r){1&i&&(pe(0,fwe,3,2,"ng-container",0),S(1,"async")),2&i&&O("ngIf",D(1,1,r.userProfile$))},dependencies:[Ii,Js,os,X1,Yi],styles:[".bg-white[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.bg-white[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.text-2xl[_ngcontent-%COMP%]{font-weight:700;color:#1f2937}.h-24[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.h-24[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 8px 25px #00000026}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{gap:1rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.875rem}.h-24[_ngcontent-%COMP%]{height:5rem}}"]})}}return n})();function pwe(n,t){if(1&n){const e=st();_(0,"button",9),S(1,"translate"),le("click",function(){return oe(e),re(L(2).onClose())}),_(2,"span",10),x(3,"\xd7"),v()()}2&n&&ei("aria-label",D(1,1,"COMMON.CLOSE"))}function gwe(n,t){if(1&n){const e=st();_(0,"button",11),le("click",function(){return oe(e),re(L(2).onRetry())}),x(1),v()}if(2&n){const e=L(2);y(),ee(" ",e.retryText," ")}}function _we(n,t){if(1&n){const e=st();_(0,"button",12),le("click",function(){return oe(e),re(L(2).onClose())}),x(1),v()}if(2&n){const e=L(2);y(),ee(" ",e.closeText," ")}}function vwe(n,t){if(1&n&&(_(0,"div",1)(1,"div",2),pe(2,pwe,4,3,"button",3),_(3,"h2",4),x(4),v(),_(5,"div",5),x(6),v(),_(7,"div",6),pe(8,gwe,2,1,"button",7)(9,_we,2,1,"button",8),v()()()),2&n){const e=L();y(2),O("ngIf",e.showClose),y(2),ee(" ",e.title," "),y(2),ee(" ",e.message," "),y(2),O("ngIf",e.showRetry),y(),O("ngIf",e.showClose)}}let lk=(()=>{class n{constructor(){this.isOpen=!1,this.title="Error",this.message="An error occurred",this.showRetry=!1,this.showClose=!0,this.retryText="Retry",this.closeText="Close",this.close=new Qt,this.retry=new Qt}onClose(){this.close.emit()}onRetry(){this.retry.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=on({type:n,selectors:[["app-error-modal"]],inputs:{isOpen:"isOpen",title:"title",message:"message",showRetry:"showRetry",showClose:"showClose",retryText:"retryText",closeText:"closeText"},outputs:{close:"close",retry:"retry"},decls:1,vars:1,consts:[["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50","p-4"],[1,"bg-white","rounded-lg","w-full","max-w-md","p-6","relative","shadow-lg"],["class","absolute top-3 right-3 p-1 rounded-full hover:bg-gray-100 focus:outline-none","type","button",3,"click",4,"ngIf"],[1,"text-xl","font-bold","text-gray-900","mb-6","text-center"],[1,"text-red-500","text-sm","mb-6","text-center"],[1,"flex","gap-3","justify-center"],["class","bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors","type","button",3,"click",4,"ngIf"],["class","bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors","type","button",3,"click",4,"ngIf"],["type","button",1,"absolute","top-3","right-3","p-1","rounded-full","hover:bg-gray-100","focus:outline-none",3,"click"],["aria-hidden","true"],["type","button",1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","transition-colors",3,"click"],["type","button",1,"bg-gray-600","hover:bg-gray-700","text-white","font-semibold","py-2","px-4","rounded-lg","transition-colors",3,"click"]],template:function(i,r){1&i&&pe(0,vwe,10,5,"div",0),2&i&&O("ngIf",r.isOpen)},dependencies:[Ii,Yi]})}}return n})();function ywe(n,t){if(1&n){const e=st();_(0,"div",1)(1,"div",2)(2,"button",3),S(3,"translate"),le("click",function(){return oe(e),re(L().onClose())}),_(4,"span",4),x(5,"\xd7"),v()(),_(6,"h2",5),x(7),v(),_(8,"div",6),x(9),v(),_(10,"div",7)(11,"button",8),le("click",function(){return oe(e),re(L().onClose())}),x(12),v(),_(13,"button",9),le("click",function(){return oe(e),re(L().onConfirm())}),x(14),v()()()()}if(2&n){const e=L();y(2),ei("aria-label",D(3,7,"COMMON.CLOSE")),y(5),ee(" ",e.title," "),y(2),ee(" ",e.message," "),y(3),ee(" ",e.cancelText," "),y(),yw("danger"===e.confirmVariant?"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors":"warning"===e.confirmVariant?"bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors":"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors"),y(),ee(" ",e.confirmText," ")}}let ck=(()=>{class n{constructor(){this.isOpen=!1,this.title="Confirm Action",this.message="Are you sure you want to proceed?",this.confirmText="Confirm",this.cancelText="Cancel",this.confirmVariant="danger",this.close=new Qt,this.confirm=new Qt}onClose(){this.close.emit()}onConfirm(){this.confirm.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=on({type:n,selectors:[["app-confirmation-modal"]],inputs:{isOpen:"isOpen",title:"title",message:"message",confirmText:"confirmText",cancelText:"cancelText",confirmVariant:"confirmVariant"},outputs:{close:"close",confirm:"confirm"},decls:1,vars:1,consts:[["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50","p-4"],[1,"bg-white","rounded-lg","w-full","max-w-md","p-6","relative","shadow-lg"],["type","button",1,"absolute","top-3","right-3","p-1","rounded-full","hover:bg-gray-100","focus:outline-none",3,"click"],["aria-hidden","true"],[1,"text-xl","font-bold","text-gray-900","mb-6","text-center"],[1,"text-gray-700","text-sm","mb-6","text-center"],[1,"flex","gap-3","justify-center"],["type","button",1,"bg-gray-600","hover:bg-gray-700","text-white","font-semibold","py-2","px-4","rounded-lg","transition-colors",3,"click"],["type","button",3,"click"]],template:function(i,r){1&i&&pe(0,ywe,15,9,"div",0),2&i&&O("ngIf",r.isOpen)},dependencies:[Ii,Yi]})}}return n})();function bwe(n,t){if(1&n){const e=st();_(0,"div",5)(1,"div",6)(2,"h1",7),x(3),S(4,"translate"),v(),_(5,"p",8),x(6),S(7,"translate"),v(),_(8,"button",9),le("click",function(){return oe(e),re(L(2).navigateToAdmin())}),x(9),S(10,"translate"),v()()()}2&n&&(y(3),U(D(4,3,"ADMIN.ACCESS_DENIED")),y(3),U(D(7,5,"ADMIN.ACCESS_DENIED_MESSAGE")),y(3),ee(" ",D(10,7,"ADMIN.BACK_TO_HOME")," "))}function wwe(n,t){if(1&n&&(_(0,"div",48),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.title)}}function Ewe(n,t){if(1&n&&(_(0,"div",48),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.description)}}function Iwe(n,t){if(1&n&&(_(0,"div",48),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.materials)}}function xwe(n,t){if(1&n&&(_(0,"div",48),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.ageGroup)}}function Cwe(n,t){if(1&n&&(_(0,"div",48),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.duration)}}function Twe(n,t){if(1&n&&(_(0,"option",34),x(1),S(2,"titlecase"),v()),2&n){const e=t.$implicit;O("value",e),y(),U(D(2,2,e))}}function Awe(n,t){if(1&n&&(_(0,"div",48),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.category)}}function Swe(n,t){if(1&n&&(_(0,"option",34),x(1),v()),2&n){const e=t.$implicit;O("value",e.code),y(),U(e.name)}}function Dwe(n,t){if(1&n&&(_(0,"div",48),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.language)}}function Mwe(n,t){if(1&n&&(_(0,"div",48),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.visibility)}}function Rwe(n,t){if(1&n&&(_(0,"div",48),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.isPremium)}}function Pwe(n,t){if(1&n&&(_(0,"div",48),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.instructions)}}function kwe(n,t){if(1&n){const e=st();_(0,"div",49),fe(1,"img",50),_(2,"button",51),le("click",function(){return oe(e),re(L(4).removeImage())}),x(3),S(4,"translate"),v()()}if(2&n){const e=L(4);y(),O("src",e.imagePreview,Lr),y(2),ee(" ",D(4,2,"ADMIN.REMOVE_IMAGE")," ")}}function Owe(n,t){if(1&n){const e=st();_(0,"div",49),fe(1,"video",52),_(2,"button",51),le("click",function(){return oe(e),re(L(4).removeVideo())}),x(3),S(4,"translate"),v()()}if(2&n){const e=L(4);y(),O("src",e.videoPreview,Lr),y(2),ee(" ",D(4,2,"ADMIN.REMOVE_VIDEO")," ")}}function Nwe(n,t){if(1&n){const e=st();_(0,"div")(1,"label",53),x(2," Choose Image "),v(),_(3,"input",54),le("change",function(r){return oe(e),re(L(4).onImageSelected(r))}),v(),_(4,"p",55),x(5),S(6,"translate"),v(),_(7,"p",56),x(8),S(9,"translate"),v()()}if(2&n){const e=L(4);y(),_r("opacity-50",e.videoPreview),y(2),O("disabled",e.videoPreview),y(2),U(D(6,5,"ADMIN.OR_DRAG_DROP")),y(3),U(D(9,7,"ADMIN.IMAGE_FORMATS"))}}function Fwe(n,t){1&n&&(_(0,"div",57),je(),_(1,"svg",58),fe(2,"circle",59)(3,"path",60),v(),vt(),_(4,"span",61),x(5),S(6,"translate"),v()()),2&n&&(y(5),U(D(6,1,"ADMIN.UPLOADING")))}function Lwe(n,t){if(1&n){const e=st();_(0,"div")(1,"label",62),x(2," Choose Video "),v(),_(3,"input",63),le("change",function(r){return oe(e),re(L(4).onVideoSelected(r))}),v(),_(4,"p",64),x(5,"MP4, WebM up to 20MB"),v()()}if(2&n){const e=L(4);y(),_r("opacity-50",e.imagePreview),y(2),O("disabled",e.imagePreview)}}function Vwe(n,t){1&n&&(_(0,"div",57),je(),_(1,"svg",65),fe(2,"circle",59)(3,"path",60),v(),vt(),_(4,"span",66),x(5),S(6,"translate"),v()()),2&n&&(y(5),U(D(6,1,"ADMIN.UPLOADING")))}function Uwe(n,t){if(1&n&&(_(0,"div",48),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.media)}}function Bwe(n,t){if(1&n){const e=st();_(0,"div",11)(1,"div",12)(2,"div",13)(3,"app-back-button",14),S(4,"translate"),le("back",function(){return oe(e),re(L(3).resetForm())}),v(),_(5,"h1",15),x(6),S(7,"translate"),S(8,"translate"),v()(),_(9,"div",16)(10,"div",17)(11,"h2",18),x(12),S(13,"translate"),v()(),_(14,"div",19)(15,"form",20),le("submit",function(r){return oe(e),re(L(3).handleSubmit(r))}),_(16,"div")(17,"label",21),x(18),S(19,"translate"),v(),_(20,"input",22),S(21,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.title,r)||(o.formData.title=r),re(r)}),v(),pe(22,wwe,2,1,"div",23),v(),_(23,"div")(24,"label",21),x(25),S(26,"translate"),v(),_(27,"textarea",24),S(28,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.description,r)||(o.formData.description=r),re(r)}),v(),pe(29,Ewe,2,1,"div",23),v(),_(30,"div")(31,"label",21),x(32),S(33,"translate"),v(),_(34,"textarea",25),S(35,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.materials,r)||(o.formData.materials=r),re(r)}),v(),pe(36,Iwe,2,1,"div",23),v(),_(37,"div",26)(38,"div")(39,"label",21),x(40),S(41,"translate"),v(),_(42,"input",27),S(43,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.ageGroup,r)||(o.formData.ageGroup=r),re(r)}),v(),pe(44,xwe,2,1,"div",23),v(),_(45,"div")(46,"label",21),x(47),S(48,"translate"),S(49,"translate"),v(),_(50,"input",28),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.duration,r)||(o.formData.duration=r),re(r)}),v(),pe(51,Cwe,2,1,"div",23),v()(),_(52,"div",26)(53,"div")(54,"label",21),x(55),S(56,"translate"),v(),_(57,"select",29),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.category,r)||(o.formData.category=r),re(r)}),_(58,"option",30),x(59),S(60,"translate"),v(),pe(61,Twe,3,4,"option",31),v(),pe(62,Awe,2,1,"div",23),v(),_(63,"div")(64,"label",21),x(65),S(66,"translate"),v(),_(67,"select",32),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.language,r)||(o.formData.language=r),re(r)}),_(68,"option",30),x(69),S(70,"translate"),v(),pe(71,Swe,2,2,"option",31),v(),pe(72,Dwe,2,1,"div",23),v()(),_(73,"div",26)(74,"div")(75,"label",21),x(76),S(77,"translate"),v(),_(78,"select",33),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.visibility,r)||(o.formData.visibility=r),re(r)}),_(79,"option",34),x(80),S(81,"translate"),v(),_(82,"option",34),x(83),S(84,"translate"),v(),_(85,"option",34),x(86),S(87,"translate"),v()(),pe(88,Mwe,2,1,"div",23),v(),_(89,"div")(90,"label",21),x(91),S(92,"translate"),v(),_(93,"div",35)(94,"input",36),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.isPremium,r)||(o.formData.isPremium=r),re(r)}),v(),_(95,"label",37),x(96),S(97,"translate"),v()(),pe(98,Rwe,2,1,"div",23),v()(),_(99,"div")(100,"label",21),x(101),S(102,"translate"),v(),_(103,"textarea",38),S(104,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.instructions,r)||(o.formData.instructions=r),re(r)}),v(),pe(105,Pwe,2,1,"div",23),v(),_(106,"div")(107,"label",21),x(108),S(109,"translate"),v(),pe(110,kwe,5,4,"div",39)(111,Owe,5,4,"div",39),_(112,"div",40)(113,"div",41)(114,"div",42),le("dragover",function(r){return oe(e),re(L(3).onDragOver(r))})("drop",function(r){return oe(e),re(L(3).onDrop(r))}),pe(115,Nwe,10,9,"div",0)(116,Fwe,7,3,"div",43),v()(),_(117,"div",41)(118,"div",44),pe(119,Lwe,6,3,"div",0)(120,Vwe,7,3,"div",43),v()()(),pe(121,Uwe,2,1,"div",23),v(),_(122,"div",45)(123,"button",46),x(124),S(125,"translate"),v(),_(126,"button",47),le("click",function(){return oe(e),re(L(3).resetForm())}),x(127),S(128,"translate"),v()()()()()()()}if(2&n){const e=L(3);y(3),O("label",D(4,64,"ADMIN.BACK_TO_ACTIVITIES")),y(3),ee(" ",e.editingActivity?D(7,66,"ADMIN.EDIT_ACTIVITY"):D(8,68,"ADMIN.ADD_NEW_ACTIVITY")," "),y(6),U(D(13,70,"ADMIN.ACTIVITY_DETAILS")),y(6),U(D(19,72,"ADMIN.TITLE")),y(2),xn("ngModel",e.formData.title),O("placeholder",D(21,74,"ADMIN.ENTER_TITLE")),y(2),O("ngIf",e.formErrors.title),y(3),U(D(26,76,"ADMIN.DESCRIPTION")),y(2),xn("ngModel",e.formData.description),O("placeholder",D(28,78,"ADMIN.ENTER_DESCRIPTION")),y(2),O("ngIf",e.formErrors.description),y(3),U(D(33,80,"ADMIN.MATERIALS")),y(2),xn("ngModel",e.formData.materials),O("placeholder",D(35,82,"ADMIN.ENTER_MATERIALS")),y(2),O("ngIf",e.formErrors.materials),y(4),U(D(41,84,"ADMIN.AGE_GROUP")),y(2),xn("ngModel",e.formData.ageGroup),O("placeholder",D(43,86,"ADMIN.AGE_GROUP")),y(2),O("ngIf",e.formErrors.ageGroup),y(3),rs("",D(48,88,"ADMIN.DURATION")," (",D(49,90,"ADMIN.MINUTES"),")"),y(3),xn("ngModel",e.formData.duration),y(),O("ngIf",e.formErrors.duration),y(4),U(D(56,92,"ADMIN.CATEGORY")),y(2),xn("ngModel",e.formData.category),y(2),U(D(60,94,"ADMIN.SELECT_CATEGORY")),y(2),O("ngForOf",e.categories),y(),O("ngIf",e.formErrors.category),y(3),U(D(66,96,"ADMIN.LANGUAGE")),y(2),xn("ngModel",e.formData.language),y(2),U(D(70,98,"ADMIN.SELECT_LANGUAGE")),y(2),O("ngForOf",e.languages),y(),O("ngIf",e.formErrors.language),y(4),U(D(77,100,"ADMIN.VISIBILITY")),y(2),xn("ngModel",e.formData.visibility),y(),O("value",e.ContentVisibility.PUBLIC),y(),U(D(81,102,"ADMIN.VISIBILITY_PUBLIC")),y(2),O("value",e.ContentVisibility.SUBSCRIBER),y(),U(D(84,104,"ADMIN.VISIBILITY_SUBSCRIBER")),y(2),O("value",e.ContentVisibility.ADMIN),y(),U(D(87,106,"ADMIN.VISIBILITY_ADMIN")),y(2),O("ngIf",e.formErrors.visibility),y(3),U(D(92,108,"ADMIN.PREMIUM_CONTENT")),y(3),xn("ngModel",e.formData.isPremium),y(2),U(D(97,110,"ADMIN.IS_PREMIUM")),y(2),O("ngIf",e.formErrors.isPremium),y(3),U(D(102,112,"ADMIN.INSTRUCTIONS")),y(2),xn("ngModel",e.formData.instructions),O("placeholder",D(104,114,"ADMIN.ENTER_INSTRUCTIONS")),y(2),O("ngIf",e.formErrors.instructions),y(3),ee("",D(109,116,"ADMIN.COVER_IMAGE")," / Video"),y(2),O("ngIf",e.imagePreview),y(),O("ngIf",e.videoPreview),y(3),_r("opacity-50",e.videoPreview),y(),O("ngIf",!e.imagePreview&&!e.isUploadingImage),y(),O("ngIf",e.isUploadingImage),y(2),_r("opacity-50",e.imagePreview),y(),O("ngIf",!e.videoPreview&&!e.isUploadingVideo),y(),O("ngIf",e.isUploadingVideo),y(),O("ngIf",e.formErrors.media),y(3),ee(" ",D(125,118,"ADMIN.SAVE_ACTIVITY")," "),y(3),ee(" ",D(128,120,"COMMON.CANCEL")," ")}}function jwe(n,t){if(1&n){const e=st();_(0,"div",81)(1,"p",82),x(2),S(3,"translate"),v(),_(4,"button",83),le("click",function(){return oe(e),re(L(4).showForm=!0)}),je(),_(5,"svg",77),fe(6,"path",78),v(),x(7),S(8,"translate"),v()()}2&n&&(y(2),U(D(3,2,"ADMIN.NO_ACTIVITIES")),y(5),ee(" ",D(8,4,"ADMIN.CREATE_FIRST_ACTIVITY")," "))}function zwe(n,t){if(1&n){const e=st();_(0,"tr",89),le("click",function(){const r=oe(e).$implicit;return re(L(5).handleEdit(r))}),_(1,"td",90)(2,"div")(3,"div",91),x(4),v(),_(5,"div",92),x(6),v()()(),_(7,"td",93),x(8),v(),_(9,"td",93),x(10),v(),_(11,"td",94),x(12),v(),_(13,"td",90)(14,"div",95)(15,"button",96),S(16,"translate"),le("click",function(r){const o=oe(e).$implicit;return L(5).handleEdit(o),re(r.stopPropagation())}),je(),_(17,"svg",77),fe(18,"path",97),v()(),vt(),_(19,"button",98),S(20,"translate"),le("click",function(r){const o=oe(e).$implicit;return L(5).handleDelete(o),re(r.stopPropagation())}),je(),_(21,"svg",77),fe(22,"path",99),v()()()()()}if(2&n){const e=t.$implicit,i=L(5);y(4),U(e.title),y(2),ee(" ",e.description," "),y(2),ee(" ",e.ageGroup," "),y(2),ee(" ",e.duration," "),y(2),ee(" ",i.formatDate(e.createdAt||e.id)," "),y(3),is("title",D(16,7,"ADMIN.EDIT")),y(4),is("title",D(20,9,"ADMIN.DELETE"))}}function Hwe(n,t){if(1&n&&(_(0,"div",84)(1,"table",85)(2,"thead")(3,"tr",86)(4,"th",87),x(5),S(6,"translate"),v(),_(7,"th",87),x(8),S(9,"translate"),v(),_(10,"th",87),x(11),S(12,"translate"),v(),_(13,"th",87),x(14),S(15,"translate"),v(),_(16,"th",87),x(17),S(18,"translate"),v()()(),_(19,"tbody"),pe(20,zwe,23,11,"tr",88),v()()()),2&n){const e=L(4);y(5),U(D(6,6,"ADMIN.TITLE")),y(3),U(D(9,8,"ADMIN.AGE_GROUP")),y(3),U(D(12,10,"ADMIN.DURATION")),y(3),U(D(15,12,"ADMIN.CREATED")),y(3),U(D(18,14,"ADMIN.ACTIONS")),y(3),O("ngForOf",e.activities)}}function $we(n,t){if(1&n){const e=st();_(0,"div",11)(1,"div",67)(2,"div",68)(3,"div",69)(4,"app-back-button",14),S(5,"translate"),le("back",function(){return oe(e),re(L(3).navigateToAdmin())}),v(),_(6,"div")(7,"h1",15),x(8),S(9,"translate"),v(),_(10,"p",70),x(11),S(12,"translate"),v(),_(13,"div",71)(14,"span",72),x(15),S(16,"translate"),v(),_(17,"select",73),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.currentLanguage,r)||(o.currentLanguage=r),re(r)}),le("change",function(){oe(e);const r=L(3);return re(r.changeLanguage(r.currentLanguage))}),_(18,"option",74),x(19,"SR"),v(),_(20,"option",75),x(21,"EN"),v()()()()(),_(22,"button",76),le("click",function(){return oe(e),re(L(3).showForm=!0)}),je(),_(23,"svg",77),fe(24,"path",78),v(),x(25),S(26,"translate"),v()(),vt(),_(27,"div",16)(28,"div",17)(29,"h2",18),x(30),S(31,"translate"),v()(),_(32,"div",19),pe(33,jwe,9,6,"div",79)(34,Hwe,21,16,"div",80),v()()()()}if(2&n){const e=L(3);y(4),O("label",D(5,10,"ADMIN.BACK_TO_ADMIN")),y(4),U(D(9,12,"ADMIN.ACTIVITIES_TITLE")),y(3),U(D(12,14,"ADMIN.ACTIVITIES_SUBTITLE")),y(4),ee("",D(16,16,"ADMIN.MANAGING_LANGUAGE"),":"),y(2),xn("ngModel",e.currentLanguage),y(8),ee(" ",D(26,18,"ADMIN.ADD_NEW_ACTIVITY")," "),y(5),rs("",D(31,20,"ADMIN.ALL_ACTIVITIES")," (",e.activities.length,")"),y(3),O("ngIf",0===e.activities.length),y(),O("ngIf",e.activities.length>0)}}function Gwe(n,t){if(1&n&&(_(0,"div"),pe(1,Bwe,129,122,"div",10)(2,$we,35,22,"div",10),v()),2&n){const e=L(2);y(),O("ngIf",e.showForm),y(),O("ngIf",!e.showForm)}}function qwe(n,t){if(1&n&&(ti(0),pe(1,bwe,11,9,"div",4)(2,Gwe,3,2,"div",0),ni()),2&n){const e=t.ngIf,i=L();y(),O("ngIf",!i.isAdmin(e)),y(),O("ngIf",i.isAdmin(e))}}function Wwe(n,t){if(1&n){const e=st();_(0,"div",100)(1,"div",101)(2,"div",102),je(),_(3,"svg",103),fe(4,"path",104),v(),vt(),_(5,"span",105),x(6),v()(),_(7,"button",106),le("click",function(){return oe(e),re(L().showSuccessMessage=!1)}),je(),_(8,"svg",107),fe(9,"path",108),v()()()()}if(2&n){const e=L();y(6),U(e.successMessage)}}let Kwe=(()=>{class n{constructor(e,i,r,o,s,a,l){this._router=e,this._auth=i,this._userService=r,this._activityService=o,this._imageUploadService=s,this._translate=a,this._languageService=l,this.userProfile$=qe(null),this.activities=[],this.showForm=!1,this.editingActivity=null,this.currentLanguage="sr",this.ContentVisibility=Bo,this.showErrorModal=!1,this.errorMessage="",this.errorTitle="",this.showSuccessMessage=!1,this.successMessage="",this.showConfirmModal=!1,this.confirmTitle="",this.confirmMessage="",this.confirmAction=null,this.formErrors={},this.isUploadingImage=!1,this.imagePreview=null,this.isUploadingVideo=!1,this.videoPreview=null,this.formData={title:"",description:"",materials:"",ageGroup:"",duration:"30",instructions:"",image:"",video:"",category:"",language:"en",visibility:Bo.PUBLIC,isPremium:!1},this.categories=Object.values(Sa),this.languages=[{code:"en",name:"English"},{code:"sr",name:"Serbian"}]}ngOnInit(){this.loadUserProfile(),this.loadActivities()}loadUserProfile(){this.userProfile$=this._auth.user$.pipe(St(e=>e?this._userService.getUserProfile(e.uid):qe(null)))}loadActivities(){this._activityService.getActivities(this.currentLanguage).subscribe(e=>{this.activities=e.map(i=>({...i,isEditing:!1,isDeleting:!1}))})}changeLanguage(e){this._languageService.setLanguage(e),this.currentLanguage=e,this.loadActivities()}handleSubmit(e){e.preventDefault(),this.validateForm()&&(this.editingActivity?this.updateActivity():this.createActivity())}validateForm(){return this.formErrors={},this.formData.title.trim()||(this.formErrors.title="Title is required"),this.formData.description.trim()||(this.formErrors.description="Description is required"),this.formData.ageGroup.trim()||(this.formErrors.ageGroup="Age group is required"),(!this.formData.duration||""===this.formData.duration.toString().trim())&&(this.formErrors.duration="Duration is required"),this.formData.instructions.trim()||(this.formErrors.instructions="Instructions are required"),this.formData.category.trim()||(this.formErrors.category="Category is required"),this.formData.language.trim()||(this.formErrors.language="Language is required"),!this.formData.image&&!this.formData.video&&(this.formErrors.media="Either an image or a video is required."),0===Object.keys(this.formErrors).length}createActivity(){const e={id:Date.now().toString(),title:this.formData.title,description:this.formData.description,materials:this.formData.materials?this.formData.materials.split("\n").filter(i=>""!==i.trim()):[],ageGroup:this.formData.ageGroup,duration:this.formData.duration?`${this.formData.duration} min`:"",instructions:this.formData.instructions?this.formData.instructions.split(/\r?\n/).filter(i=>""!==i.trim()):[],imageUrl:this.formData.image||"",videoUrl:this.formData.video||"",category:this.formData.category,language:this.formData.language,visibility:this.formData.visibility,isPremium:this.formData.isPremium,isEditing:!1,isDeleting:!1,createdAt:(new Date).toISOString()};this._activityService.createActivity(e).then(()=>{this.activities.push(e),this.resetForm(),this.showSuccess(this._translate.instant("ADMIN.ACTIVITY_CREATED_SUCCESS"))}).catch(i=>{console.error("Error creating activity:",i),this.showError("Create Error","Failed to create activity. Please try again.")})}updateActivity(){if(!this.editingActivity)return;const e={...this.editingActivity,title:this.formData.title,description:this.formData.description,materials:this.formData.materials?this.formData.materials.split("\n").filter(i=>""!==i.trim()):[],ageGroup:this.formData.ageGroup,duration:this.formData.duration?`${this.formData.duration} min`:"",instructions:this.formData.instructions?this.formData.instructions.split(/\r?\n/).filter(i=>""!==i.trim()):[],imageUrl:this.formData.image||"",videoUrl:this.formData.video||"",category:this.formData.category,language:this.formData.language,visibility:this.formData.visibility,isPremium:this.formData.isPremium};this._activityService.updateActivity(e).then(()=>{const i=this.activities.findIndex(r=>r.id===this.editingActivity?.id);-1!==i&&(this.activities[i]=e),this.resetForm(),this.showSuccess(this._translate.instant("ADMIN.ACTIVITY_UPDATED_SUCCESS"))}).catch(i=>{console.error("Error updating activity:",i),this.showError("Update Error","Failed to update activity. Please try again.")})}resetForm(){this.formData={title:"",description:"",materials:"",ageGroup:"",duration:"30",instructions:"",image:"",video:"",category:"",language:"en",visibility:Bo.PUBLIC,isPremium:!1},this.editingActivity=null,this.imagePreview=null,this.videoPreview=null,this.showForm=!1}onImageSelected(e){const r=e.target.files?.[0];if(r){if(!this._imageUploadService.isValidImage(r))return void this.showError("Invalid Image","Please select a valid image file (JPEG, PNG, GIF, WebP) under 5MB.");this.uploadImage(r)}}uploadImage(e){this.isUploadingImage=!0,this._imageUploadService.uploadImage(e,"activity-images/").subscribe({next:i=>{this.formData.image=i,this.imagePreview=i,this.isUploadingImage=!1},error:i=>{console.error("Error uploading image:",i),this.isUploadingImage=!1;let r="Failed to upload image. Please try again.";i.message&&(r=i.message),this.showError("Upload Error",r)}})}onDragOver(e){e.preventDefault(),e.stopPropagation()}onDrop(e){e.preventDefault(),e.stopPropagation();const i=e.dataTransfer?.files;if(!i||0===i.length)return;const r=i[0];this._imageUploadService.isValidImage(r)?this.uploadImage(r):this.showError("Invalid Image","Please select a valid image file (JPEG, PNG, GIF, WebP) under 5MB.")}removeImage(){this.formData.image="",this.imagePreview=null,this.formData.video="",this.videoPreview=null}isValidVideo(e){return["video/mp4","video/webm","video/ogg"].includes(e.type)&&e.size<=52428800}onVideoSelected(e){const r=e.target.files?.[0];if(r){if(!this.isValidVideo(r))return void this.showError("Invalid Video","Please select a valid video file (MP4, WebM, OGV) under 50MB.");this.uploadVideo(r)}}uploadVideo(e){this.isUploadingVideo=!0,this._imageUploadService.uploadImage(e,"activity-videos/").subscribe({next:i=>{this.formData.video=i,this.videoPreview=i,this.isUploadingVideo=!1},error:i=>{console.error("Error uploading video:",i),this.isUploadingVideo=!1;let r="Failed to upload video. Please try again.";i.message&&(r=i.message),this.showError("Upload Error",r)}})}onDragOverVideo(e){e.preventDefault(),e.stopPropagation()}onDropVideo(e){e.preventDefault(),e.stopPropagation();const i=e.dataTransfer?.files;if(!i||0===i.length)return;const r=i[0];this.isValidVideo(r)?this.uploadVideo(r):this.showError("Invalid Video","Please select a valid video file (MP4, WebM, OGV) under 50MB.")}removeVideo(){this.formData.video="",this.videoPreview=null}handleEdit(e){this.editingActivity=e,this.formData={title:e.title,description:e.description,materials:e.materials?e.materials.join("\n"):"",ageGroup:e.ageGroup||"",duration:e.duration?e.duration.replace(" min",""):"",instructions:e.instructions?e.instructions.join("\n"):"",image:e.imageUrl||"",video:e.videoUrl||"",category:e.category||"",language:e.language||"en",visibility:e.visibility||Bo.PUBLIC,isPremium:e.isPremium||!1},this.imagePreview=e.imageUrl||null,this.videoPreview=e.videoUrl||null,this.showForm=!0}handleDelete(e){this.confirmTitle=this._translate.instant("ADMIN.DELETE_ACTIVITY_TITLE"),this.confirmMessage=this._translate.instant("ADMIN.DELETE_ACTIVITY_MESSAGE",{title:e.title}),this.confirmAction=()=>{this._activityService.deleteActivity(e.id).then(()=>{this.activities=this.activities.filter(i=>i.id!==e.id),this.showSuccess(this._translate.instant("ADMIN.ACTIVITY_DELETED_SUCCESS"))}).catch(i=>{console.error("Error deleting activity:",i),this.showError("Delete Error","Failed to delete activity. Please try again.")})},this.showConfirmModal=!0}showError(e,i){this.errorTitle=e,this.errorMessage=i,this.showErrorModal=!0}showSuccess(e){this.successMessage=e,this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},5e3)}closeErrorModal(){this.showErrorModal=!1,this.errorTitle="",this.errorMessage=""}closeConfirmModal(){this.showConfirmModal=!1,this.confirmTitle="",this.confirmMessage="",this.confirmAction=null}onConfirmAction(){this.confirmAction&&this.confirmAction(),this.closeConfirmModal()}navigateToAdmin(){this._router.navigate(["/admin"])}isAdmin(e){return e?.role===vi.ADMIN}formatDate(e){return new Date(e).toLocaleDateString()}static{this.\u0275fac=function(i){return new(i||n)(z(oi),z(Aa),z(_l),z(eb),z(Yx),z(Si),z(Hp))}}static{this.\u0275cmp=on({type:n,selectors:[["app-admin-activities"]],decls:7,vars:19,consts:[[4,"ngIf"],["class","fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-xl border border-green-400 min-w-80",4,"ngIf"],[3,"close","isOpen","title","message","showRetry","showClose"],[3,"close","confirm","isOpen","title","message","confirmText","cancelText","confirmVariant"],["class","min-h-screen bg-gray-50 flex items-center justify-center p-4 sm:p-6",4,"ngIf"],[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","p-4","sm:p-6"],[1,"text-center"],[1,"text-xl","sm:text-2xl","font-bold","text-red-600","mb-4"],[1,"text-gray-600","mb-6"],[1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","w-full","max-w-xs","mx-auto",3,"click"],["class","min-h-screen bg-gray-50 p-2 sm:p-4 md:p-6",4,"ngIf"],[1,"min-h-screen","bg-gray-50","p-2","sm:p-4","md:p-6"],[1,"max-w-4xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-2","sm:gap-4","mb-4","sm:mb-6"],[3,"back","label"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900"],[1,"bg-white","rounded-lg","shadow"],[1,"p-4","sm:p-6","border-b","border-gray-200"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900"],[1,"p-4","sm:p-6"],[1,"space-y-4","sm:space-y-6",3,"submit"],[1,"block","text-xs","sm:text-sm","font-medium","mb-2"],["type","text","name","title","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","text-sm",3,"ngModelChange","ngModel","placeholder"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["name","description","rows","3","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","text-sm",3,"ngModelChange","ngModel","placeholder"],["name","materials","rows","3",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","text-sm",3,"ngModelChange","ngModel","placeholder"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","sm:gap-6"],["type","text","name","ageGroup","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","text-sm",3,"ngModelChange","ngModel","placeholder"],["type","number","name","duration","placeholder","30","min","1","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","text-sm",3,"ngModelChange","ngModel"],["name","category","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","text-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["name","language","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","text-sm",3,"ngModelChange","ngModel"],["name","visibility","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","text-sm",3,"ngModelChange","ngModel"],[3,"value"],[1,"flex","items-center","mt-2"],["type","checkbox","name","isPremium",1,"h-4","w-4","text-green-600","focus:ring-green-500","border-gray-300","rounded",3,"ngModelChange","ngModel"],[1,"ml-2","text-sm","text-gray-700"],["name","instructions","rows","8","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","text-sm",3,"ngModelChange","ngModel","placeholder"],["class","mb-4",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","gap-4"],[1,"flex-1"],[1,"border-2","border-dashed","border-gray-300","rounded-lg","p-6","text-center","hover:border-green-500","transition-colors",3,"dragover","drop"],["class","flex items-center justify-center",4,"ngIf"],[1,"border-2","border-dashed","border-gray-300","rounded-lg","p-6","text-center","hover:border-green-500","transition-colors"],[1,"flex","flex-col","sm:flex-row","gap-2","sm:gap-4"],["type","submit",1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","w-full","sm:w-auto"],["type","button",1,"bg-gray-300","hover:bg-gray-400","text-gray-700","font-semibold","py-2","px-4","rounded-lg","w-full","sm:w-auto",3,"click"],[1,"text-red-500","text-xs","mt-1"],[1,"mb-4"],["alt","Activity preview",1,"w-32","h-32","object-cover","rounded-lg","border","border-gray-300",3,"src"],["type","button",1,"mt-2","text-red-600","hover:text-red-700","text-xs",3,"click"],["controls","",1,"w-64","h-36","rounded-lg","border","border-gray-300",3,"src"],["for","image-upload",1,"cursor-pointer","bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","text-sm"],["id","image-upload","type","file","accept","image/*",1,"hidden",3,"change","disabled"],[1,"text-xs","text-gray-500","mt-2"],[1,"text-xs","text-gray-400"],[1,"flex","items-center","justify-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-green-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"ml-2","text-sm","text-gray-600"],["for","video-upload",1,"cursor-pointer","bg-blue-600","hover:bg-blue-700","text-white","font-semibold","py-2","px-4","rounded-lg","text-sm"],["id","video-upload","type","file","accept","video/*",1,"hidden",3,"change","disabled"],[1,"text-xs","text-gray-400","mt-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-blue-600"],[1,"ml-2","text-sm","text-blue-600"],[1,"max-w-7xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-2","sm:gap-4","mb-4","sm:mb-6"],[1,"flex","flex-col","gap-2","sm:gap-4"],[1,"text-gray-600","mt-1","sm:mt-2","text-sm","sm:text-base"],[1,"flex","items-center","gap-2","mt-2"],[1,"text-sm","text-gray-500"],[1,"px-2","py-1","text-xs","border","border-gray-300","rounded","focus:outline-none","focus:ring-2","focus:ring-green-500",3,"ngModelChange","change","ngModel"],["value","sr"],["value","en"],[1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","flex","items-center","gap-2","w-full","sm:w-auto",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4"],["d","M12 4v16m8-8H4"],["class","text-center py-8 sm:py-12",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"text-center","py-8","sm:py-12"],[1,"text-gray-500","mb-4"],[1,"bg-gray-300","hover:bg-gray-400","text-gray-700","font-semibold","py-2","px-4","rounded-lg","flex","items-center","gap-2","mx-auto","w-full","sm:w-auto",3,"click"],[1,"overflow-x-auto"],[1,"w-full","min-w-[600px]"],[1,"border-b","border-gray-200"],[1,"text-left","py-2","sm:py-3","px-2","sm:px-4","font-medium","text-gray-900","text-xs","sm:text-sm"],["class","border-b border-gray-100 hover:bg-gray-50 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"border-b","border-gray-100","hover:bg-gray-50","cursor-pointer",3,"click"],[1,"py-2","sm:py-3","px-2","sm:px-4"],[1,"font-medium","text-xs","sm:text-sm"],[1,"text-xs","text-gray-500","truncate","max-w-xs"],[1,"py-2","sm:py-3","px-2","sm:px-4","text-xs","sm:text-sm"],[1,"py-2","sm:py-3","px-2","sm:px-4","text-xs","text-gray-500"],[1,"flex","flex-col","sm:flex-row","gap-2"],[1,"text-blue-600","hover:text-blue-700","text-xs","sm:text-sm",3,"click","title"],["d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"text-red-600","hover:text-red-700","text-xs","sm:text-sm",3,"click","title"],["d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"fixed","top-4","right-4","z-50","bg-green-500","text-white","px-6","py-4","rounded-lg","shadow-xl","border","border-green-400","min-w-80"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-6","h-6","flex-shrink-0"],["d","M5 13l4 4L19 7"],[1,"font-medium"],["title","Close",1,"ml-4","p-1","hover:bg-green-600","rounded-full","transition-colors",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-4","h-4"],["d","M6 18L18 6M6 6l12 12"]],template:function(i,r){1&i&&(pe(0,qwe,3,2,"ng-container",0),S(1,"async"),pe(2,Wwe,10,1,"div",1),_(3,"app-error-modal",2),le("close",function(){return r.closeErrorModal()}),v(),_(4,"app-confirmation-modal",3),S(5,"translate"),S(6,"translate"),le("close",function(){return r.closeConfirmModal()})("confirm",function(){return r.onConfirmAction()}),v()),2&i&&(O("ngIf",D(1,13,r.userProfile$)),y(2),O("ngIf",r.showSuccessMessage),y(),O("isOpen",r.showErrorModal)("title",r.errorTitle)("message",r.errorMessage)("showRetry",!1)("showClose",!0),y(),O("isOpen",r.showConfirmModal)("title",r.confirmTitle)("message",r.confirmMessage)("confirmText",D(5,15,"ADMIN.DELETE"))("cancelText",D(6,17,"COMMON.CANCEL"))("confirmVariant","danger"))},dependencies:[Is,Ii,bu,zv,Hv,Ks,ND,GE,ch,rl,yu,wu,UD,Ca,rc,lk,ck,Js,os,Q4,Yi],styles:["form[_ngcontent-%COMP%]   .space-y-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{transition:border-color .2s ease-in-out,box-shadow .2s ease-in-out}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}table[_ngcontent-%COMP%]{border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.inline-flex[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.bg-white[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.bg-white[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.text-3xl[_ngcontent-%COMP%]{font-size:1.875rem}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{min-width:600px}}"]})}}return n})();function Qwe(n,t){if(1&n){const e=st();_(0,"div",5)(1,"div",6)(2,"h1",7),x(3),S(4,"translate"),v(),_(5,"p",8),x(6),S(7,"translate"),v(),_(8,"button",9),le("click",function(){return oe(e),re(L(2).navigateToAdmin())}),x(9),S(10,"translate"),v()()()}2&n&&(y(3),U(D(4,3,"ADMIN.ACCESS_DENIED")),y(3),U(D(7,5,"ADMIN.ACCESS_DENIED_MESSAGE")),y(3),ee(" ",D(10,7,"ADMIN.BACK_TO_HOME")," "))}function Ywe(n,t){if(1&n&&(_(0,"div",46),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.title)}}function Zwe(n,t){if(1&n&&(_(0,"div",46),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.excerpt)}}function Xwe(n,t){if(1&n&&(_(0,"div",46),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.fullContent)}}function Jwe(n,t){if(1&n&&(_(0,"div",46),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.author)}}function eEe(n,t){if(1&n&&(_(0,"div",46),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.readTime)}}function tEe(n,t){if(1&n&&(_(0,"div",46),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.visibility)}}function nEe(n,t){if(1&n&&(_(0,"div",46),x(1),v()),2&n){const e=L(4);y(),U(e.formErrors.isPremium)}}function iEe(n,t){if(1&n){const e=st();_(0,"div",47),fe(1,"img",48),_(2,"button",49),le("click",function(){return oe(e),re(L(4).removeImage())}),x(3),S(4,"translate"),v()()}if(2&n){const e=L(4);y(),O("src",e.imagePreview||e.formData.imageUrl,Lr),y(2),ee(" ",D(4,2,"ADMIN.REMOVE_IMAGE")," ")}}function rEe(n,t){1&n&&(_(0,"div"),je(),_(1,"svg",50),fe(2,"path",51),v(),vt(),_(3,"p",52),x(4),S(5,"translate"),_(6,"label",53),x(7),S(8,"translate"),v()(),_(9,"p",54),x(10),S(11,"translate"),v()()),2&n&&(y(4),ee(" ",D(5,3,"ADMIN.DRAG_DROP_IMAGE")," "),y(3),ee(" ",D(8,5,"ADMIN.CLICK_TO_SELECT")," "),y(3),ee(" ",D(11,7,"ADMIN.IMAGE_FORMATS")," "))}function oEe(n,t){1&n&&(_(0,"div",55)(1,"div",56),je(),_(2,"svg",57),fe(3,"circle",58)(4,"path",59),v(),vt(),_(5,"span",60),x(6),S(7,"translate"),v()()()),2&n&&(y(6),U(D(7,1,"ADMIN.UPLOADING")))}function sEe(n,t){if(1&n){const e=st();_(0,"div",11)(1,"div",12)(2,"div",13)(3,"button",14),le("click",function(){return oe(e),re(L(3).resetForm())}),je(),_(4,"svg",15),fe(5,"path",16),v(),x(6),S(7,"translate"),v(),vt(),_(8,"h1",17),x(9),S(10,"translate"),S(11,"translate"),v()(),_(12,"div",18)(13,"div",19)(14,"h2",20),x(15),S(16,"translate"),v()(),_(17,"div",21)(18,"form",22),le("submit",function(r){return oe(e),re(L(3).handleSubmit(r))}),_(19,"div")(20,"label",23),x(21),S(22,"translate"),v(),_(23,"input",24),S(24,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.title,r)||(o.formData.title=r),re(r)}),v(),pe(25,Ywe,2,1,"div",25),v(),_(26,"div")(27,"label",23),x(28),S(29,"translate"),v(),_(30,"textarea",26),S(31,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.excerpt,r)||(o.formData.excerpt=r),re(r)}),v(),pe(32,Zwe,2,1,"div",25),v(),_(33,"div")(34,"label",23),x(35),S(36,"translate"),v(),_(37,"textarea",27),S(38,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.fullContent,r)||(o.formData.fullContent=r),re(r)}),v(),pe(39,Xwe,2,1,"div",25),v(),_(40,"div",28)(41,"div")(42,"label",23),x(43),S(44,"translate"),v(),_(45,"input",29),S(46,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.author,r)||(o.formData.author=r),re(r)}),v(),pe(47,Jwe,2,1,"div",25),v(),_(48,"div")(49,"label",23),x(50),S(51,"translate"),v(),_(52,"input",30),S(53,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.readTime,r)||(o.formData.readTime=r),re(r)}),v(),pe(54,eEe,2,1,"div",25),v()(),_(55,"div",28)(56,"div")(57,"label",23),x(58),S(59,"translate"),v(),_(60,"select",31),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.visibility,r)||(o.formData.visibility=r),re(r)}),_(61,"option",32),x(62),S(63,"translate"),v(),_(64,"option",32),x(65),S(66,"translate"),v(),_(67,"option",32),x(68),S(69,"translate"),v()(),pe(70,tEe,2,1,"div",25),v(),_(71,"div")(72,"label",23),x(73),S(74,"translate"),v(),_(75,"div",33)(76,"input",34),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.isPremium,r)||(o.formData.isPremium=r),re(r)}),v(),_(77,"label",35),x(78),S(79,"translate"),v()(),pe(80,nEe,2,1,"div",25),v()(),_(81,"div")(82,"label",23),x(83),S(84,"translate"),v(),_(85,"div",36),le("dragover",function(r){return oe(e),re(L(3).onDragOver(r))})("drop",function(r){return oe(e),re(L(3).onDrop(r))}),pe(86,iEe,5,4,"div",37)(87,rEe,12,9,"div",0)(88,oEe,8,3,"div",38),v(),_(89,"input",39),le("change",function(r){return oe(e),re(L(3).onImageSelected(r))}),v(),_(90,"div",40)(91,"label",41),x(92),S(93,"translate"),v(),_(94,"input",42),S(95,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.formData.imageUrl,r)||(o.formData.imageUrl=r),re(r)}),v()()(),_(96,"div",43)(97,"button",44),x(98),S(99,"translate"),v(),_(100,"button",45),le("click",function(){return oe(e),re(L(3).resetForm())}),x(101),S(102,"translate"),v()()()()()()()}if(2&n){const e=L(3);y(6),ee(" ",D(7,52,"ADMIN.BACK_TO_BLOGS")," "),y(3),ee(" ",e.editingBlog?D(10,54,"ADMIN.EDIT_BLOG"):D(11,56,"ADMIN.ADD_NEW_BLOG")," "),y(6),U(D(16,58,"ADMIN.BLOG_DETAILS")),y(6),U(D(22,60,"ADMIN.TITLE")),y(2),xn("ngModel",e.formData.title),O("ngClass",e.formErrors.title?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-green-500")("placeholder",D(24,62,"ADMIN.ENTER_BLOG_TITLE")),y(2),O("ngIf",e.formErrors.title),y(3),U(D(29,64,"ADMIN.EXCERPT")),y(2),xn("ngModel",e.formData.excerpt),O("ngClass",e.formErrors.excerpt?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-green-500")("placeholder",D(31,66,"ADMIN.ENTER_EXCERPT")),y(2),O("ngIf",e.formErrors.excerpt),y(3),U(D(36,68,"ADMIN.CONTENT")),y(2),xn("ngModel",e.formData.fullContent),O("ngClass",e.formErrors.fullContent?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-green-500")("placeholder",D(38,70,"ADMIN.ENTER_CONTENT")),y(2),O("ngIf",e.formErrors.fullContent),y(4),U(D(44,72,"ADMIN.AUTHOR")),y(2),xn("ngModel",e.formData.author),O("ngClass",e.formErrors.author?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-green-500")("placeholder",D(46,74,"ADMIN.ENTER_AUTHOR")),y(2),O("ngIf",e.formErrors.author),y(3),U(D(51,76,"ADMIN.READ_TIME")),y(2),xn("ngModel",e.formData.readTime),O("ngClass",e.formErrors.readTime?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-green-500")("placeholder",D(53,78,"ADMIN.ENTER_READ_TIME")),y(2),O("ngIf",e.formErrors.readTime),y(4),U(D(59,80,"ADMIN.VISIBILITY")),y(2),xn("ngModel",e.formData.visibility),O("ngClass",e.formErrors.visibility?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-green-500"),y(),O("value",e.ContentVisibility.PUBLIC),y(),U(D(63,82,"ADMIN.VISIBILITY_PUBLIC")),y(2),O("value",e.ContentVisibility.SUBSCRIBER),y(),U(D(66,84,"ADMIN.VISIBILITY_SUBSCRIBER")),y(2),O("value",e.ContentVisibility.ADMIN),y(),U(D(69,86,"ADMIN.VISIBILITY_ADMIN")),y(2),O("ngIf",e.formErrors.visibility),y(3),U(D(74,88,"ADMIN.PREMIUM_CONTENT")),y(3),xn("ngModel",e.formData.isPremium),y(2),U(D(79,90,"ADMIN.IS_PREMIUM")),y(2),O("ngIf",e.formErrors.isPremium),y(3),U(D(84,92,"ADMIN.COVER_IMAGE")),y(2),O("ngClass",e.isUploadingImage?"border-green-500 bg-green-50":""),y(),O("ngIf",e.imagePreview||e.formData.imageUrl),y(),O("ngIf",!e.imagePreview&&!e.formData.imageUrl),y(),O("ngIf",e.isUploadingImage),y(4),U(D(93,94,"ADMIN.OR_ENTER_URL")),y(2),xn("ngModel",e.formData.imageUrl),O("placeholder",D(95,96,"ADMIN.ENTER_COVER_IMAGE")),y(4),ee(" ",D(99,98,"ADMIN.SAVE_BLOG")," "),y(3),ee(" ",D(102,100,"COMMON.CANCEL")," ")}}function aEe(n,t){if(1&n){const e=st();_(0,"div",77)(1,"p",78),x(2),S(3,"translate"),v(),_(4,"button",79),le("click",function(){return oe(e),re(L(4).showForm=!0)}),je(),_(5,"svg",15),fe(6,"path",72),v(),x(7),S(8,"translate"),v()()}2&n&&(y(2),U(D(3,2,"ADMIN.NO_BLOGS")),y(5),ee(" ",D(8,4,"ADMIN.CREATE_FIRST_BLOG")," "))}function lEe(n,t){if(1&n){const e=st();_(0,"tr",87),le("click",function(){const r=oe(e).$implicit;return re(L(5).handleEdit(r))}),_(1,"td",88)(2,"div")(3,"div",89),x(4),v(),_(5,"div",90),x(6),v()()(),_(7,"td",91),x(8),v(),_(9,"td",92),x(10),v(),_(11,"td",88)(12,"div",93)(13,"button",94),S(14,"translate"),le("click",function(r){const o=oe(e).$implicit;return L(5).handleEdit(o),re(r.stopPropagation())}),je(),_(15,"svg",15),fe(16,"path",95),v()(),vt(),_(17,"button",96),S(18,"translate"),le("click",function(r){const o=oe(e).$implicit;return L(5).handleDelete(o),re(r.stopPropagation())}),je(),_(19,"svg",15),fe(20,"path",97),v()()()()()}if(2&n){const e=t.$implicit,i=L(5);y(4),U(e.title),y(2),ee(" ",e.excerpt," "),y(2),ee(" ",e.author," "),y(2),ee(" ",i.formatDate(e.date)," "),y(3),is("title",D(14,6,"ADMIN.EDIT")),y(4),is("title",D(18,8,"ADMIN.DELETE"))}}function cEe(n,t){1&n&&(_(0,"div",98)(1,"div",99),je(),_(2,"svg",100),fe(3,"circle",58)(4,"path",59),v(),vt(),_(5,"span",60),x(6),S(7,"translate"),v()()()),2&n&&(y(6),U(D(7,1,"ADMIN.LOADING_MORE")))}function uEe(n,t){1&n&&(_(0,"div",101)(1,"span",67),x(2),S(3,"translate"),v()()),2&n&&(y(2),U(D(3,1,"ADMIN.NO_MORE_ITEMS")))}function dEe(n,t){if(1&n){const e=st();_(0,"div",80),le("scroll",function(r){return oe(e),re(L(4).onScroll(r))}),_(1,"table",81)(2,"thead")(3,"tr",82)(4,"th",83),x(5),S(6,"translate"),v(),_(7,"th",83),x(8),S(9,"translate"),v(),_(10,"th",83),x(11),S(12,"translate"),v(),_(13,"th",83),x(14),S(15,"translate"),v()()(),_(16,"tbody"),pe(17,lEe,21,10,"tr",84),v()(),pe(18,cEe,8,3,"div",85)(19,uEe,4,3,"div",86),v()}if(2&n){const e=L(4);y(5),U(D(6,7,"ADMIN.TITLE")),y(3),U(D(9,9,"ADMIN.AUTHOR")),y(3),U(D(12,11,"ADMIN.CREATED")),y(3),U(D(15,13,"ADMIN.ACTIONS")),y(3),O("ngForOf",e.displayedBlogs),y(),O("ngIf",e.isLoadingMore),y(),O("ngIf",!e.hasMoreItems&&e.displayedBlogs.length>0)}}function hEe(n,t){if(1&n){const e=st();_(0,"div",11)(1,"div",61)(2,"div",62)(3,"div",63)(4,"app-back-button",64),S(5,"translate"),le("back",function(){return oe(e),re(L(3).navigateToAdmin())}),v(),_(6,"div")(7,"h1",17),x(8),S(9,"translate"),v(),_(10,"p",65),x(11),S(12,"translate"),v(),_(13,"div",66)(14,"span",67),x(15),S(16,"translate"),v(),_(17,"select",68),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.currentLanguage,r)||(o.currentLanguage=r),re(r)}),le("change",function(){oe(e);const r=L(3);return re(r.changeLanguage(r.currentLanguage))}),_(18,"option",69),x(19,"SR"),v(),_(20,"option",70),x(21,"EN"),v()()()()(),_(22,"button",71),le("click",function(){return oe(e),re(L(3).showForm=!0)}),je(),_(23,"svg",15),fe(24,"path",72),v(),x(25),S(26,"translate"),v()(),vt(),_(27,"div",18)(28,"div",19)(29,"div",73)(30,"h2",20),x(31),S(32,"translate"),v(),_(33,"div",74)(34,"span"),x(35),S(36,"translate"),S(37,"translate"),v()()()(),_(38,"div",21),pe(39,aEe,9,6,"div",75)(40,dEe,20,15,"div",76),v()()()()}if(2&n){const e=L(3);y(4),O("label",D(5,14,"ADMIN.BACK_TO_ADMIN")),y(4),U(D(9,16,"ADMIN.BLOGS_TITLE")),y(3),U(D(12,18,"ADMIN.BLOGS_SUBTITLE")),y(4),ee("",D(16,20,"ADMIN.MANAGING_LANGUAGE"),":"),y(2),xn("ngModel",e.currentLanguage),y(8),ee(" ",D(26,22,"ADMIN.ADD_NEW_BLOG")," "),y(6),rs("",D(32,24,"ADMIN.ALL_BLOGS")," (",e.blogs.length,")"),y(4),h1("",D(36,26,"ADMIN.SHOWING")," ",e.displayedBlogs.length," ",D(37,28,"ADMIN.OF")," ",e.blogs.length,""),y(4),O("ngIf",0===e.blogs.length),y(),O("ngIf",e.blogs.length>0)}}function fEe(n,t){if(1&n&&(_(0,"div"),pe(1,sEe,103,102,"div",10)(2,hEe,41,30,"div",10),v()),2&n){const e=L(2);y(),O("ngIf",e.showForm),y(),O("ngIf",!e.showForm)}}function mEe(n,t){if(1&n&&(ti(0),pe(1,Qwe,11,9,"div",4)(2,fEe,3,2,"div",0),ni()),2&n){const e=t.ngIf,i=L();y(),O("ngIf",!i.isAdmin(e)),y(),O("ngIf",i.isAdmin(e))}}function pEe(n,t){if(1&n){const e=st();_(0,"div",102)(1,"div",103)(2,"div",104),je(),_(3,"svg",105),fe(4,"path",106),v(),vt(),_(5,"span",107),x(6),v()(),_(7,"button",108),le("click",function(){return oe(e),re(L().showSuccessMessage=!1)}),je(),_(8,"svg",109),fe(9,"path",110),v()()()()}if(2&n){const e=L();y(6),U(e.successMessage)}}let gEe=(()=>{class n{constructor(e,i,r,o,s,a,l){this._router=e,this._auth=i,this._userService=r,this._blogService=o,this._languageService=s,this._imageUploadService=a,this._translate=l,this.userProfile$=qe(null),this.blogs=[],this.filteredBlogs=[],this.showForm=!1,this.editingBlog=null,this.currentLanguage="sr",this.availableLanguages=["sr","en"],this.ContentVisibility=Bo,this.showErrorModal=!1,this.errorMessage="",this.errorTitle="",this.showSuccessMessage=!1,this.successMessage="",this.showConfirmModal=!1,this.confirmTitle="",this.confirmMessage="",this.confirmAction=null,this.displayedBlogs=[],this.itemsPerPage=20,this.currentIndex=0,this.isLoadingMore=!1,this.hasMoreItems=!0,this.formErrors={},this.isUploadingImage=!1,this.imagePreview=null,this.formData={title:"",excerpt:"",fullContent:"",author:"",readTime:"",imageUrl:"",visibility:Bo.PUBLIC,isPremium:!1}}ngOnInit(){this.loadUserProfile(),this.loadCurrentLanguage(),this.loadBlogs()}loadUserProfile(){this.userProfile$=this._auth.user$.pipe(St(e=>e?this._userService.getUserProfile(e.uid):qe(null)))}loadCurrentLanguage(){this.currentLanguage=this._languageService.getCurrentLanguage()}loadBlogs(){this._blogService.getBlogPosts(this.currentLanguage).subscribe(e=>{this.blogs=e.map(i=>({...i,isEditing:!1,isDeleting:!1})),this.initializeInfiniteScroll()})}handleSubmit(e){e.preventDefault(),this.validateForm()&&(this.editingBlog?this.updateBlog():this.createBlog())}validateForm(){return this.formErrors={},this.formData.title.trim()||(this.formErrors.title="Title is required"),this.formData.excerpt.trim()||(this.formErrors.excerpt="Excerpt is required"),this.formData.fullContent.trim()||(this.formErrors.fullContent="Content is required"),this.formData.author.trim()||(this.formErrors.author="Author is required"),this.formData.readTime.trim()||(this.formErrors.readTime="Read time is required"),0===Object.keys(this.formErrors).length}initializeInfiniteScroll(){this.displayedBlogs=[],this.currentIndex=0,this.hasMoreItems=!0,this.loadMoreItems()}loadMoreItems(){this.isLoadingMore||!this.hasMoreItems||(this.isLoadingMore=!0,setTimeout(()=>{const e=Math.min(this.currentIndex+this.itemsPerPage,this.blogs.length),i=this.blogs.slice(this.currentIndex,e);this.displayedBlogs.push(...i),this.currentIndex=e,this.hasMoreItems=this.currentIndex<this.blogs.length,this.isLoadingMore=!1},300))}onScroll(e){const i=e.target;i.scrollHeight-i.scrollTop-i.clientHeight<100&&this.loadMoreItems()}changeLanguage(e){this._languageService.setLanguage(e),this.currentLanguage=e,this.loadBlogs()}showError(e,i){this.errorTitle=e,this.errorMessage=i,this.showErrorModal=!0}showSuccess(e){this.successMessage=e,this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},5e3)}closeErrorModal(){this.showErrorModal=!1}closeConfirmModal(){this.showConfirmModal=!1,this.confirmTitle="",this.confirmMessage="",this.confirmAction=null}onConfirmAction(){this.confirmAction&&this.confirmAction(),this.closeConfirmModal()}onImageSelected(e){const r=e.target.files?.[0];if(r){if(!this._imageUploadService.isValidImage(r))return void this.showError("Invalid Image","Please select a valid image file (JPEG, PNG, GIF, WebP) under 5MB.");this.uploadImage(r)}}uploadImage(e){this.isUploadingImage=!0,this._imageUploadService.uploadImage(e,"blog-images/").subscribe({next:i=>{this.formData.imageUrl=i,this.imagePreview=i,this.isUploadingImage=!1},error:i=>{console.error("Error uploading image:",i),this.isUploadingImage=!1;let r="Failed to upload image. Please try again.";i.message&&(r=i.message),this.showError("Upload Error",r)}})}onDragOver(e){e.preventDefault(),e.stopPropagation()}onDrop(e){e.preventDefault(),e.stopPropagation();const i=e.dataTransfer?.files;if(!i||0===i.length)return;const r=i[0];this._imageUploadService.isValidImage(r)?this.uploadImage(r):this.showError("Invalid Image","Please select a valid image file (JPEG, PNG, GIF, WebP) under 5MB.")}removeImage(){this.formData.imageUrl="",this.imagePreview=null}createBlog(){const e={id:Date.now(),title:this.formData.title,excerpt:this.formData.excerpt,fullContent:this.formData.fullContent,author:this.formData.author,readTime:this.formData.readTime,date:(new Date).toISOString(),imageUrl:this.formData.imageUrl,visibility:this.formData.visibility,isPremium:this.formData.isPremium,isEditing:!1,isDeleting:!1};this._blogService.createBlogPost(e).then(()=>{this.blogs.push(e),this.initializeInfiniteScroll(),this.resetForm(),this.showSuccess(this._translate.instant("ADMIN.BLOG_CREATED_SUCCESS"))}).catch(i=>{console.error("Error creating blog post:",i),this.showError("Create Error","Failed to create blog post. Please try again.")})}updateBlog(){if(!this.editingBlog)return;const e={...this.editingBlog,title:this.formData.title,excerpt:this.formData.excerpt,fullContent:this.formData.fullContent,author:this.formData.author,readTime:this.formData.readTime,imageUrl:this.formData.imageUrl,visibility:this.formData.visibility,isPremium:this.formData.isPremium};this._blogService.updateBlogPost(e).then(()=>{const i=this.blogs.findIndex(r=>r.id===this.editingBlog?.id);-1!==i&&(this.blogs[i]={...e,isEditing:!1,isDeleting:!1}),this.initializeInfiniteScroll(),this.resetForm(),this.showSuccess(this._translate.instant("ADMIN.BLOG_UPDATED_SUCCESS"))}).catch(i=>{console.error("Error updating blog post:",i),this.showError("Update Error","Failed to update blog post. Please try again.")})}resetForm(){this.formData={title:"",excerpt:"",fullContent:"",author:"",readTime:"",imageUrl:"",visibility:Bo.PUBLIC,isPremium:!1},this.editingBlog=null,this.imagePreview=null,this.showForm=!1}handleEdit(e){this.editingBlog=e,this.formData={title:e.title,excerpt:e.excerpt,fullContent:e.fullContent,author:e.author,readTime:e.readTime,imageUrl:e.imageUrl,visibility:e.visibility||Bo.PUBLIC,isPremium:e.isPremium||!1},this.imagePreview=e.imageUrl,this.showForm=!0}handleDelete(e){this.confirmTitle=this._translate.instant("ADMIN.DELETE_BLOG_TITLE"),this.confirmMessage=this._translate.instant("ADMIN.DELETE_BLOG_MESSAGE",{title:e.title}),this.confirmAction=()=>{this._blogService.deleteBlogPost(e.id).then(()=>{this.blogs=this.blogs.filter(i=>i.id!==e.id),this.initializeInfiniteScroll(),this.showSuccess(this._translate.instant("ADMIN.BLOG_DELETED_SUCCESS"))}).catch(i=>{console.error("Error deleting blog post:",i),this.showError("Delete Error","Failed to delete blog post. Please try again.")})},this.showConfirmModal=!0}navigateToAdmin(){this._router.navigate(["/admin"])}isAdmin(e){return e?.role===vi.ADMIN}formatDate(e){return new Date(e).toLocaleDateString()}static{this.\u0275fac=function(i){return new(i||n)(z(oi),z(Aa),z(_l),z(tb),z(Hp),z(Yx),z(Si))}}static{this.\u0275cmp=on({type:n,selectors:[["app-admin-blogs"]],decls:7,vars:19,consts:[[4,"ngIf"],["class","fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-xl border border-green-400 min-w-80",4,"ngIf"],[3,"close","isOpen","title","message","showRetry","showClose"],[3,"close","confirm","isOpen","title","message","confirmText","cancelText","confirmVariant"],["class","min-h-screen bg-gray-50 flex items-center justify-center p-4 sm:p-6",4,"ngIf"],[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","p-4","sm:p-6"],[1,"text-center"],[1,"text-xl","sm:text-2xl","font-bold","text-red-600","mb-4"],[1,"text-gray-600","mb-6"],[1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","w-full","max-w-xs","mx-auto",3,"click"],["class","min-h-screen bg-gray-50 p-2 sm:p-4 md:p-6",4,"ngIf"],[1,"min-h-screen","bg-gray-50","p-2","sm:p-4","md:p-6"],[1,"max-w-4xl","mx-auto"],[1,"flex","flex-col","items-start","gap-2","sm:gap-4","mb-4","sm:mb-6"],[1,"flex","items-center","gap-2","text-green-600","hover:text-green-700","font-medium",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4"],["d","M15 19l-7-7 7-7"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900"],[1,"bg-white","rounded-lg","shadow"],[1,"p-4","sm:p-6","border-b","border-gray-200"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900"],[1,"p-4","sm:p-6"],[1,"space-y-4","sm:space-y-6",3,"submit"],[1,"block","text-xs","sm:text-sm","font-medium","mb-2"],["type","text","name","title","required","",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"ngModelChange","ngModel","ngClass","placeholder"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["name","excerpt","rows","3","required","",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"ngModelChange","ngModel","ngClass","placeholder"],["name","fullContent","rows","8","required","",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"ngModelChange","ngModel","ngClass","placeholder"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","sm:gap-6"],["type","text","name","author","required","",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"ngModelChange","ngModel","ngClass","placeholder"],["type","text","name","readTime","required","",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"ngModelChange","ngModel","ngClass","placeholder"],["name","visibility","required","",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"ngModelChange","ngModel","ngClass"],[3,"value"],[1,"flex","items-center","mt-2"],["type","checkbox","name","isPremium",1,"h-4","w-4","text-green-600","focus:ring-green-500","border-gray-300","rounded",3,"ngModelChange","ngModel"],[1,"ml-2","text-sm","text-gray-700"],[1,"border-2","border-dashed","border-gray-300","rounded-lg","p-4","text-center","hover:border-green-500","transition-colors",3,"dragover","drop","ngClass"],["class","mb-4",4,"ngIf"],["class","mt-4",4,"ngIf"],["id","image-upload","type","file","accept","image/*",1,"hidden",3,"change"],[1,"mt-2"],[1,"block","text-xs","text-gray-600","mb-1"],["type","url","name","imageUrl",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","text-sm",3,"ngModelChange","ngModel","placeholder"],[1,"flex","flex-col","sm:flex-row","gap-2","sm:gap-4"],["type","submit",1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","w-full","sm:w-auto"],["type","button",1,"bg-gray-300","hover:bg-gray-400","text-gray-700","font-semibold","py-2","px-4","rounded-lg","w-full","sm:w-auto",3,"click"],[1,"text-red-500","text-xs","mt-1"],[1,"mb-4"],["alt","Cover image preview",1,"max-w-full","h-32","object-cover","rounded","mx-auto",3,"src"],["type","button",1,"mt-2","text-red-600","hover:text-red-700","text-sm",3,"click"],["stroke","currentColor","fill","none","viewBox","0 0 48 48",1,"mx-auto","h-12","w-12","text-gray-400"],["d","M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"mt-2","text-sm","text-gray-600"],["for","image-upload",1,"text-green-600","hover:text-green-700","cursor-pointer"],[1,"text-xs","text-gray-500","mt-1"],[1,"mt-4"],[1,"flex","items-center","justify-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-green-600","mr-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-sm","text-gray-600"],[1,"max-w-7xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-2","sm:gap-4","mb-4","sm:mb-6"],[1,"flex","flex-col","gap-2","sm:gap-4"],[3,"back","label"],[1,"text-gray-600","mt-1","sm:mt-2","text-sm","sm:text-base"],[1,"flex","items-center","gap-2","mt-2"],[1,"text-sm","text-gray-500"],[1,"px-2","py-1","text-xs","border","border-gray-300","rounded","focus:outline-none","focus:ring-2","focus:ring-green-500",3,"ngModelChange","change","ngModel"],["value","sr"],["value","en"],[1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","flex","items-center","gap-2","w-full","sm:w-auto",3,"click"],["d","M12 4v16m8-8H4"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-2"],[1,"flex","items-center","gap-4","text-sm","text-gray-600"],["class","text-center py-8 sm:py-12",4,"ngIf"],["class","overflow-x-auto max-h-96 overflow-y-auto",3,"scroll",4,"ngIf"],[1,"text-center","py-8","sm:py-12"],[1,"text-gray-500","mb-4"],[1,"bg-gray-300","hover:bg-gray-400","text-gray-700","font-semibold","py-2","px-4","rounded-lg","flex","items-center","gap-2","mx-auto","w-full","sm:w-auto",3,"click"],[1,"overflow-x-auto","max-h-96","overflow-y-auto",3,"scroll"],[1,"w-full","min-w-[600px]"],[1,"border-b","border-gray-200"],[1,"text-left","py-2","sm:py-3","px-2","sm:px-4","font-medium","text-gray-900","text-xs","sm:text-sm"],["class","border-b border-gray-100 hover:bg-gray-50 cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","flex justify-center items-center py-4",4,"ngIf"],["class","text-center py-4",4,"ngIf"],[1,"border-b","border-gray-100","hover:bg-gray-50","cursor-pointer",3,"click"],[1,"py-2","sm:py-3","px-2","sm:px-4"],[1,"font-medium","text-xs","sm:text-sm"],[1,"text-xs","text-gray-500","truncate","max-w-xs"],[1,"py-2","sm:py-3","px-2","sm:px-4","text-xs","sm:text-sm"],[1,"py-2","sm:py-3","px-2","sm:px-4","text-xs","text-gray-500"],[1,"flex","flex-col","sm:flex-row","gap-2"],[1,"text-blue-600","hover:text-blue-700","text-xs","sm:text-sm",3,"click","title"],["d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"text-red-600","hover:text-red-700","text-xs","sm:text-sm",3,"click","title"],["d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"flex","justify-center","items-center","py-4"],[1,"flex","items-center","gap-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-green-600"],[1,"text-center","py-4"],[1,"fixed","top-4","right-4","z-50","bg-green-500","text-white","px-6","py-4","rounded-lg","shadow-xl","border","border-green-400","min-w-80"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-6","h-6","flex-shrink-0"],["d","M5 13l4 4L19 7"],[1,"font-medium"],["title","Close",1,"ml-4","p-1","hover:bg-green-600","rounded-full","transition-colors",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-4","h-4"],["d","M6 18L18 6M6 6l12 12"]],template:function(i,r){1&i&&(pe(0,mEe,3,2,"ng-container",0),S(1,"async"),pe(2,pEe,10,1,"div",1),_(3,"app-error-modal",2),le("close",function(){return r.closeErrorModal()}),v(),_(4,"app-confirmation-modal",3),S(5,"translate"),S(6,"translate"),le("close",function(){return r.closeConfirmModal()})("confirm",function(){return r.onConfirmAction()}),v()),2&i&&(O("ngIf",D(1,13,r.userProfile$)),y(2),O("ngIf",r.showSuccessMessage),y(),O("isOpen",r.showErrorModal)("title",r.errorTitle)("message",r.errorMessage)("showRetry",!1)("showClose",!0),y(),O("isOpen",r.showConfirmModal)("title",r.confirmTitle)("message",r.confirmMessage)("confirmText",D(5,15,"ADMIN.DELETE"))("cancelText",D(6,17,"COMMON.CANCEL"))("confirmVariant","danger"))},dependencies:[au,Is,Ii,bu,zv,Hv,Ks,GE,ch,rl,yu,wu,Ca,rc,lk,ck,Js,os,Yi],styles:["form[_ngcontent-%COMP%]   .space-y-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{transition:border-color .2s ease-in-out,box-shadow .2s ease-in-out}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}table[_ngcontent-%COMP%]{border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.inline-flex[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.bg-white[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.bg-white[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}.text-blue-600[_ngcontent-%COMP%], .text-green-600[_ngcontent-%COMP%], .text-yellow-600[_ngcontent-%COMP%], .text-red-600[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.text-blue-600[_ngcontent-%COMP%]:hover, .text-green-600[_ngcontent-%COMP%]:hover, .text-yellow-600[_ngcontent-%COMP%]:hover, .text-red-600[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.text-3xl[_ngcontent-%COMP%]{font-size:1.875rem}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{min-width:600px}.flex.gap-2[_ngcontent-%COMP%]:not(button){flex-direction:column;gap:.5rem}}"]})}}return n})();function _Ee(n,t){if(1&n){const e=st();_(0,"div",4)(1,"div",5)(2,"h1",6),x(3),S(4,"translate"),v(),_(5,"p",7),x(6),S(7,"translate"),v(),_(8,"button",8),le("click",function(){return oe(e),re(L(2).navigateToAdmin())}),x(9),S(10,"translate"),v(),_(11,"div",9)(12,"div")(13,"strong"),x(14,"Debug info:"),v()(),_(15,"div"),x(16,"User profile: "),_(17,"pre"),x(18),S(19,"json"),v()(),_(20,"div"),x(21,"User role: "),_(22,"strong"),x(23),v()(),_(24,"div"),x(25,"User UID: "),_(26,"strong"),x(27),v()()()()()}if(2&n){const e=L().ngIf;y(3),U(D(4,6,"ADMIN.ACCESS_DENIED")),y(3),U(D(7,8,"ADMIN.ACCESS_DENIED_MESSAGE")),y(3),ee(" ",D(10,10,"ADMIN.BACK_TO_HOME")," "),y(9),U(D(19,12,e)),y(5),U((null==e?null:e.role)||"none"),y(4),U((null==e?null:e.uid)||"none")}}function vEe(n,t){if(1&n){const e=st();_(0,"button",50),le("click",function(){oe(e);const r=L().index;return re(L(4).removeBioParagraph(r))}),je(),_(1,"svg",15),fe(2,"path",51),v()()}}function yEe(n,t){if(1&n&&(_(0,"div",47),fe(1,"textarea",48),S(2,"translate"),pe(3,vEe,3,0,"button",49),v()),2&n){const e=t.index,i=L(4);y(),O("formControlName",e)("placeholder",D(2,3,"ADMIN.ENTER_BIO_PARAGRAPH")),y(2),O("ngIf",i.bioParagraphs.length>1)}}function bEe(n,t){if(1&n){const e=st();_(0,"div",52)(1,"div",53)(2,"div")(3,"label",54),x(4),S(5,"translate"),v(),fe(6,"input",55),S(7,"translate"),v(),_(8,"div")(9,"label",54),x(10),S(11,"translate"),v(),fe(12,"input",56),S(13,"translate"),v()(),_(14,"div",57)(15,"label",54),x(16),S(17,"translate"),v(),fe(18,"textarea",58),S(19,"translate"),v(),_(20,"button",59),le("click",function(){const r=oe(e).index;return re(L(4).removeExperience(r))}),x(21),S(22,"translate"),v()()}2&n&&(O("formGroupName",t.index),y(4),U(D(5,8,"ADMIN.EXPERIENCE_TITLE")),y(2),O("placeholder",D(7,10,"ADMIN.ENTER_EXPERIENCE_TITLE")),y(4),U(D(11,12,"ADMIN.DATE_RANGE")),y(2),O("placeholder",D(13,14,"ADMIN.ENTER_DATE_RANGE")),y(4),U(D(17,16,"ADMIN.EXPERIENCE_DESCRIPTION")),y(2),O("placeholder",D(19,18,"ADMIN.ENTER_EXPERIENCE_DESCRIPTION")),y(3),ee(" ",D(22,20,"ADMIN.REMOVE_EXPERIENCE")," "))}function wEe(n,t){if(1&n&&(_(0,"div",57),fe(1,"img",60),v()),2&n){const e=L(4);y(),O("src",e.imagePreview,Lr)}}function EEe(n,t){1&n&&(_(0,"span"),x(1),S(2,"translate"),v()),2&n&&(y(),U(D(2,1,"ADMIN.UPLOAD_IMAGE")))}function IEe(n,t){1&n&&(_(0,"span"),x(1),S(2,"translate"),v()),2&n&&(y(),U(D(2,1,"ADMIN.UPLOADING_IMAGE")))}function xEe(n,t){if(1&n){const e=st();_(0,"div",11)(1,"div",12)(2,"div",13)(3,"button",14),le("click",function(){return oe(e),re(L(3).showForm=!1)}),je(),_(4,"svg",15),fe(5,"path",16),v(),x(6),S(7,"translate"),v(),vt(),_(8,"h1",17),x(9),S(10,"translate"),v()(),_(11,"div",18)(12,"div",19)(13,"h2",20),x(14),S(15,"translate"),v()(),_(16,"div",21)(17,"form",22),le("submit",function(r){return oe(e),re(L(3).handleSubmit(r))}),_(18,"div",23)(19,"div")(20,"label",24),x(21),S(22,"translate"),v(),fe(23,"input",25),S(24,"translate"),v(),_(25,"div")(26,"label",24),x(27),S(28,"translate"),v(),fe(29,"input",26),S(30,"translate"),v()(),_(31,"div",27)(32,"label",24),x(33),S(34,"translate"),v(),_(35,"div",28),pe(36,yEe,4,5,"div",29),_(37,"button",30),le("click",function(){return oe(e),re(L(3).addBioParagraph())}),x(38),S(39,"translate"),v()()(),_(40,"div",31)(41,"label",24),x(42),S(43,"translate"),v(),_(44,"div",32),pe(45,bEe,23,22,"div",33),_(46,"button",30),le("click",function(){return oe(e),re(L(3).addExperience())}),x(47),S(48,"translate"),v()()(),_(49,"div",34)(50,"div")(51,"label",24),x(52),S(53,"translate"),v(),fe(54,"input",35),S(55,"translate"),v(),_(56,"div")(57,"label",24),x(58),S(59,"translate"),v(),fe(60,"input",36),S(61,"translate"),v(),_(62,"div")(63,"label",24),x(64),S(65,"translate"),v(),fe(66,"input",37),S(67,"translate"),v()(),_(68,"div")(69,"label",24),x(70),S(71,"translate"),v(),pe(72,wEe,2,1,"div",38),_(73,"div",39)(74,"label",40),pe(75,EEe,3,3,"span",0)(76,IEe,3,3,"span",0),v(),_(77,"input",41),le("change",function(r){return oe(e),re(L(3).onImageSelected(r))}),v(),_(78,"div",42),fe(79,"input",43),S(80,"translate"),v()()(),_(81,"div",44)(82,"button",45),x(83),S(84,"translate"),v(),_(85,"button",46),le("click",function(){return oe(e),re(L(3).showForm=!1)}),x(86),S(87,"translate"),v()()()()()()()}if(2&n){const e=L(3);y(6),ee(" ",D(7,27,"ADMIN.BACK_TO_ABOUT")," "),y(3),ee(" ",D(10,29,"ADMIN.EDIT_ABOUT_PAGE")," "),y(5),U(D(15,31,"ADMIN.ABOUT_DETAILS")),y(3),O("formGroup",e.aboutForm),y(4),U(D(22,33,"ADMIN.NAME")),y(2),O("placeholder",D(24,35,"ADMIN.ENTER_NAME")),y(4),U(D(28,37,"ADMIN.ROLE")),y(2),O("placeholder",D(30,39,"ADMIN.ENTER_ROLE")),y(4),U(D(34,41,"ADMIN.BIOGRAPHY")),y(3),O("ngForOf",e.bioParagraphs.controls),y(2),ee(" + ",D(39,43,"ADMIN.ADD_BIO_PARAGRAPH")," "),y(4),U(D(43,45,"ADMIN.EXPERIENCES")),y(3),O("ngForOf",e.experiences.controls),y(2),ee(" + ",D(48,47,"ADMIN.ADD_EXPERIENCE")," "),y(5),U(D(53,49,"ADMIN.EMAIL")),y(2),O("placeholder",D(55,51,"ADMIN.ENTER_EMAIL")),y(4),U(D(59,53,"ADMIN.PHONE")),y(2),O("placeholder",D(61,55,"ADMIN.ENTER_PHONE")),y(4),U(D(65,57,"ADMIN.LOCATION")),y(2),O("placeholder",D(67,59,"ADMIN.ENTER_LOCATION")),y(4),U(D(71,61,"ADMIN.PROFILE_IMAGE")),y(2),O("ngIf",e.imagePreview),y(3),O("ngIf",!e.isUploadingImage),y(),O("ngIf",e.isUploadingImage),y(3),O("placeholder",D(80,63,"ADMIN.ENTER_IMAGE_URL")),y(4),ee(" ",D(84,65,"ADMIN.SAVE_ABOUT")," "),y(3),ee(" ",D(87,67,"COMMON.CANCEL")," ")}}function CEe(n,t){if(1&n&&(_(0,"p",77),x(1),v()),2&n){const e=t.$implicit;y(),U(e)}}function TEe(n,t){if(1&n&&(_(0,"p",86),x(1),v()),2&n){const e=L().$implicit;y(),U(e.dateRange)}}function AEe(n,t){if(1&n&&(_(0,"div",82)(1,"h4",83),x(2),v(),pe(3,TEe,2,1,"p",84),_(4,"p",85),x(5),v()()),2&n){const e=t.$implicit;y(2),U(e.title),y(),O("ngIf",e.dateRange),y(2),U(e.description)}}function SEe(n,t){if(1&n&&(_(0,"div")(1,"h3",76),x(2),S(3,"translate"),v(),_(4,"div",28),pe(5,AEe,6,3,"div",81),v()()),2&n){const e=L(5);y(2),U(D(3,2,"ADMIN.EXPERIENCES")),y(3),O("ngForOf",e.aboutContent.experiences)}}function DEe(n,t){if(1&n&&(_(0,"div")(1,"h3",76),x(2),S(3,"translate"),v(),_(4,"p",77),x(5),S(6,"date"),v()()),2&n){const e=L(5);y(2),U(D(3,2,"ADMIN.LAST_UPDATED")),y(3),U(Gl(6,4,e.aboutContent.lastUpdated,"medium"))}}function MEe(n,t){if(1&n&&(_(0,"div",74)(1,"div",75)(2,"div")(3,"h3",76),x(4),S(5,"translate"),v(),_(6,"p",77),x(7),v()(),_(8,"div")(9,"h3",76),x(10),S(11,"translate"),v(),_(12,"p",77),x(13),v()()(),_(14,"div")(15,"h3",76),x(16),S(17,"translate"),v(),_(18,"div",78),pe(19,CEe,2,1,"p",79),v()(),pe(20,SEe,6,4,"div",0),_(21,"div",80)(22,"div")(23,"h3",76),x(24),S(25,"translate"),v(),_(26,"p",77),x(27),v()(),_(28,"div")(29,"h3",76),x(30),S(31,"translate"),v(),_(32,"p",77),x(33),v()(),_(34,"div")(35,"h3",76),x(36),S(37,"translate"),v(),_(38,"p",77),x(39),v()()(),pe(40,DEe,7,7,"div",0),v()),2&n){const e=L(4);y(4),U(D(5,14,"ADMIN.NAME")),y(3),U(e.aboutContent.name),y(3),U(D(11,16,"ADMIN.ROLE")),y(3),U(e.aboutContent.role),y(3),U(D(17,18,"ADMIN.BIOGRAPHY")),y(3),O("ngForOf",e.aboutContent.bioParagraphs),y(),O("ngIf",e.aboutContent.experiences&&e.aboutContent.experiences.length>0),y(4),U(D(25,20,"ADMIN.EMAIL")),y(3),U(e.aboutContent.email),y(3),U(D(31,22,"ADMIN.PHONE")),y(3),U(e.aboutContent.phone),y(3),U(D(37,24,"ADMIN.LOCATION")),y(3),U(e.aboutContent.location),y(),O("ngIf",e.aboutContent.lastUpdated)}}function REe(n,t){if(1&n){const e=st();_(0,"div",87)(1,"p",88),x(2),S(3,"translate"),v(),_(4,"button",89),le("click",function(){return oe(e),re(L(4).showForm=!0)}),je(),_(5,"svg",15),fe(6,"path",90),v(),x(7),S(8,"translate"),v()()}2&n&&(y(2),U(D(3,2,"ADMIN.NO_ABOUT_CONTENT")),y(5),ee(" ",D(8,4,"ADMIN.CREATE_ABOUT_CONTENT")," "))}function PEe(n,t){if(1&n){const e=st();_(0,"div",11)(1,"div",12)(2,"div",61)(3,"div",62)(4,"app-back-button",63),S(5,"translate"),le("back",function(){return oe(e),re(L(3).navigateToAdmin())}),v(),_(6,"div")(7,"h1",17),x(8),S(9,"translate"),v(),_(10,"p",64),x(11),S(12,"translate"),v(),_(13,"div",65)(14,"span",66),x(15),S(16,"translate"),v(),_(17,"select",67),Cn("ngModelChange",function(r){oe(e);const o=L(3);return Mn(o.currentLanguage,r)||(o.currentLanguage=r),re(r)}),le("change",function(){oe(e);const r=L(3);return re(r.changeLanguage(r.currentLanguage))}),_(18,"option",68),x(19,"SR"),v(),_(20,"option",69),x(21,"EN"),v()()()()(),_(22,"button",70),le("click",function(){return oe(e),re(L(3).showForm=!0)}),je(),_(23,"svg",15),fe(24,"path",71),v(),x(25),S(26,"translate"),v()(),vt(),_(27,"div",18)(28,"div",19)(29,"h2",20),x(30),S(31,"translate"),v()(),_(32,"div",21),pe(33,MEe,41,26,"div",72)(34,REe,9,6,"div",73),v()()()()}if(2&n){const e=L(3);y(4),O("label",D(5,9,"ADMIN.BACK_TO_ADMIN")),y(4),U(D(9,11,"ADMIN.ABOUT_TITLE")),y(3),U(D(12,13,"ADMIN.ABOUT_SUBTITLE")),y(4),ee("",D(16,15,"ADMIN.MANAGING_LANGUAGE"),":"),y(2),xn("ngModel",e.currentLanguage),y(8),ee(" ",D(26,17,"ADMIN.EDIT_ABOUT_PAGE")," "),y(5),U(D(31,19,"ADMIN.CURRENT_ABOUT_CONTENT")),y(3),O("ngIf",e.aboutContent),y(),O("ngIf",!e.aboutContent)}}function kEe(n,t){if(1&n&&(_(0,"div"),pe(1,xEe,88,69,"div",10)(2,PEe,35,21,"div",10),v()),2&n){const e=L(2);y(),O("ngIf",e.showForm),y(),O("ngIf",!e.showForm)}}function OEe(n,t){if(1&n&&(ti(0),pe(1,_Ee,28,14,"div",3)(2,kEe,3,2,"div",0),ni()),2&n){const e=t.ngIf,i=L();y(),O("ngIf",!i.isAdmin(e)),y(),O("ngIf",i.isAdmin(e))}}function NEe(n,t){if(1&n){const e=st();_(0,"div",91)(1,"div",92)(2,"h3",93),x(3),v(),_(4,"p",94),x(5),v(),_(6,"button",95),le("click",function(){return oe(e),re(L().hideError())}),x(7),S(8,"translate"),v()()()}if(2&n){const e=L();y(3),U(e.errorTitle),y(2),U(e.errorMessage),y(2),ee(" ",D(8,3,"COMMON.CLOSE")," ")}}function FEe(n,t){if(1&n&&(_(0,"div",96),x(1),v()),2&n){const e=L();y(),ee(" ",e.successMessage,"\n")}}let LEe=(()=>{class n{constructor(e,i,r,o,s,a,l){this._fb=e,this._router=i,this._auth=r,this._userService=o,this._aboutService=s,this._languageService=a,this._imageUploadService=l,this.userProfile$=qe(null),this.aboutContent=null,this.showForm=!1,this.currentLanguage="sr",this.availableLanguages=["sr","en"],this.showErrorModal=!1,this.errorMessage="",this.errorTitle="",this.showSuccessMessage=!1,this.successMessage="",this.isUploadingImage=!1,this.imagePreview=null}ngOnInit(){this.initializeForm(),this.loadUserProfile(),this.loadCurrentLanguage(),this.loadAboutContent()}initializeForm(){this.aboutForm=this._fb.group({name:["",Qs.required],role:["",Qs.required],email:["",[Qs.required,Qs.email]],phone:["",Qs.required],location:["",Qs.required],profileImageUrl:[""],bioParagraphs:this._fb.array([this._fb.control("",Qs.required)]),experiences:this._fb.array([])})}loadUserProfile(){this._auth.user$.pipe(St(e=>e?this._userService.getUserProfile(e.uid):qe(null))).subscribe(e=>{this.userProfile$=qe(e)})}loadCurrentLanguage(){this.currentLanguage=this._languageService.getCurrentLanguage()}loadAboutContent(){this._aboutService.getAboutContent().subscribe(e=>{this.aboutContent=e,this.patchFormWithData()})}patchFormWithData(){this.aboutContent&&(this.aboutForm.patchValue({name:this.aboutContent.name,role:this.aboutContent.role,email:this.aboutContent.email,phone:this.aboutContent.phone,location:this.aboutContent.location,profileImageUrl:this.aboutContent.profileImageUrl}),this.bioParagraphs.clear(),this.aboutContent.bioParagraphs.forEach(e=>this.bioParagraphs.push(this._fb.control(e,Qs.required))),this.experiences.clear(),this.aboutContent.experiences.forEach(e=>this.addExperience(e)),this.imagePreview=this.aboutContent.profileImageUrl||null)}handleSubmit(e){e.preventDefault(),this.aboutForm.markAllAsTouched(),!this.aboutForm.invalid&&this.updateAboutContent()}updateAboutContent(){const i={...this.aboutForm.value,lastUpdated:(new Date).toISOString()};this._aboutService.updateAboutContent(i).then(()=>{this.aboutContent=i,this.showForm=!1,this.showSuccess("About content updated successfully!")}).catch(r=>{console.error("Error updating about content:",r),this.showError("Update Error","Failed to update about content. Please try again.")})}onImageSelected(e){const r=e.target.files?.[0];if(r){if(!this._imageUploadService.isValidImage(r))return void this.showError("Invalid Image","Please select a valid image file (JPEG, PNG, GIF, WebP) under 5MB.");this.isUploadingImage=!0,this._imageUploadService.uploadImage(r,"admin-uploads/about-images/").subscribe({next:o=>{this.aboutForm.get("profileImageUrl")?.setValue(o),this.imagePreview=o,this.isUploadingImage=!1},error:o=>{console.error("Error uploading image:",o),this.isUploadingImage=!1,this.showError("Upload Error","Failed to upload image. Please try again.")}})}}get bioParagraphs(){return this.aboutForm.get("bioParagraphs")}addBioParagraph(){this.bioParagraphs.push(this._fb.control("",Qs.required))}removeBioParagraph(e){this.bioParagraphs.length>1&&this.bioParagraphs.removeAt(e)}get experiences(){return this.aboutForm.get("experiences")}addExperience(e){this.experiences.push(this._fb.group({title:[e?.title||"",Qs.required],description:[e?.description||"",Qs.required],dateRange:[e?.dateRange||"",Qs.required]}))}removeExperience(e){this.experiences.removeAt(e)}changeLanguage(e){this.currentLanguage=e,this._languageService.setLanguage(e),this.loadAboutContent()}showError(e,i){this.errorTitle=e,this.errorMessage=i,this.showErrorModal=!0}hideError(){this.showErrorModal=!1,this.errorTitle="",this.errorMessage=""}showSuccess(e){this.successMessage=e,this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1,this.successMessage=""},3e3)}isAdmin(e){return e?.role===vi.ADMIN}navigateToAdmin(){this._router.navigate(["/admin"])}static{this.\u0275fac=function(i){return new(i||n)(z(Yle),z(oi),z(Aa),z(_l),z(ak),z(Hp),z(Yx))}}static{this.\u0275cmp=on({type:n,selectors:[["app-admin-about"]],decls:4,vars:5,consts:[[4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],["class","fixed top-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",4,"ngIf"],["class","min-h-screen bg-gray-50 flex items-center justify-center p-4 sm:p-6",4,"ngIf"],[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","p-4","sm:p-6"],[1,"text-center"],[1,"text-xl","sm:text-2xl","font-bold","text-red-600","mb-4"],[1,"text-gray-600","mb-6"],[1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","w-full","max-w-xs","mx-auto",3,"click"],[1,"mt-6","p-4","bg-yellow-100","text-yellow-800","rounded","text-left","text-xs","sm:text-sm","overflow-x-auto"],["class","min-h-screen bg-gray-50 p-2 sm:p-4 md:p-6",4,"ngIf"],[1,"min-h-screen","bg-gray-50","p-2","sm:p-4","md:p-6"],[1,"max-w-4xl","mx-auto"],[1,"flex","flex-col","items-start","gap-2","sm:gap-4","mb-4","sm:mb-6"],[1,"flex","items-center","gap-2","text-green-600","hover:text-green-700","font-medium",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4"],["d","M15 19l-7-7 7-7"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900"],[1,"bg-white","rounded-lg","shadow"],[1,"p-4","sm:p-6","border-b","border-gray-200"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900"],[1,"p-4","sm:p-6"],[1,"space-y-4","sm:space-y-6",3,"submit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","sm:gap-6"],[1,"block","text-xs","sm:text-sm","font-medium","mb-2"],["type","text","formControlName","name",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"placeholder"],["type","text","formControlName","role",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"placeholder"],["formArrayName","bioParagraphs"],[1,"space-y-3"],["class","flex gap-2",4,"ngFor","ngForOf"],["type","button",1,"text-green-600","hover:text-green-700","text-sm","font-medium",3,"click"],["formArrayName","experiences"],[1,"space-y-4"],["class","border border-gray-200 rounded-lg p-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4","sm:gap-6"],["type","email","formControlName","email",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"placeholder"],["type","tel","formControlName","phone",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"placeholder"],["type","text","formControlName","location",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"placeholder"],["class","mb-3",4,"ngIf"],[1,"flex","items-center","gap-3"],["for","image-upload",1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","cursor-pointer","text-sm"],["id","image-upload","type","file","accept","image/*",1,"hidden",3,"change"],[1,"flex-1"],["type","url","formControlName","profileImageUrl",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","text-sm",3,"placeholder"],[1,"flex","flex-col","sm:flex-row","gap-2","sm:gap-4"],["type","submit",1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","w-full","sm:w-auto"],["type","button",1,"bg-gray-300","hover:bg-gray-400","text-gray-700","font-semibold","py-2","px-4","rounded-lg","w-full","sm:w-auto",3,"click"],[1,"flex","gap-2"],["rows","3",1,"flex-1","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","text-sm",3,"formControlName","placeholder"],["type","button","class","px-2 py-1 text-red-600 hover:text-red-700 text-sm",3,"click",4,"ngIf"],["type","button",1,"px-2","py-1","text-red-600","hover:text-red-700","text-sm",3,"click"],["d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"border","border-gray-200","rounded-lg","p-3",3,"formGroupName"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3","mb-3"],[1,"block","text-xs","font-medium","mb-1"],["type","text","formControlName","title",1,"w-full","px-2","py-1","border","border-gray-300","rounded","text-sm",3,"placeholder"],["type","text","formControlName","dateRange",1,"w-full","px-2","py-1","border","border-gray-300","rounded","text-sm",3,"placeholder"],[1,"mb-3"],["formControlName","description","rows","2",1,"w-full","px-2","py-1","border","border-gray-300","rounded","text-sm",3,"placeholder"],["type","button",1,"text-red-600","hover:text-red-700","text-xs",3,"click"],["alt","Profile preview",1,"w-24","h-24","rounded-full","object-cover","border-2","border-gray-200",3,"src"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-2","sm:gap-4","mb-4","sm:mb-6"],[1,"flex","flex-col","gap-2","sm:gap-4"],[3,"back","label"],[1,"text-gray-600","mt-1","sm:mt-2","text-sm","sm:text-base"],[1,"flex","items-center","gap-2","mt-2"],[1,"text-sm","text-gray-500"],[1,"px-2","py-1","text-xs","border","border-gray-300","rounded","focus:outline-none","focus:ring-2","focus:ring-green-500",3,"ngModelChange","change","ngModel"],["value","sr"],["value","en"],[1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","flex","items-center","gap-2","w-full","sm:w-auto",3,"click"],["d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["class","space-y-6",4,"ngIf"],["class","text-center py-8 sm:py-12",4,"ngIf"],[1,"space-y-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"font-semibold","text-gray-900","mb-2"],[1,"text-gray-700"],[1,"space-y-2"],["class","text-gray-700",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4"],["class","border-l-4 border-green-500 pl-3",4,"ngFor","ngForOf"],[1,"border-l-4","border-green-500","pl-3"],[1,"font-medium","text-gray-900"],["class","text-green-600 text-sm",4,"ngIf"],[1,"text-gray-700","mt-1"],[1,"text-green-600","text-sm"],[1,"text-center","py-8","sm:py-12"],[1,"text-gray-500","mb-4"],[1,"bg-gray-300","hover:bg-gray-400","text-gray-700","font-semibold","py-2","px-4","rounded-lg","flex","items-center","gap-2","mx-auto","w-full","sm:w-auto",3,"click"],["d","M12 4v16m8-8H4"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-lg","max-w-md","w-full","p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-700","mb-4"],[1,"w-full","bg-gray-300","hover:bg-gray-400","text-gray-700","font-semibold","py-2","px-4","rounded-lg",3,"click"],[1,"fixed","top-4","right-4","bg-green-600","text-white","px-6","py-3","rounded-lg","shadow-lg","z-50"]],template:function(i,r){1&i&&(pe(0,OEe,3,2,"ng-container",0),S(1,"async"),pe(2,NEe,9,5,"div",1)(3,FEe,2,1,"div",2)),2&i&&(O("ngIf",D(1,3,r.userProfile$)),y(2),O("ngIf",r.showErrorModal),y(),O("ngIf",r.showSuccessMessage))},dependencies:[Is,Ii,bu,zv,Hv,Ks,ch,rl,yu,Ca,iI,LD,rI,oI,Js,os,X1,sv,Yi],styles:["form[_ngcontent-%COMP%]   .space-y-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{transition:border-color .2s ease-in-out,box-shadow .2s ease-in-out}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.border-l-4[_ngcontent-%COMP%]{border-left-width:4px;border-left-color:#10b981}img[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.text-red-500[_ngcontent-%COMP%]{color:#ef4444}.border-red-500[_ngcontent-%COMP%]{border-color:#ef4444}.focus\\:ring-red-500[_ngcontent-%COMP%]:focus{--tw-ring-color: #ef4444}.bg-green-600[_ngcontent-%COMP%]{background-color:#059669}.fixed[_ngcontent-%COMP%]{position:fixed}.bg-black.bg-opacity-50[_ngcontent-%COMP%]{background-color:#00000080}.bg-white[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.bg-white[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}.text-blue-600[_ngcontent-%COMP%], .text-green-600[_ngcontent-%COMP%], .text-yellow-600[_ngcontent-%COMP%], .text-red-600[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.text-blue-600[_ngcontent-%COMP%]:hover, .text-green-600[_ngcontent-%COMP%]:hover, .text-yellow-600[_ngcontent-%COMP%]:hover, .text-red-600[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.text-3xl[_ngcontent-%COMP%]{font-size:1.875rem}.max-w-4xl[_ngcontent-%COMP%]{max-width:100%}.flex.gap-2[_ngcontent-%COMP%]:not(button){flex-direction:column;gap:.5rem}.space-y-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1rem}.space-y-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1.5rem}}select[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e\");background-position:right .5rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem}.isUploadingImage[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}.space-y-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1rem}.space-y-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1.5rem}.experience-item[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:.5rem;padding:.75rem;margin-bottom:1rem}.experience-item[_ngcontent-%COMP%]:hover{border-color:#10b981}.bio-paragraph[_ngcontent-%COMP%]{position:relative}.bio-paragraph[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;opacity:0;transition:opacity .2s ease-in-out}.bio-paragraph[_ngcontent-%COMP%]:hover   .remove-button[_ngcontent-%COMP%]{opacity:1}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.fixed.top-4.right-4[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}"]})}}return n})();const VEe=n=>({term:n});function UEe(n,t){if(1&n){const e=st();_(0,"tr",27),le("click",function(){const r=oe(e).$implicit;return re(L().openUserModal(r))}),_(1,"td",28),fe(2,"img",29),_(3,"span",30),x(4),v()(),_(5,"td",31),x(6),v(),_(7,"td",31)(8,"span",32),x(9),v()(),_(10,"td",31),x(11),S(12,"date"),v(),_(13,"td",33)(14,"button",34),S(15,"translate"),le("click",function(r){const o=oe(e).$implicit,s=L();return r.stopPropagation(),re(s.openUserModal(o))}),je(),_(16,"svg",35),fe(17,"path",36)(18,"path",37),v()(),vt(),_(19,"button",34),S(20,"translate"),le("click",function(r){const o=oe(e).$implicit,s=L();return r.stopPropagation(),re(s.resetPassword(o))}),je(),_(21,"svg",38),fe(22,"path",39)(23,"rect",40),v()(),vt(),_(24,"button",34),S(25,"translate"),le("click",function(r){const o=oe(e).$implicit,s=L();return r.stopPropagation(),re(s.openDeleteModal(o))}),je(),_(26,"svg",41),fe(27,"path",42)(28,"path",43),v()()()()}if(2&n){const e=t.$implicit,i=L();y(2),O("src",i.getAvatarUrl(e),Lr)("alt",e.displayName),y(2),U(e.displayName),y(2),U(e.email),y(2),O("ngClass",i.getRoleBadgeClass(e.role)),y(),ee(" ",i.getRoleDisplayName(e.role)," "),y(2),U(Gl(12,10,e.createdAt,"mediumDate")),y(3),ei("aria-label",D(15,13,"ADMIN.EDIT_USER")),y(5),ei("aria-label",D(20,15,"ADMIN.RESET_PASSWORD")),y(5),ei("aria-label",D(25,17,"ADMIN.DELETE_USER"))}}function BEe(n,t){if(1&n&&(_(0,"tr")(1,"td",44),x(2),S(3,"translate"),S(4,"translate"),v()()),2&n){const e=L();y(2),U(e.searchTerm?Gl(3,1,"ADMIN.NO_USERS_FOUND_SEARCH",_1(6,VEe,e.searchTerm)):D(4,4,"ADMIN.NO_USERS_FOUND"))}}function jEe(n,t){if(1&n){const e=st();_(0,"div")(1,"label",51),x(2),S(3,"translate"),v(),_(4,"input",62),S(5,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L(2);return Mn(o.userFormModel.password,r)||(o.userFormModel.password=r),re(r)}),v()()}if(2&n){const e=L(2);y(2),ee("",D(3,3,"ADMIN.USER_PASSWORD")," *"),y(2),is("placeholder",D(5,5,"ADMIN.USER_PASSWORD_PLACEHOLDER")),xn("ngModel",e.userFormModel.password)}}function zEe(n,t){if(1&n){const e=st();_(0,"div",45)(1,"div",46)(2,"button",47),S(3,"translate"),le("click",function(){return oe(e),re(L().closeUserModal())}),_(4,"span",48),x(5,"\xd7"),v()(),_(6,"h2",49),x(7),S(8,"translate"),S(9,"translate"),v(),_(10,"form",50,0),le("ngSubmit",function(){return oe(e),re(L().saveUser())}),_(12,"div")(13,"label",51),x(14),S(15,"translate"),v(),_(16,"input",52),S(17,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L();return Mn(o.userFormModel.displayName,r)||(o.userFormModel.displayName=r),re(r)}),v()(),_(18,"div")(19,"label",51),x(20),S(21,"translate"),v(),_(22,"input",53),S(23,"translate"),Cn("ngModelChange",function(r){oe(e);const o=L();return Mn(o.userFormModel.email,r)||(o.userFormModel.email=r),re(r)}),v()(),pe(24,jEe,6,7,"div",21),_(25,"div")(26,"label",51),x(27),S(28,"translate"),v(),_(29,"select",54),Cn("ngModelChange",function(r){oe(e);const o=L();return Mn(o.userFormModel.role,r)||(o.userFormModel.role=r),re(r)}),_(30,"option",55),x(31),S(32,"translate"),v(),_(33,"option",56),x(34),S(35,"translate"),v(),_(36,"option",57),x(37),S(38,"translate"),v(),_(39,"option",58),x(40),S(41,"translate"),v()()(),_(42,"div",59)(43,"button",60),x(44),S(45,"translate"),S(46,"translate"),v(),_(47,"button",61),le("click",function(){return oe(e),re(L().closeUserModal())}),x(48),S(49,"translate"),v()()()()()}if(2&n){const e=L();y(2),ei("aria-label",D(3,17,"COMMON.CLOSE")),y(5),ee(" ",e.selectedUser?D(8,19,"ADMIN.EDIT_USER_TITLE"):D(9,21,"ADMIN.ADD_USER_TITLE")," "),y(7),ee("",D(15,23,"ADMIN.USER_NAME")," *"),y(2),is("placeholder",D(17,25,"ADMIN.USER_NAME_PLACEHOLDER")),xn("ngModel",e.userFormModel.displayName),y(4),ee("",D(21,27,"ADMIN.USER_EMAIL")," *"),y(2),is("placeholder",D(23,29,"ADMIN.USER_EMAIL_PLACEHOLDER")),xn("ngModel",e.userFormModel.email),y(2),O("ngIf",!e.selectedUser),y(3),ee("",D(28,31,"ADMIN.USER_ROLE")," *"),y(2),xn("ngModel",e.userFormModel.role),y(2),U(D(32,33,"ADMIN.ROLE_ADMIN")),y(3),U(D(35,35,"ADMIN.ROLE_SUBSCRIBER")),y(3),U(D(38,37,"ADMIN.ROLE_FREE_USER")),y(3),U(D(41,39,"ADMIN.ROLE_TRIAL_USER")),y(4),ee(" ",e.selectedUser?D(45,41,"ADMIN.SAVE_USER"):D(46,43,"ADMIN.CREATE_USER")," "),y(4),ee(" ",D(49,45,"COMMON.CANCEL")," ")}}function HEe(n,t){if(1&n){const e=st();_(0,"app-confirmation-modal",63),S(1,"translate"),S(2,"translate"),S(3,"translate"),S(4,"translate"),le("close",function(){return oe(e),re(L().closeDeleteModal())})("confirm",function(){return oe(e),re(L().confirmDeleteUser())}),v()}2&n&&O("isOpen",L().isDeleteModalOpen)("title",D(1,5,"ADMIN.CONFIRM_DELETE_TITLE"))("message",D(2,7,"ADMIN.CONFIRM_DELETE_MESSAGE"))("confirmText",D(3,9,"ADMIN.DELETE"))("cancelText",D(4,11,"COMMON.CANCEL"))}function $Ee(n,t){if(1&n){const e=st();_(0,"app-confirmation-modal",64),S(1,"translate"),S(2,"translate"),le("close",function(){return oe(e),re(L().closeResetConfirmModal())})("confirm",function(){return oe(e),re(L().onConfirmResetPassword())}),v()}if(2&n){const e=L();O("isOpen",e.showResetConfirmModal)("title",e.resetConfirmTitle)("message",e.resetConfirmMessage)("confirmText",D(1,5,"ADMIN.RESET_PASSWORD"))("cancelText",D(2,7,"COMMON.CANCEL"))}}function GEe(n,t){if(1&n){const e=st();_(0,"app-error-modal",65),le("close",function(){return oe(e),re(L().closeErrorModal())}),v()}if(2&n){const e=L();O("isOpen",e.showErrorModal)("title",e.errorTitle)("message",e.errorMessage)}}function qEe(n,t){if(1&n&&(_(0,"div",66),x(1),v()),2&n){const e=L();y(),ee(" ",e.successMessage," ")}}let WEe=(()=>{class n{constructor(e,i){this._router=e,this._userService=i,this.users=[],this.searchTerm="",this.filteredUsers=[],this.isUserModalOpen=!1,this.isDeleteModalOpen=!1,this.selectedUser=null,this.userFormModel={displayName:"",email:"",password:"",role:vi.SUBSCRIBER},this.showResetConfirmModal=!1,this.resetConfirmTitle="",this.resetConfirmMessage="",this.resetConfirmAction=null,this.showErrorModal=!1,this.errorMessage="",this.errorTitle="",this.showSuccessMessage=!1,this.successMessage=""}ngOnInit(){this._userService.getAllUsers().subscribe(e=>{this.users=e,this.filterUsers()})}onSearchChange(){this.filterUsers()}filterUsers(){const e=this.searchTerm.toLowerCase();this.filteredUsers=this.users.filter(i=>i.displayName?.toLowerCase().includes(e)||i.email?.toLowerCase().includes(e)||i.role?.toLowerCase().includes(e))}openUserModal(e){this.isUserModalOpen=!0,e?(this.selectedUser=e,this.userFormModel={displayName:e.displayName,email:e.email,password:"",role:e.role}):(this.selectedUser=null,this.userFormModel={displayName:"",email:"",password:"",role:vi.FREE_USER})}closeUserModal(){this.isUserModalOpen=!1,this.selectedUser=null}openDeleteModal(e){this.selectedUser=e,this.isDeleteModalOpen=!0}closeDeleteModal(){this.isDeleteModalOpen=!1,this.selectedUser=null}saveUser(){this.selectedUser?this._userService.updateUser({uid:this.selectedUser.uid,displayName:this.userFormModel.displayName,role:this.userFormModel.role}).pipe(xi(e=>(this.showError("Update Error",e?.message||"Failed to update user."),ko))).subscribe({next:()=>{this.closeUserModal(),this.showSuccess("User updated successfully!"),this.ngOnInit()}}):this._userService.createUser({email:this.userFormModel.email,password:this.userFormModel.password,displayName:this.userFormModel.displayName,role:this.userFormModel.role}).pipe(xi(e=>(this.showError("Create Error",e?.message||"Failed to create user."),ko))).subscribe({next:()=>{this.closeUserModal(),this.showSuccess("User created successfully!"),this.ngOnInit()}})}resetPassword(e){this.resetConfirmTitle="Reset Password",this.resetConfirmMessage=`Are you sure you want to send a password reset email to ${e.email}?`,this.resetConfirmAction=()=>{this._userService.resetUserPassword({email:e.email}).pipe(xi(i=>(this.showError("Reset Error",i?.message||"Failed to send password reset email."),ko))).subscribe({next:i=>{this.showSuccess("Password reset email sent successfully!")}})},this.showResetConfirmModal=!0}closeResetConfirmModal(){this.showResetConfirmModal=!1,this.resetConfirmTitle="",this.resetConfirmMessage="",this.resetConfirmAction=null}onConfirmResetPassword(){this.resetConfirmAction&&this.resetConfirmAction(),this.closeResetConfirmModal()}confirmDeleteUser(){this.selectedUser&&this._userService.deleteUser({uid:this.selectedUser.uid}).pipe(xi(e=>(this.showError("Delete Error",e?.message||"Failed to delete user."),ko))).subscribe({next:()=>{this.closeDeleteModal(),this.showSuccess("User deleted successfully!"),this.ngOnInit()}})}getAvatarUrl(e){return e.avatarUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.displayName)}&background=22c55e&color=fff`}getRoleBadgeClass(e){switch(e){case vi.ADMIN:return"bg-red-100 text-red-800";case vi.SUBSCRIBER:return"bg-green-100 text-green-800";case vi.TRIAL_USER:return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}getRoleDisplayName(e){switch(e){case vi.ADMIN:return"Admin";case vi.SUBSCRIBER:return"Subscriber";case vi.TRIAL_USER:return"Trial";case vi.FREE_USER:return"Free";default:return e}}navigateToAdmin(){this._router.navigate(["/admin"])}showError(e,i){this.errorTitle=e,this.errorMessage=i,this.showErrorModal=!0}closeErrorModal(){this.showErrorModal=!1,this.errorTitle="",this.errorMessage=""}showSuccess(e){this.successMessage=e,this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},4e3)}static{this.\u0275fac=function(i){return new(i||n)(z(oi),z(_l))}}static{this.\u0275cmp=on({type:n,selectors:[["app-admin-users"]],decls:49,vars:38,consts:[["userForm","ngForm"],[1,"min-h-screen","bg-gray-50","p-4","sm:p-6"],[1,"max-w-7xl","mx-auto"],[1,"flex","flex-col","items-start","gap-2","sm:gap-4","mb-4"],[3,"back","label"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-2"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","gap-2","mb-6"],[1,"flex-1"],["type","text","name","search",1,"pl-10","pr-4","py-2","w-full","rounded-lg","border","border-gray-300","focus:ring-2","focus:ring-green-500","focus:outline-none","text-base","bg-white",3,"ngModelChange","placeholder","ngModel"],[1,"bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","flex","items-center","gap-2",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4"],["d","M12 4v16m8-8H4"],[1,"bg-white","rounded-lg","shadow"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","cursor-pointer hover:bg-gray-50",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",4,"ngIf"],["confirmVariant","danger",3,"isOpen","title","message","confirmText","cancelText","close","confirm",4,"ngIf"],["confirmVariant","primary",3,"isOpen","title","message","confirmText","cancelText","close","confirm",4,"ngIf"],[3,"isOpen","title","message","close",4,"ngIf"],["class","fixed top-6 left-1/2 transform -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded shadow-lg transition-all",4,"ngIf"],[1,"cursor-pointer","hover:bg-gray-50",3,"click"],[1,"px-6","py-4","whitespace-nowrap","flex","items-center","gap-3"],[1,"w-8","h-8","rounded-full",3,"src","alt"],[1,"font-medium"],[1,"px-6","py-4","whitespace-nowrap"],[1,"px-2","py-1","rounded","text-xs","font-semibold",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","flex","gap-2","justify-end"],[1,"p-2","rounded","hover:bg-gray-100",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4","text-blue-600"],["d","M12 20h9"],["d","M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19.5 3 21l1.5-4L16.5 3.5z"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4","text-yellow-600"],["d","M12 17v-6m0 0V7m0 4a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"],["x","9","y","17","width","6","height","4","rx","2"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"h-4","w-4","text-red-600"],["d","M3 6h18"],["d","M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6m-6 0V4a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v2"],["colspan","5",1,"text-center","py-8","text-gray-500"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50","p-4"],[1,"bg-white","rounded-lg","w-full","max-w-md","p-6","relative","shadow-lg"],["type","button",1,"absolute","top-3","right-3","p-1","rounded-full","hover:bg-gray-100","focus:outline-none",3,"click"],["aria-hidden","true"],[1,"text-xl","font-bold","text-gray-900","mb-6","text-center"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","name","displayName","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-green-500","focus:outline-none",3,"ngModelChange","ngModel","placeholder"],["type","email","name","email","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-green-500","focus:outline-none",3,"ngModelChange","ngModel","placeholder"],["name","role","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-green-500","focus:outline-none",3,"ngModelChange","ngModel"],["value","admin"],["value","subscriber"],["value","free"],["value","trial"],[1,"flex","gap-2","pt-4"],["type","submit",1,"flex-1","bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg"],["type","button",1,"flex-1","bg-gray-600","hover:bg-gray-700","text-white","font-semibold","py-2","px-4","rounded-lg",3,"click"],["type","password","name","password","required","",1,"w-full","border","border-gray-300","rounded-lg","px-3","py-2","focus:ring-2","focus:ring-green-500","focus:outline-none",3,"ngModelChange","ngModel","placeholder"],["confirmVariant","danger",3,"close","confirm","isOpen","title","message","confirmText","cancelText"],["confirmVariant","primary",3,"close","confirm","isOpen","title","message","confirmText","cancelText"],[3,"close","isOpen","title","message"],[1,"fixed","top-6","left-1/2","transform","-translate-x-1/2","z-50","bg-green-600","text-white","px-6","py-3","rounded","shadow-lg","transition-all"]],template:function(i,r){1&i&&(_(0,"div",1)(1,"div",2)(2,"div",3)(3,"app-back-button",4),S(4,"translate"),le("back",function(){return r.navigateToAdmin()}),v(),_(5,"div")(6,"h1",5),x(7),S(8,"translate"),v(),_(9,"p",6),x(10),S(11,"translate"),v()()(),_(12,"div",7)(13,"div",8)(14,"input",9),S(15,"translate"),Cn("ngModelChange",function(s){return Mn(r.searchTerm,s)||(r.searchTerm=s),s}),le("ngModelChange",function(){return r.onSearchChange()}),v()(),_(16,"button",10),le("click",function(){return r.openUserModal()}),je(),_(17,"svg",11),fe(18,"path",12),v(),x(19),S(20,"translate"),v()(),vt(),_(21,"div",13)(22,"div",14)(23,"table",15)(24,"thead",16)(25,"tr")(26,"th",17),x(27),S(28,"translate"),v(),_(29,"th",17),x(30),S(31,"translate"),v(),_(32,"th",17),x(33),S(34,"translate"),v(),_(35,"th",17),x(36),S(37,"translate"),v(),_(38,"th",18),x(39),S(40,"translate"),v()()(),_(41,"tbody",19),pe(42,UEe,29,19,"tr",20)(43,BEe,5,8,"tr",21),v()()()(),pe(44,zEe,50,47,"div",22)(45,HEe,5,13,"app-confirmation-modal",23)(46,$Ee,3,9,"app-confirmation-modal",24)(47,GEe,1,3,"app-error-modal",25)(48,qEe,2,1,"div",26),v()()),2&i&&(y(3),O("label",D(4,18,"ADMIN.BACK_TO_ADMIN")),y(4),U(D(8,20,"ADMIN.USER_MANAGEMENT_TITLE")),y(3),U(D(11,22,"ADMIN.USER_MANAGEMENT_SUBTITLE")),y(4),O("placeholder",D(15,24,"ADMIN.SEARCH_USER_PLACEHOLDER")),xn("ngModel",r.searchTerm),y(5),ee(" ",D(20,26,"ADMIN.ADD_NEW_USER")," "),y(8),U(D(28,28,"ADMIN.USER")),y(3),U(D(31,30,"ADMIN.EMAIL")),y(3),U(D(34,32,"ADMIN.ROLE")),y(3),U(D(37,34,"ADMIN.CREATED")),y(3),U(D(40,36,"ADMIN.ACTIONS")),y(3),O("ngForOf",r.filteredUsers),y(),O("ngIf",0===r.filteredUsers.length),y(),O("ngIf",r.isUserModalOpen),y(),O("ngIf",r.isDeleteModalOpen),y(),O("ngIf",r.showResetConfirmModal),y(),O("ngIf",r.showErrorModal),y(),O("ngIf",r.showSuccessMessage))},dependencies:[au,Is,Ii,bu,zv,Hv,Ks,ch,rl,yu,wu,Ca,rc,lk,ck,Js,sv,Yi],styles:[".min-h-screen[_ngcontent-%COMP%]{min-height:100vh}.bg-gray-50[_ngcontent-%COMP%]{background-color:#f9fafb}.max-w-7xl[_ngcontent-%COMP%]{max-width:80rem;margin-left:auto;margin-right:auto}.text-3xl[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700}.text-gray-900[_ngcontent-%COMP%]{color:#111827}.mb-6[_ngcontent-%COMP%]{margin-bottom:1.5rem}.fixed.inset-0[_ngcontent-%COMP%]{z-index:50}.bg-black.bg-opacity-50[_ngcontent-%COMP%]{background:#00000080}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1.5rem}@media (max-width: 640px){.max-w-7xl[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto}}"]})}}return n})(),KEe=(()=>{class n{constructor(e){this._translate=e}getSubscriptionPlans(){return this._translate.get("SUBSCRIBE").pipe(Le(e=>this.buildSubscriptionPlans(e)),xi(e=>(console.error("Error loading subscription plans:",e),qe([]))))}getSubscriptionPlansByLanguage(e){return this._translate.getTranslation(e).pipe(Le(i=>this.buildSubscriptionPlans(i.SUBSCRIBE)),xi(i=>(console.error(`Error loading subscription plans for ${e}:`,i),qe([]))))}getSubscriptionPlanById(e){return this.getSubscriptionPlans().pipe(Le(i=>i.find(r=>r.id===e)||null))}buildSubscriptionPlans(e){const i=[];return e.FREE&&i.push({id:vi.FREE_USER,name:e.FREE.NAME,price:e.FREE.PRICE,description:e.FREE.DESCRIPTION,features:e.FREE.FEATURES||[],limitations:e.FREE.LIMITATIONS||[],buttonText:e.FREE.BUTTON,color:"border-gray-200",popular:!1,order:1}),e.PREMIUM&&i.push({id:"premium",name:e.PREMIUM.NAME,price:e.PREMIUM.PRICE,description:e.PREMIUM.DESCRIPTION,features:e.PREMIUM.FEATURES||[],limitations:e.PREMIUM.LIMITATIONS||[],buttonText:e.PREMIUM.BUTTON,color:"border-teal-500",popular:!0,order:2}),i.sort((r,o)=>r.order-o.order)}static{this.\u0275fac=function(i){return new(i||n)(G(Si))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QEe(n,t){1&n&&(_(0,"div",16)(1,"div",17),je(),_(2,"svg",18),fe(3,"path",19),v(),x(4),S(5,"translate"),v()()),2&n&&(y(4),ee(" ",D(5,1,"SUBSCRIBE.PAYMENT.SUCCESS")," "))}function YEe(n,t){if(1&n&&(_(0,"div",20)(1,"div",17),je(),_(2,"svg",18),fe(3,"path",21),v(),x(4),v()()),2&n){const e=L();y(4),ee(" ",e.errorMessage," ")}}function ZEe(n,t){1&n&&(_(0,"div",22)(1,"div",23),fe(2,"div",24),_(3,"h3",25),x(4),S(5,"translate"),v(),_(6,"p",26),x(7),S(8,"translate"),v()()()),2&n&&(y(4),ee(" ",D(5,2,"SUBSCRIBE.PAYMENT.PROCESSING")," "),y(3),ee(" ",D(8,4,"SUBSCRIBE.PAYMENT.MOCK_MESSAGE")," "))}function XEe(n,t){1&n&&(_(0,"div",42)(1,"span",43),x(2),S(3,"translate"),v()()),2&n&&(y(2),ee(" ",D(3,1,"SUBSCRIBE.PREMIUM.POPULAR")," "))}function JEe(n,t){if(1&n&&(_(0,"li",44),je(),_(1,"svg",45),fe(2,"path",36),v(),vt(),_(3,"span",26),x(4),v()()),2&n){const e=t.$implicit;y(4),U(e)}}function eIe(n,t){if(1&n&&(_(0,"li",44),je(),_(1,"svg",48),fe(2,"path",47),v(),vt(),_(3,"span",26),x(4),v()()),2&n){const e=t.$implicit;y(4),U(e)}}function tIe(n,t){if(1&n&&(_(0,"div")(1,"h4",34),je(),_(2,"svg",46),fe(3,"path",47),v(),x(4),S(5,"translate"),v(),vt(),_(6,"ul",37),pe(7,eIe,5,1,"li",38),v()()),2&n){const e=L().$implicit;y(4),ee(" ",D(5,2,"SUBSCRIBE.LIMITATIONS")," "),y(3),O("ngForOf",e.limitations)}}function nIe(n,t){if(1&n&&(_(0,"span"),x(1),v()),2&n){const e=L().$implicit;y(),U(e.buttonText)}}function iIe(n,t){1&n&&(_(0,"span",49),je(),_(1,"svg",50),fe(2,"circle",51)(3,"path",52),v(),x(4),S(5,"translate"),v()),2&n&&(y(4),ee(" ",D(5,1,"SUBSCRIBE.PAYMENT.PROCESSING")," "))}function rIe(n,t){if(1&n){const e=st();ti(0),_(1,"div",27),pe(2,XEe,4,3,"div",28),_(3,"div",29)(4,"h3",30),x(5),v(),_(6,"div",31),x(7),v(),_(8,"p",32),x(9),v()(),_(10,"div",33)(11,"div")(12,"h4",34),je(),_(13,"svg",35),fe(14,"path",36),v(),x(15),S(16,"translate"),v(),vt(),_(17,"ul",37),pe(18,JEe,5,1,"li",38),v()(),pe(19,tIe,8,4,"div",39),_(20,"button",40),le("click",function(){const r=oe(e).$implicit;return re(L().handleSubscribe(r.id))}),pe(21,nIe,2,1,"span",39)(22,iIe,6,3,"span",41),v()()(),ni()}if(2&n){const e=t.$implicit,i=L();y(),_r("ring-2",e.popular)("ring-teal-500",e.popular),O("ngClass",e.color),y(),O("ngIf",e.popular),y(3),U(e.name),y(2),ee(" ",e.price," "),y(2),U(e.description),y(6),ee(" ",D(16,16,"SUBSCRIBE.INCLUDES")," "),y(3),O("ngForOf",e.features),y(),O("ngIf",e.limitations.length>0),y(),O("ngClass","premium"===e.id?"bg-teal-500 hover:bg-teal-600 text-white":"bg-gray-500 hover:bg-gray-600 text-white")("disabled","free"===e.id||i.isProcessing),y(),O("ngIf",!i.isProcessing),y(),O("ngIf",i.isProcessing)}}let oIe=(()=>{class n{constructor(e,i,r,o,s){this._router=e,this._translate=i,this._auth=r,this._userService=o,this._subscriptionPlansService=s,this.plans=[],this.userProfile$=qe(null),this.isProcessing=!1,this.showSuccessMessage=!1,this.showErrorMessage=!1,this.errorMessage=""}ngOnInit(){this.userProfile$=this._auth.user$.pipe(St(e=>e?this._userService.getUserProfile(e.uid):qe(null))),this.languageSubscription=this._translate.onLangChange.subscribe(()=>{this.loadSubscriptionPlans()}),this.loadSubscriptionPlans()}ngOnDestroy(){this.languageSubscription&&this.languageSubscription.unsubscribe()}loadSubscriptionPlans(){this._subscriptionPlansService.getSubscriptionPlans().subscribe(e=>{this.plans=e})}handleSubscribe(e){e!==vi.FREE_USER&&"premium"===e&&this.processMockPayment()}processMockPayment(){this.isProcessing=!0,this.hideMessages(),setTimeout(()=>{this.isProcessing=!1,Math.random()>.1?(this.showSuccessMessage=!0,this.showSuccess(this._translate.instant("SUBSCRIBE.PAYMENT.SUCCESS")),setTimeout(()=>{this._router.navigate(["/"])},2e3)):(this.showErrorMessage=!0,this.errorMessage=this._translate.instant("SUBSCRIBE.PAYMENT.ERROR"))},2e3)}goBack(){this._router.navigate(["/"])}showSuccess(e){}hideMessages(){this.showSuccessMessage=!1,this.showErrorMessage=!1,this.errorMessage=""}isSubscribed(e){return!!e&&(e.role===vi.SUBSCRIBER||e.role===vi.ADMIN||"active"===e.subscription?.status||"trial"===e.subscription?.status)}getCurrentPlan(e){return!e||e.role!==vi.ADMIN&&e.role!==vi.SUBSCRIBER&&"active"!==e.subscription?.status&&"trial"!==e.subscription?.status?vi.FREE_USER:"premium"}static{this.\u0275fac=function(i){return new(i||n)(z(oi),z(Si),z(Aa),z(_l),z(KEe))}}static{this.\u0275cmp=on({type:n,selectors:[["app-subscribe"]],decls:25,vars:19,consts:[[1,"min-h-screen","bg-green-50/30"],[1,"container","mx-auto","px-4","py-8"],[1,"mb-8"],[3,"back","label"],[1,"text-center"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600","max-w-2xl","mx-auto"],["class","fixed top-4 right-4 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg",4,"ngIf"],["class","fixed top-4 right-4 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],[1,"max-w-4xl","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[4,"ngFor","ngForOf"],[1,"mt-12","text-center"],[1,"text-gray-600","mb-4"],[1,"bg-white","border","border-gray-300","text-gray-700","px-6","py-2","rounded-lg","hover:bg-gray-50","transition-colors"],[1,"fixed","top-4","right-4","z-50","bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","shadow-lg"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","mr-2"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"fixed","top-4","right-4","z-50","bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","shadow-lg"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-white","rounded-lg","p-8","max-w-md","w-full","mx-4","text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-teal-600","mx-auto","mb-4"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-sm","text-gray-600"],[1,"relative","bg-white","rounded-xl","shadow-lg","border","p-6","transition-all","duration-300","hover:shadow-xl",3,"ngClass"],["class","absolute -top-3 left-1/2 transform -translate-x-1/2",4,"ngIf"],[1,"text-center","mb-6"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-3xl","font-bold","text-teal-600","mb-2"],[1,"text-gray-600"],[1,"space-y-6"],[1,"font-semibold","text-gray-900","mb-3","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-green-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"space-y-2"],["class","flex items-start",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"w-full","py-3","px-4","rounded-lg","font-medium","transition-colors",3,"click","ngClass","disabled"],["class","flex items-center justify-center",4,"ngIf"],[1,"absolute","-top-3","left-1/2","transform","-translate-x-1/2"],[1,"bg-teal-500","text-white","px-4","py-1","rounded-full","text-sm","font-medium"],[1,"flex","items-start"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","text-green-500","mr-2","mt-0.5","flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-red-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","text-red-500","mr-2","mt-0.5","flex-shrink-0"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(i,r){1&i&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-back-button",3),S(4,"translate"),le("back",function(){return r.goBack()}),v(),_(5,"div",4)(6,"h1",5),x(7),S(8,"translate"),v(),_(9,"p",6),x(10),S(11,"translate"),v()()(),pe(12,QEe,6,3,"div",7)(13,YEe,5,1,"div",8)(14,ZEe,9,6,"div",9),_(15,"div",10)(16,"div",11),pe(17,rIe,23,18,"ng-container",12),v()(),_(18,"div",13)(19,"p",14),x(20),S(21,"translate"),v(),_(22,"button",15),x(23),S(24,"translate"),v()()()()),2&i&&(y(3),O("label",D(4,9,"SUBSCRIBE.BACK_TO_HOME")),y(4),ee(" ",D(8,11,"SUBSCRIBE.TITLE")," "),y(3),ee(" ",D(11,13,"SUBSCRIBE.SUBTITLE")," "),y(2),O("ngIf",r.showSuccessMessage),y(),O("ngIf",r.showErrorMessage),y(),O("ngIf",r.isProcessing),y(3),O("ngForOf",r.plans),y(3),ee(" ",D(21,15,"SUBSCRIBE.CONTACT_TITLE")," "),y(3),ee(" ",D(24,17,"SUBSCRIBE.CONTACT_BUTTON")," "))},dependencies:[au,Is,Ii,Js,Yi],styles:[".subscribe-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f0fdf4,#ecfdf5)}.plan-card[_ngcontent-%COMP%]{transition:all .3s ease}.plan-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.popular-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#14b8a6,#0d9488)}.subscribe-button[_ngcontent-%COMP%]{transition:all .2s ease}.subscribe-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.processing-overlay[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}@media (max-width: 768px){.plan-card[_ngcontent-%COMP%]{margin-bottom:1rem}}"]})}}return n})();function sIe(n){return new Oye(n,"./assets/i18n/",".json")}let aIe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Kt({type:n,bootstrap:[vbe]})}static{this.\u0275inj=Gt({imports:[I3,Cre,goe,Zle,Xle,Yae.forRoot([{path:"",component:zbe},{path:"activities",component:qbe},{path:"activity/:id",component:t0e},{path:"shop",component:r0e},{path:"about",component:p0e},{path:"blog",component:v0e},{path:"blog/:id",component:w0e},{path:"tips",component:D0e},{path:"profile",component:cwe},{path:"splash-demo",component:uwe},{path:"admin",component:mwe},{path:"admin/activities",component:Kwe},{path:"admin/blogs",component:gEe},{path:"admin/about",component:LEe},{path:"admin/users",component:WEe},{path:"subscribe",component:oIe},{path:"**",redirectTo:""}]),kye.forRoot({defaultLanguage:"sr",loader:{provide:zp,useFactory:sIe,deps:[tc]}}),_ce.initializeApp(Nye_firebase),Zfe,Ece,Upe,$pe,c_e,v_e,M_e,U_e,_ve,gye,Sye,Bx,Mye]})}}return n})();Cne().bootstrapModule(aIe).catch(n=>console.error(n))},574:(cs,er,Et)=>{Et.d(er,{A:()=>Bi});var N=Et(401),rt=Et(779),ot=Et(979),ye=Et(398);class In{constructor(Dt,Wt){this._delegate=Dt,this.firebase=Wt,(0,ot._addComponent)(Dt,new rt.uA("app-compat",()=>this,"PUBLIC")),this.container=Dt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Dt){this._delegate.automaticDataCollectionEnabled=Dt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Dt=>{this._delegate.checkDestroyed(),Dt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ot.deleteApp)(this._delegate)))}_getService(Dt,Wt=ot._DEFAULT_ENTRY_NAME){var li;this._delegate.checkDestroyed();const Pi=this._delegate.container.getProvider(Dt);return!Pi.isInitialized()&&"EXPLICIT"===(null===(li=Pi.getComponent())||void 0===li?void 0:li.instantiationMode)&&Pi.initialize(),Pi.getImmediate({identifier:Wt})}_removeServiceInstance(Dt,Wt=ot._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Dt).clearInstance(Wt)}_addComponent(Dt){(0,ot._addComponent)(this._delegate,Dt)}_addOrOverwriteComponent(Dt){(0,ot._addOrOverwriteComponent)(this._delegate,Dt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Bn=new N.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Re=function nn(){const bn=function Gn(bn){const Dt={},Wt={__esModule:!0,initializeApp:function Fn(Mt,zn={}){const An=ot.initializeApp(Mt,zn);if((0,N.gR)(Dt,An.name))return Dt[An.name];const Oe=new bn(An,Wt);return Dt[An.name]=Oe,Oe},app:Pi,registerVersion:ot.registerVersion,setLogLevel:ot.setLogLevel,onLog:ot.onLog,apps:null,SDK_VERSION:ot.SDK_VERSION,INTERNAL:{registerComponent:function cn(Mt){const zn=Mt.name,An=zn.replace("-compat","");if(ot._registerComponent(Mt)&&"PUBLIC"===Mt.type){const Oe=(Ke=Pi())=>{if("function"!=typeof Ke[An])throw Bn.create("invalid-app-argument",{appName:zn});return Ke[An]()};void 0!==Mt.serviceProps&&(0,N.zw)(Oe,Mt.serviceProps),Wt[An]=Oe,bn.prototype[An]=function(...Ke){return this._getService.bind(this,zn).apply(this,Mt.multipleInstances?Ke:[])}}return"PUBLIC"===Mt.type?Wt[An]:null},removeApp:function li(Mt){delete Dt[Mt]},useAsService:function $i(Mt,zn){return"serverAuth"===zn?null:zn},modularAPIs:ot}};function Pi(Mt){if(!(0,N.gR)(Dt,Mt=Mt||ot._DEFAULT_ENTRY_NAME))throw Bn.create("no-app",{appName:Mt});return Dt[Mt]}return Wt.default=Wt,Object.defineProperty(Wt,"apps",{get:function fn(){return Object.keys(Dt).map(Mt=>Dt[Mt])}}),Pi.App=bn,Wt}(In);return bn.INTERNAL=Object.assign(Object.assign({},bn.INTERNAL),{createFirebaseNamespace:nn,extendNamespace:function Dt(Wt){(0,N.zw)(bn,Wt)},createSubscribe:N.tD,ErrorFactory:N.FA,deepExtend:N.zw}),bn}(),Ue=new ye.Vy("@firebase/app-compat");try{const bn=(0,N.mS)();if(void 0!==bn.firebase){Ue.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Dt=bn.firebase.SDK_VERSION;Dt&&Dt.indexOf("LITE")>=0&&Ue.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Bi=Re;!function Zt(bn){(0,ot.registerVersion)("@firebase/app-compat","0.2.43",bn)}()},979:(cs,er,Et)=>{Et.r(er),Et.d(er,{FirebaseError:()=>ye.g,SDK_VERSION:()=>no,_DEFAULT_ENTRY_NAME:()=>Ho,_addComponent:()=>ci,_addOrOverwriteComponent:()=>Mr,_apps:()=>eo,_clearComponents:()=>na,_components:()=>rn,_getProvider:()=>Rr,_isFirebaseApp:()=>to,_isFirebaseServerApp:()=>ki,_registerComponent:()=>bi,_removeServiceInstance:()=>ui,_serverApps:()=>mr,deleteApp:()=>Cc,getApp:()=>Dn,getApps:()=>xc,initializeApp:()=>Ic,initializeServerApp:()=>Ma,onLog:()=>F,registerVersion:()=>W,setLogLevel:()=>Y});var N=Et(467),rt=Et(779),ot=Et(398),ye=Et(401);const In=(me,ie)=>ie.some(Me=>me instanceof Me);let ht,Bn;const Re=new WeakMap,Ue=new WeakMap,dt=new WeakMap,Pt=new WeakMap,Zt=new WeakMap;let Dt={get(me,ie,Me){if(me instanceof IDBTransaction){if("done"===ie)return Ue.get(me);if("objectStoreNames"===ie)return me.objectStoreNames||dt.get(me);if("store"===ie)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return Fn(me[ie])},set:(me,ie,Me)=>(me[ie]=Me,!0),has:(me,ie)=>me instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in me};function Pi(me){return"function"==typeof me?function li(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nn(){return Bn||(Bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...ie){return me.apply(fn(this),ie),Fn(Re.get(this))}:function(...ie){return Fn(me.apply(fn(this),ie))}:function(ie,...Me){const Ye=me.call(fn(this),ie,...Me);return dt.set(Ye,ie.sort?ie.sort():[ie]),Fn(Ye)}}(me):(me instanceof IDBTransaction&&function bn(me){if(Ue.has(me))return;const ie=new Promise((Me,Ye)=>{const zt=()=>{me.removeEventListener("complete",lt),me.removeEventListener("error",Xt),me.removeEventListener("abort",Xt)},lt=()=>{Me(),zt()},Xt=()=>{Ye(me.error||new DOMException("AbortError","AbortError")),zt()};me.addEventListener("complete",lt),me.addEventListener("error",Xt),me.addEventListener("abort",Xt)});Ue.set(me,ie)}(me),In(me,function Gn(){return ht||(ht=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,Dt):me)}function Fn(me){if(me instanceof IDBRequest)return function Bi(me){const ie=new Promise((Me,Ye)=>{const zt=()=>{me.removeEventListener("success",lt),me.removeEventListener("error",Xt)},lt=()=>{Me(Fn(me.result)),zt()},Xt=()=>{Ye(me.error),zt()};me.addEventListener("success",lt),me.addEventListener("error",Xt)});return ie.then(Me=>{Me instanceof IDBCursor&&Re.set(Me,me)}).catch(()=>{}),Zt.set(ie,me),ie}(me);if(Pt.has(me))return Pt.get(me);const ie=Pi(me);return ie!==me&&(Pt.set(me,ie),Zt.set(ie,me)),ie}const fn=me=>Zt.get(me),Mt=["get","getKey","getAll","getAllKeys","count"],zn=["put","add","delete","clear"],An=new Map;function Oe(me,ie){if(!(me instanceof IDBDatabase)||ie in me||"string"!=typeof ie)return;if(An.get(ie))return An.get(ie);const Me=ie.replace(/FromIndex$/,""),Ye=ie!==Me,zt=zn.includes(Me);if(!(Me in(Ye?IDBIndex:IDBObjectStore).prototype)||!zt&&!Mt.includes(Me))return;const lt=function(){var Xt=(0,N.A)(function*(wi,...kt){const wo=this.transaction(wi,zt?"readwrite":"readonly");let Ft=wo.store;return Ye&&(Ft=Ft.index(kt.shift())),(yield Promise.all([Ft[Me](...kt),zt&&wo.done]))[0]});return function(kt){return Xt.apply(this,arguments)}}();return An.set(ie,lt),lt}!function Wt(me){Dt=me(Dt)}(me=>({...me,get:(ie,Me,Ye)=>Oe(ie,Me)||me.get(ie,Me,Ye),has:(ie,Me)=>!!Oe(ie,Me)||me.has(ie,Me)}));class Ke{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function Te(me){const ie=me.getComponent();return"VERSION"===ie?.type}(Me)){const Ye=Me.getImmediate();return`${Ye.library}/${Ye.version}`}return null}).filter(Me=>Me).join(" ")}}const Ge="@firebase/app",bt="0.10.13",yt=new ot.Vy("@firebase/app"),pt="@firebase/app-compat",un="@firebase/analytics-compat",Ct="@firebase/analytics",qn="@firebase/app-check-compat",te="@firebase/app-check",_e="@firebase/auth",Ie="@firebase/auth-compat",ue="@firebase/database",De="@firebase/data-connect",Be="@firebase/database-compat",be="@firebase/functions",ke="@firebase/functions-compat",Ne="@firebase/installations",He="@firebase/installations-compat",gt="@firebase/messaging",nt="@firebase/messaging-compat",Sn="@firebase/performance",Nt="@firebase/performance-compat",Vt="@firebase/remote-config",ct="@firebase/remote-config-compat",Wn="@firebase/storage",Hn="@firebase/storage-compat",jr="@firebase/firestore",yi="@firebase/vertexai-preview",vo="@firebase/firestore-compat",vl="firebase",Ho="[DEFAULT]",ks={[Ge]:"fire-core",[pt]:"fire-core-compat",[Ct]:"fire-analytics",[un]:"fire-analytics-compat",[te]:"fire-app-check",[qn]:"fire-app-check-compat",[_e]:"fire-auth",[Ie]:"fire-auth-compat",[ue]:"fire-rtdb",[De]:"fire-data-connect",[Be]:"fire-rtdb-compat",[be]:"fire-fn",[ke]:"fire-fn-compat",[Ne]:"fire-iid",[He]:"fire-iid-compat",[gt]:"fire-fcm",[nt]:"fire-fcm-compat",[Sn]:"fire-perf",[Nt]:"fire-perf-compat",[Vt]:"fire-rc",[ct]:"fire-rc-compat",[Wn]:"fire-gcs",[Hn]:"fire-gcs-compat",[jr]:"fire-fst",[vo]:"fire-fst-compat",[yi]:"fire-vertex","fire-js":"fire-js",[vl]:"fire-js-all"},eo=new Map,mr=new Map,rn=new Map;function ci(me,ie){try{me.container.addComponent(ie)}catch(Me){yt.debug(`Component ${ie.name} failed to register with FirebaseApp ${me.name}`,Me)}}function Mr(me,ie){me.container.addOrOverwriteComponent(ie)}function bi(me){const ie=me.name;if(rn.has(ie))return yt.debug(`There were multiple attempts to register component ${ie}.`),!1;rn.set(ie,me);for(const Me of eo.values())ci(Me,me);for(const Me of mr.values())ci(Me,me);return!0}function Rr(me,ie){const Me=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),me.container.getProvider(ie)}function ui(me,ie,Me=Ho){Rr(me,ie).clearInstance(Me)}function to(me){return void 0!==me.options}function ki(me){return void 0!==me.settings}function na(){rn.clear()}const Er=new ye.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class yl{constructor(ie,Me,Ye){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=Ye,this.container.addComponent(new rt.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}class us extends yl{constructor(ie,Me,Ye,zt){const lt=void 0!==Me.automaticDataCollectionEnabled&&Me.automaticDataCollectionEnabled,Xt={name:Ye,automaticDataCollectionEnabled:lt};super(void 0!==ie.apiKey?ie:ie.options,Xt,zt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:lt},Me),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Me.releaseOnDeref=void 0,W(Ge,bt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ie){this.isDeleted||(this._refCount++,void 0!==ie&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ie,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Cc(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Er.create("server-app-deleted")}}const no="10.14.1";function Ic(me,ie={}){let Me=me;"object"!=typeof ie&&(ie={name:ie});const Ye=Object.assign({name:Ho,automaticDataCollectionEnabled:!1},ie),zt=Ye.name;if("string"!=typeof zt||!zt)throw Er.create("bad-app-name",{appName:String(zt)});if(Me||(Me=(0,ye.T9)()),!Me)throw Er.create("no-options");const lt=eo.get(zt);if(lt){if((0,ye.bD)(Me,lt.options)&&(0,ye.bD)(Ye,lt.config))return lt;throw Er.create("duplicate-app",{appName:zt})}const Xt=new rt.h1(zt);for(const kt of rn.values())Xt.addComponent(kt);const wi=new yl(Me,Ye,Xt);return eo.set(zt,wi),wi}function Ma(me,ie){if((0,ye.Bd)()&&!(0,ye.p7)())throw Er.create("invalid-server-app-environment");let Me;void 0===ie.automaticDataCollectionEnabled&&(ie.automaticDataCollectionEnabled=!1),Me=to(me)?me.options:me;const Ye=Object.assign(Object.assign({},ie),Me);if(void 0!==Ye.releaseOnDeref&&delete Ye.releaseOnDeref,void 0!==ie.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Er.create("finalization-registry-not-supported",{});const lt=""+(wo=JSON.stringify(Ye),[...wo].reduce((Ft,Tc)=>Math.imul(31,Ft)+Tc.charCodeAt(0)|0,0)),Xt=mr.get(lt);var wo;if(Xt)return Xt.incRefCount(ie.releaseOnDeref),Xt;const wi=new rt.h1(lt);for(const wo of rn.values())wi.addComponent(wo);const kt=new us(Me,ie,lt,wi);return mr.set(lt,kt),kt}function Dn(me=Ho){const ie=eo.get(me);if(!ie&&me===Ho&&(0,ye.T9)())return Ic();if(!ie)throw Er.create("no-app",{appName:me});return ie}function xc(){return Array.from(eo.values())}function Cc(me){return ia.apply(this,arguments)}function ia(){return(ia=(0,N.A)(function*(me){let ie=!1;const Me=me.name;eo.has(Me)?(ie=!0,eo.delete(Me)):mr.has(Me)&&me.decRefCount()<=0&&(mr.delete(Me),ie=!0),ie&&(yield Promise.all(me.container.getProviders().map(Ye=>Ye.delete())),me.isDeleted=!0)})).apply(this,arguments)}function W(me,ie,Me){var Ye;let zt=null!==(Ye=ks[me])&&void 0!==Ye?Ye:me;Me&&(zt+=`-${Me}`);const lt=zt.match(/\s|\//),Xt=ie.match(/\s|\//);if(lt||Xt){const wi=[`Unable to register library "${zt}" with version "${ie}":`];return lt&&wi.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),lt&&Xt&&wi.push("and"),Xt&&wi.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void yt.warn(wi.join(" "))}bi(new rt.uA(`${zt}-version`,()=>({library:zt,version:ie}),"VERSION"))}function F(me,ie){if(null!==me&&"function"!=typeof me)throw Er.create("invalid-log-argument");(0,ot.Ey)(me,ie)}function Y(me){(0,ot.He)(me)}const xe="firebase-heartbeat-database",de=1,Qe="firebase-heartbeat-store";let Xe=null;function di(){return Xe||(Xe=function cn(me,ie,{blocked:Me,upgrade:Ye,blocking:zt,terminated:lt}={}){const Xt=indexedDB.open(me,ie),wi=Fn(Xt);return Ye&&Xt.addEventListener("upgradeneeded",kt=>{Ye(Fn(Xt.result),kt.oldVersion,kt.newVersion,Fn(Xt.transaction),kt)}),Me&&Xt.addEventListener("blocked",kt=>Me(kt.oldVersion,kt.newVersion,kt)),wi.then(kt=>{lt&&kt.addEventListener("close",()=>lt()),zt&&kt.addEventListener("versionchange",wo=>zt(wo.oldVersion,wo.newVersion,wo))}).catch(()=>{}),wi}(xe,de,{upgrade:(me,ie)=>{if(0===ie)try{me.createObjectStore(Qe)}catch(Me){console.warn(Me)}}}).catch(me=>{throw Er.create("idb-open",{originalErrorMessage:me.message})})),Xe}function hi(){return(hi=(0,N.A)(function*(me){try{const Me=(yield di()).transaction(Qe),Ye=yield Me.objectStore(Qe).get(Gi(me));return yield Me.done,Ye}catch(ie){if(ie instanceof ye.g)yt.warn(ie.message);else{const Me=Er.create("idb-get",{originalErrorMessage:ie?.message});yt.warn(Me.message)}}})).apply(this,arguments)}function tr(me,ie){return J.apply(this,arguments)}function J(){return(J=(0,N.A)(function*(me,ie){try{const Ye=(yield di()).transaction(Qe,"readwrite");yield Ye.objectStore(Qe).put(ie,Gi(me)),yield Ye.done}catch(Me){if(Me instanceof ye.g)yt.warn(Me.message);else{const Ye=Er.create("idb-set",{originalErrorMessage:Me?.message});yt.warn(Ye.message)}}})).apply(this,arguments)}function Gi(me){return`${me.name}!${me.options.appId}`}class Kp{constructor(ie){this.container=ie,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new Go(Me),this._heartbeatsCachePromise=this._storage.read().then(Ye=>(this._heartbeatsCache=Ye,Ye))}triggerHeartbeat(){var ie=this;return(0,N.A)(function*(){var Me,Ye;try{const lt=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Xt=wl();return null==(null===(Me=ie._heartbeatsCache)||void 0===Me?void 0:Me.heartbeats)&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise,null==(null===(Ye=ie._heartbeatsCache)||void 0===Ye?void 0:Ye.heartbeats))||ie._heartbeatsCache.lastSentHeartbeatDate===Xt||ie._heartbeatsCache.heartbeats.some(wi=>wi.date===Xt)?void 0:(ie._heartbeatsCache.heartbeats.push({date:Xt,agent:lt}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(wi=>{const kt=new Date(wi.date).valueOf();return Date.now()-kt<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache))}catch(zt){yt.warn(zt)}})()}getHeartbeatsHeader(){var ie=this;return(0,N.A)(function*(){var Me;try{if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null==(null===(Me=ie._heartbeatsCache)||void 0===Me?void 0:Me.heartbeats)||0===ie._heartbeatsCache.heartbeats.length)return"";const Ye=wl(),{heartbeatsToSend:zt,unsentEntries:lt}=function Zu(me,ie=1024){const Me=[];let Ye=me.slice();for(const zt of me){const lt=Me.find(Xt=>Xt.agent===zt.agent);if(lt){if(lt.dates.push(zt.date),bo(Me)>ie){lt.dates.pop();break}}else if(Me.push({agent:zt.agent,dates:[zt.date]}),bo(Me)>ie){Me.pop();break}Ye=Ye.slice(1)}return{heartbeatsToSend:Me,unsentEntries:Ye}}(ie._heartbeatsCache.heartbeats),Xt=(0,ye.Uj)(JSON.stringify({version:2,heartbeats:zt}));return ie._heartbeatsCache.lastSentHeartbeatDate=Ye,lt.length>0?(ie._heartbeatsCache.heartbeats=lt,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),Xt}catch(Ye){return yt.warn(Ye),""}})()}}function wl(){return(new Date).toISOString().substring(0,10)}class Go{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,N.A)(function*(){return!!(0,ye.zW)()&&(0,ye.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,N.A)(function*(){if(yield ie._canUseIndexedDBPromise){const Ye=yield function Le(me){return hi.apply(this,arguments)}(ie.app);return Ye?.heartbeats?Ye:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ie){var Me=this;return(0,N.A)(function*(){var Ye;if(yield Me._canUseIndexedDBPromise){const lt=yield Me.read();return tr(Me.app,{lastSentHeartbeatDate:null!==(Ye=ie.lastSentHeartbeatDate)&&void 0!==Ye?Ye:lt.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var Me=this;return(0,N.A)(function*(){var Ye;if(yield Me._canUseIndexedDBPromise){const lt=yield Me.read();return tr(Me.app,{lastSentHeartbeatDate:null!==(Ye=ie.lastSentHeartbeatDate)&&void 0!==Ye?Ye:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...ie.heartbeats]})}})()}}function bo(me){return(0,ye.Uj)(JSON.stringify({version:2,heartbeats:me})).length}!function Ra(me){bi(new rt.uA("platform-logger",ie=>new Ke(ie),"PRIVATE")),bi(new rt.uA("heartbeat",ie=>new Kp(ie),"PRIVATE")),W(Ge,bt,me),W(Ge,bt,"esm2017"),W("fire-js","")}("")},779:(cs,er,Et)=>{Et.d(er,{h1:()=>Gn,uA:()=>ot});var N=Et(467),rt=Et(401);class ot{constructor(Re,Ue,dt){this.name=Re,this.instanceFactory=Ue,this.type=dt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Re){return this.instantiationMode=Re,this}setMultipleInstances(Re){return this.multipleInstances=Re,this}setServiceProps(Re){return this.serviceProps=Re,this}setInstanceCreatedCallback(Re){return this.onInstanceCreated=Re,this}}const ye="[DEFAULT]";class In{constructor(Re,Ue){this.name=Re,this.container=Ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Re){const Ue=this.normalizeInstanceIdentifier(Re);if(!this.instancesDeferred.has(Ue)){const dt=new rt.cY;if(this.instancesDeferred.set(Ue,dt),this.isInitialized(Ue)||this.shouldAutoInitialize())try{const Pt=this.getOrInitializeService({instanceIdentifier:Ue});Pt&&dt.resolve(Pt)}catch{}}return this.instancesDeferred.get(Ue).promise}getImmediate(Re){var Ue;const dt=this.normalizeInstanceIdentifier(Re?.identifier),Pt=null!==(Ue=Re?.optional)&&void 0!==Ue&&Ue;if(!this.isInitialized(dt)&&!this.shouldAutoInitialize()){if(Pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:dt})}catch(Zt){if(Pt)return null;throw Zt}}getComponent(){return this.component}setComponent(Re){if(Re.name!==this.name)throw Error(`Mismatching Component ${Re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Re,this.shouldAutoInitialize()){if(function Bn(nn){return"EAGER"===nn.instantiationMode}(Re))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[Ue,dt]of this.instancesDeferred.entries()){const Pt=this.normalizeInstanceIdentifier(Ue);try{const Zt=this.getOrInitializeService({instanceIdentifier:Pt});dt.resolve(Zt)}catch{}}}}clearInstance(Re=ye){this.instancesDeferred.delete(Re),this.instancesOptions.delete(Re),this.instances.delete(Re)}delete(){var Re=this;return(0,N.A)(function*(){const Ue=Array.from(Re.instances.values());yield Promise.all([...Ue.filter(dt=>"INTERNAL"in dt).map(dt=>dt.INTERNAL.delete()),...Ue.filter(dt=>"_delete"in dt).map(dt=>dt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Re=ye){return this.instances.has(Re)}getOptions(Re=ye){return this.instancesOptions.get(Re)||{}}initialize(Re={}){const{options:Ue={}}=Re,dt=this.normalizeInstanceIdentifier(Re.instanceIdentifier);if(this.isInitialized(dt))throw Error(`${this.name}(${dt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pt=this.getOrInitializeService({instanceIdentifier:dt,options:Ue});for(const[Zt,Bi]of this.instancesDeferred.entries())dt===this.normalizeInstanceIdentifier(Zt)&&Bi.resolve(Pt);return Pt}onInit(Re,Ue){var dt;const Pt=this.normalizeInstanceIdentifier(Ue),Zt=null!==(dt=this.onInitCallbacks.get(Pt))&&void 0!==dt?dt:new Set;Zt.add(Re),this.onInitCallbacks.set(Pt,Zt);const Bi=this.instances.get(Pt);return Bi&&Re(Bi,Pt),()=>{Zt.delete(Re)}}invokeOnInitCallbacks(Re,Ue){const dt=this.onInitCallbacks.get(Ue);if(dt)for(const Pt of dt)try{Pt(Re,Ue)}catch{}}getOrInitializeService({instanceIdentifier:Re,options:Ue={}}){let dt=this.instances.get(Re);if(!dt&&this.component&&(dt=this.component.instanceFactory(this.container,{instanceIdentifier:(nn=Re,nn===ye?void 0:nn),options:Ue}),this.instances.set(Re,dt),this.instancesOptions.set(Re,Ue),this.invokeOnInitCallbacks(dt,Re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Re,dt)}catch{}var nn;return dt||null}normalizeInstanceIdentifier(Re=ye){return this.component?this.component.multipleInstances?Re:ye:Re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Gn{constructor(Re){this.name=Re,this.providers=new Map}addComponent(Re){const Ue=this.getProvider(Re.name);if(Ue.isComponentSet())throw new Error(`Component ${Re.name} has already been registered with ${this.name}`);Ue.setComponent(Re)}addOrOverwriteComponent(Re){this.getProvider(Re.name).isComponentSet()&&this.providers.delete(Re.name),this.addComponent(Re)}getProvider(Re){if(this.providers.has(Re))return this.providers.get(Re);const Ue=new In(Re,this);return this.providers.set(Re,Ue),Ue}getProviders(){return Array.from(this.providers.values())}}},398:(cs,er,Et)=>{Et.d(er,{$b:()=>rt,Ey:()=>nn,He:()=>Gn,Vy:()=>Bn});const N=[];var rt=function(Re){return Re[Re.DEBUG=0]="DEBUG",Re[Re.VERBOSE=1]="VERBOSE",Re[Re.INFO=2]="INFO",Re[Re.WARN=3]="WARN",Re[Re.ERROR=4]="ERROR",Re[Re.SILENT=5]="SILENT",Re}(rt||{});const ot={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},ye=rt.INFO,In={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},ht=(Re,Ue,...dt)=>{if(Ue<Re.logLevel)return;const Pt=(new Date).toISOString(),Zt=In[Ue];if(!Zt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ue})`);console[Zt](`[${Pt}]  ${Re.name}:`,...dt)};class Bn{constructor(Ue){this.name=Ue,this._logLevel=ye,this._logHandler=ht,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(Ue){if(!(Ue in rt))throw new TypeError(`Invalid value "${Ue}" assigned to \`logLevel\``);this._logLevel=Ue}setLogLevel(Ue){this._logLevel="string"==typeof Ue?ot[Ue]:Ue}get logHandler(){return this._logHandler}set logHandler(Ue){if("function"!=typeof Ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ue){this._userLogHandler=Ue}debug(...Ue){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...Ue),this._logHandler(this,rt.DEBUG,...Ue)}log(...Ue){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...Ue),this._logHandler(this,rt.VERBOSE,...Ue)}info(...Ue){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...Ue),this._logHandler(this,rt.INFO,...Ue)}warn(...Ue){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...Ue),this._logHandler(this,rt.WARN,...Ue)}error(...Ue){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...Ue),this._logHandler(this,rt.ERROR,...Ue)}}function Gn(Re){N.forEach(Ue=>{Ue.setLogLevel(Re)})}function nn(Re,Ue){for(const dt of N){let Pt=null;Ue&&Ue.level&&(Pt=ot[Ue.level]),dt.userLogHandler=null===Re?null:(Zt,Bi,...bn)=>{const Dt=bn.map(Wt=>{if(null==Wt)return null;if("string"==typeof Wt)return Wt;if("number"==typeof Wt||"boolean"==typeof Wt)return Wt.toString();if(Wt instanceof Error)return Wt.message;try{return JSON.stringify(Wt)}catch{return null}}).filter(Wt=>Wt).join(" ");Bi>=(Pt??Zt.logLevel)&&Re({level:rt[Bi].toLowerCase(),message:Dt,args:bn,type:Zt.name})}}}},324:(cs,er,Et)=>{var N=Et(467),rt=Et(574),ot=Et(979),ye=Et(401),In=Et(398),ht=Et(635),Bn=Et(779);const nn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Bi=function Pt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},bn=function Zt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dt=new ye.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),li=new In.Vy("@firebase/auth");function Fn(m,...u){li.logLevel<=In.$b.ERROR&&li.error(`Auth (${ot.SDK_VERSION}): ${m}`,...u)}function fn(m,...u){throw An(m,...u)}function cn(m,...u){return An(m,...u)}function $i(m,u,d){const g=Object.assign(Object.assign({},bn()),{[u]:d});return new ye.FA("auth","Firebase",g).create(u,{appName:m.name})}function Mt(m){return $i(m,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zn(m,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&fn(m,"argument-error"),$i(m,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function An(m,...u){if("string"!=typeof m){const d=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=m.name),m._errorFactory.create(d,...g)}return Dt.create(m,...u)}function Oe(m,u,...d){if(!m)throw An(u,...d)}function Ke(m){const u="INTERNAL ASSERTION FAILED: "+m;throw Fn(u),new Error(u)}function Te(m,u){m||Ke(u)}function Ge(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function bt(){return"http:"===yt()||"https:"===yt()}function yt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ct{constructor(u,d){this.shortDelay=u,this.longDelay=d,Te(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,ye.jZ)()||(0,ye.lV)()}get(){return function pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,ye.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qn(m,u){Te(m.emulator,"Emulator should always be set here");const{url:d}=m.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class te{static initialize(u,d,g){this.fetchImpl=u,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new Ct(3e4,6e4);function ue(m,u){return m.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:m.tenantId}):u}function De(m,u,d,g){return Be.apply(this,arguments)}function Be(){return(Be=(0,N.A)(function*(m,u,d,g,I={}){return be(m,I,(0,N.A)(function*(){let M={},j={};g&&("GET"===u?j=g:M={body:JSON.stringify(g)});const Z=(0,ye.Am)(Object.assign({key:m.config.apiKey},j)).slice(1),Se=yield m._getAdditionalHeaders();Se["Content-Type"]="application/json",m.languageCode&&(Se["X-Firebase-Locale"]=m.languageCode);const Je=Object.assign({method:u,headers:Se},M);return(0,ye.c1)()||(Je.referrerPolicy="no-referrer"),te.fetch()(gt(m,m.config.apiHost,d,Z),Je)}))})).apply(this,arguments)}function be(m,u,d){return ke.apply(this,arguments)}function ke(){return(ke=(0,N.A)(function*(m,u,d){m._canInitEmulator=!1;const g=Object.assign(Object.assign({},_e),u);try{const I=new Sn(m),M=yield Promise.race([d(),I.promise]);I.clearNetworkTimeout();const j=yield M.json();if("needConfirmation"in j)throw Nt(m,"account-exists-with-different-credential",j);if(M.ok&&!("errorMessage"in j))return j;{const Z=M.ok?j.errorMessage:j.error.message,[Se,Je]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Se)throw Nt(m,"credential-already-in-use",j);if("EMAIL_EXISTS"===Se)throw Nt(m,"email-already-in-use",j);if("USER_DISABLED"===Se)throw Nt(m,"user-disabled",j);const wt=g[Se]||Se.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw $i(m,wt,Je);fn(m,wt)}}catch(I){if(I instanceof ye.g)throw I;fn(m,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function Ne(m,u,d,g){return He.apply(this,arguments)}function He(){return(He=(0,N.A)(function*(m,u,d,g,I={}){const M=yield De(m,u,d,g,I);return"mfaPendingCredential"in M&&fn(m,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function gt(m,u,d,g){const I=`${u}${d}?${g}`;return m.config.emulator?qn(m.config,I):`${m.config.apiScheme}://${I}`}function nt(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sn{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(cn(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nt(m,u,d){const g={appName:m.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const I=cn(m,u,g);return I.customData._tokenResponse=d,I}function Vt(m){return void 0!==m&&void 0!==m.getResponse}function ct(m){return void 0!==m&&void 0!==m.enterprise}class Wn{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return nt(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function jr(){return(jr=(0,N.A)(function*(m){return(yield De(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yi(m,u){return vo.apply(this,arguments)}function vo(){return(vo=(0,N.A)(function*(m,u){return De(m,"GET","/v2/recaptchaConfig",ue(m,u))})).apply(this,arguments)}function yo(){return(yo=(0,N.A)(function*(m,u){return De(m,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function ks(){return(ks=(0,N.A)(function*(m,u){return De(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function eo(m,u){return mr.apply(this,arguments)}function mr(){return(mr=(0,N.A)(function*(m,u){return De(m,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function rn(m){if(m)try{const u=new Date(Number(m));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function bi(){return(bi=(0,N.A)(function*(m,u=!1){const d=(0,ye.Ku)(m),g=yield d.getIdToken(u),I=ui(g);Oe(I&&I.exp&&I.auth_time&&I.iat,d.auth,"internal-error");const M="object"==typeof I.firebase?I.firebase:void 0,j=M?.sign_in_provider;return{claims:I,token:g,authTime:rn(Rr(I.auth_time)),issuedAtTime:rn(Rr(I.iat)),expirationTime:rn(Rr(I.exp)),signInProvider:j||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function Rr(m){return 1e3*Number(m)}function ui(m){const[u,d,g]=m.split(".");if(void 0===u||void 0===d||void 0===g)return Fn("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,ye.u)(d);return I?JSON.parse(I):(Fn("Failed to decode base64 JWT payload"),null)}catch(I){return Fn("Caught error parsing JWT payload as JSON",I?.toString()),null}}function to(m){const u=ui(m);return Oe(u,"internal-error"),Oe(typeof u.exp<"u","internal-error"),Oe(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function ki(m,u){return na.apply(this,arguments)}function na(){return(na=(0,N.A)(function*(m,u,d=!1){if(d)return u;try{return yield u}catch(g){throw g instanceof ye.g&&function qh({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(g)&&m.auth.currentUser===m&&(yield m.auth.signOut()),g}})).apply(this,arguments)}class Er{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const I=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,N.A)(function*(){yield d.iteration()}),g)}iteration(){var u=this;return(0,N.A)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class yl{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=rn(this.lastLoginAt),this.creationTime=rn(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function us(m){return no.apply(this,arguments)}function no(){return(no=(0,N.A)(function*(m){var u;const d=m.auth,g=yield m.getIdToken(),I=yield ki(m,eo(d,{idToken:g}));Oe(I?.users.length,d,"internal-error");const M=I.users[0];m._notifyReloadListener(M);const j=null!==(u=M.providerUserInfo)&&void 0!==u&&u.length?xc(M.providerUserInfo):[],Z=function Dn(m,u){return[...m.filter(g=>!u.some(I=>I.providerId===g.providerId)),...u]}(m.providerData,j),wt=!!m.isAnonymous&&!(m.email&&M.passwordHash||Z?.length),et={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:Z,metadata:new yl(M.createdAt,M.lastLoginAt),isAnonymous:wt};Object.assign(m,et)})).apply(this,arguments)}function Ma(){return(Ma=(0,N.A)(function*(m){const u=(0,ye.Ku)(m);yield us(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function xc(m){return m.map(u=>{var{providerId:d}=u,g=(0,ht.Tt)(u,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function ia(){return(ia=(0,N.A)(function*(m,u){const d=yield be(m,{},(0,N.A)(function*(){const g=(0,ye.Am)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:I,apiKey:M}=m.config,j=gt(m,I,"/v1/token",`key=${M}`),Z=yield m._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",te.fetch()(j,{method:"POST",headers:Z,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function F(){return(F=(0,N.A)(function*(m,u){return De(m,"POST","/v2/accounts:revokeToken",ue(m,u))})).apply(this,arguments)}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){Oe(u.idToken,"internal-error"),Oe(typeof u.idToken<"u","internal-error"),Oe(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):to(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}updateFromIdToken(u){Oe(0!==u.length,"internal-error");const d=to(u);this.updateTokensAndExpiration(u,null,d)}getToken(u){var d=this;return(0,N.A)(function*(g,I=!1){return I||!d.accessToken||d.isExpired?(Oe(d.refreshToken,g,"user-token-expired"),d.refreshToken?(yield d.refresh(g,d.refreshToken),d.accessToken):null):d.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var g=this;return(0,N.A)(function*(){const{accessToken:I,refreshToken:M,expiresIn:j}=yield function Cc(m,u){return ia.apply(this,arguments)}(u,d);g.updateTokensAndExpiration(I,M,Number(j))})()}updateTokensAndExpiration(u,d,g){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,d){const{refreshToken:g,accessToken:I,expirationTime:M}=d,j=new Y;return g&&(Oe("string"==typeof g,"internal-error",{appName:u}),j.refreshToken=g),I&&(Oe("string"==typeof I,"internal-error",{appName:u}),j.accessToken=I),M&&(Oe("number"==typeof M,"internal-error",{appName:u}),j.expirationTime=M),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function xe(m,u){Oe("string"==typeof m||typeof m>"u","internal-error",{appName:u})}class de{constructor(u){var{uid:d,auth:g,stsTokenManager:I}=u,M=(0,ht.Tt)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new yl(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,N.A)(function*(){const g=yield ki(d,d.stsTokenManager.getToken(d.auth,u));return Oe(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(u){return function Mr(m){return bi.apply(this,arguments)}(this,u)}reload(){return function Ic(m){return Ma.apply(this,arguments)}(this)}_assign(u){this!==u&&(Oe(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new de(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u){var d=this;return(0,N.A)(function*(g,I=!1){let M=!1;g.idToken&&g.idToken!==d.stsTokenManager.accessToken&&(d.stsTokenManager.updateFromServerResponse(g),M=!0),I&&(yield us(d)),yield d.auth._persistUserIfCurrent(d),M&&d.auth._notifyListenersIfCurrent(d)}).apply(this,arguments)}delete(){var u=this;return(0,N.A)(function*(){if((0,ot._isFirebaseServerApp)(u.auth.app))return Promise.reject(Mt(u.auth));const d=yield u.getIdToken();return yield ki(u,function vl(m,u){return yo.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var g,I,M,j,Z,Se,Je,wt;const et=null!==(g=d.displayName)&&void 0!==g?g:void 0,dn=null!==(I=d.email)&&void 0!==I?I:void 0,ro=null!==(M=d.phoneNumber)&&void 0!==M?M:void 0,Kc=null!==(j=d.photoURL)&&void 0!==j?j:void 0,Qc=null!==(Z=d.tenantId)&&void 0!==Z?Z:void 0,x0=null!==(Se=d._redirectEventId)&&void 0!==Se?Se:void 0,n_=null!==(Je=d.createdAt)&&void 0!==Je?Je:void 0,i_=null!==(wt=d.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:jn,emailVerified:hT,isAnonymous:C0,providerData:T0,stsTokenManager:r_}=d;Oe(jn&&r_,u,"internal-error");const rO=Y.fromJSON(this.name,r_);Oe("string"==typeof jn,u,"internal-error"),xe(et,u.name),xe(dn,u.name),Oe("boolean"==typeof hT,u,"internal-error"),Oe("boolean"==typeof C0,u,"internal-error"),xe(ro,u.name),xe(Kc,u.name),xe(Qc,u.name),xe(x0,u.name),xe(n_,u.name),xe(i_,u.name);const Dd=new de({uid:jn,auth:u,email:dn,emailVerified:hT,displayName:et,isAnonymous:C0,photoURL:Kc,phoneNumber:ro,tenantId:Qc,stsTokenManager:rO,createdAt:n_,lastLoginAt:i_});return T0&&Array.isArray(T0)&&(Dd.providerData=T0.map(A0=>Object.assign({},A0))),x0&&(Dd._redirectEventId=x0),Dd}static _fromIdTokenResponse(u,d){return(0,N.A)(function*(g,I,M=!1){const j=new Y;j.updateFromServerResponse(I);const Z=new de({uid:I.localId,auth:g,stsTokenManager:j,isAnonymous:M});return yield us(Z),Z}).apply(this,arguments)}static _fromGetAccountInfoResponse(u,d,g){return(0,N.A)(function*(){const I=d.users[0];Oe(void 0!==I.localId,"internal-error");const M=void 0!==I.providerUserInfo?xc(I.providerUserInfo):[],j=!(I.email&&I.passwordHash||M?.length),Z=new Y;Z.updateFromIdToken(g);const Se=new de({uid:I.localId,auth:u,stsTokenManager:Z,isAnonymous:j}),Je={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:M,metadata:new yl(I.createdAt,I.lastLoginAt),isAnonymous:!(I.email&&I.passwordHash||M?.length)};return Object.assign(Se,Je),Se})()}}const Qe=new Map;function Xe(m){Te(m instanceof Function,"Expected a class definition");let u=Qe.get(m);return u?(Te(u instanceof m,"Instance stored in cache mismatched with class"),u):(u=new m,Qe.set(m,u),u)}const Le=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,N.A)(function*(){return!0})()}_set(d,g){var I=this;return(0,N.A)(function*(){I.storage[d]=g})()}_get(d){var g=this;return(0,N.A)(function*(){const I=g.storage[d];return void 0===I?null:I})()}_remove(d){var g=this;return(0,N.A)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return m.type="NONE",m})();function hi(m,u,d){return`firebase:${m}:${u}:${d}`}class tr{constructor(u,d,g){this.persistence=u,this.auth=d,this.userKey=g;const{config:I,name:M}=this.auth;this.fullUserKey=hi(this.userKey,I.apiKey,M),this.fullPersistenceKey=hi("persistence",I.apiKey,M),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,N.A)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?de._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,N.A)(function*(){if(d.persistence===u)return;const g=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,g?d.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d){return(0,N.A)(function*(g,I,M="authUser"){if(!I.length)return new tr(Xe(Le),g,M);const j=(yield Promise.all(I.map(function(){var et=(0,N.A)(function*(dn){if(yield dn._isAvailable())return dn});return function(dn){return et.apply(this,arguments)}}()))).filter(et=>et);let Z=j[0]||Xe(Le);const Se=hi(M,g.config.apiKey,g.name);let Je=null;for(const et of I)try{const dn=yield et._get(Se);if(dn){const ro=de._fromJSON(g,dn);et!==Z&&(Je=ro),Z=et;break}}catch{}const wt=j.filter(et=>et._shouldAllowMigration);return Z._shouldAllowMigration&&wt.length?(Z=wt[0],Je&&(yield Z._set(Se,Je.toJSON())),yield Promise.all(I.map(function(){var et=(0,N.A)(function*(dn){if(dn!==Z)try{yield dn._remove(Se)}catch{}});return function(dn){return et.apply(this,arguments)}}())),new tr(Z,g,M)):new tr(Z,g,M)}).apply(this,arguments)}}function J(m){const u=m.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Kp(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Gi(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(Zu(u))return"Blackberry";if(Go(u))return"Webos";if($o(u))return"Safari";if((u.includes("chrome/")||bl(u))&&!u.includes("edge/"))return"Chrome";if(wl(u))return"Android";{const g=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function Gi(m=(0,ye.ZQ)()){return/firefox\//i.test(m)}function $o(m=(0,ye.ZQ)()){const u=m.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function bl(m=(0,ye.ZQ)()){return/crios\//i.test(m)}function Kp(m=(0,ye.ZQ)()){return/iemobile/i.test(m)}function wl(m=(0,ye.ZQ)()){return/android/i.test(m)}function Zu(m=(0,ye.ZQ)()){return/blackberry/i.test(m)}function Go(m=(0,ye.ZQ)()){return/webos/i.test(m)}function bo(m=(0,ye.ZQ)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Me(m=(0,ye.ZQ)()){return bo(m)||wl(m)||Go(m)||Zu(m)||/windows phone/i.test(m)||Kp(m)}function Ye(m,u=[]){let d;switch(m){case"Browser":d=J((0,ye.ZQ)());break;case"Worker":d=`${J((0,ye.ZQ)())}-${m}`;break;default:d=m}const g=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${ot.SDK_VERSION}/${g}`}class zt{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const g=M=>new Promise((j,Z)=>{try{j(u(M))}catch(Se){Z(Se)}});g.onAbort=d,this.queue.push(g);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,N.A)(function*(){if(d.auth.currentUser===u)return;const g=[];try{for(const I of d.queue)yield I(u),I.onAbort&&g.push(I.onAbort)}catch(I){g.reverse();for(const M of g)try{M()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}function Xt(){return(Xt=(0,N.A)(function*(m,u={}){return De(m,"GET","/v2/passwordPolicy",ue(m,u))})).apply(this,arguments)}class kt{constructor(u){var d,g,I,M;const j=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=j.minPasswordLength)&&void 0!==d?d:6,j.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=j.maxPasswordLength),void 0!==j.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=j.containsLowercaseCharacter),void 0!==j.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=j.containsUppercaseCharacter),void 0!==j.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=j.containsNumericCharacter),void 0!==j.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=j.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(I=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==I?I:"",this.forceUpgradeOnSignin=null!==(M=u.forceUpgradeOnSignin)&&void 0!==M&&M,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,g,I,M,j,Z;const Se={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,Se),this.validatePasswordCharacterOptions(u,Se),Se.isValid&&(Se.isValid=null===(d=Se.meetsMinPasswordLength)||void 0===d||d),Se.isValid&&(Se.isValid=null===(g=Se.meetsMaxPasswordLength)||void 0===g||g),Se.isValid&&(Se.isValid=null===(I=Se.containsLowercaseLetter)||void 0===I||I),Se.isValid&&(Se.isValid=null===(M=Se.containsUppercaseLetter)||void 0===M||M),Se.isValid&&(Se.isValid=null===(j=Se.containsNumericCharacter)||void 0===j||j),Se.isValid&&(Se.isValid=null===(Z=Se.containsNonAlphanumericCharacter)||void 0===Z||Z),Se}validatePasswordLengthOptions(u,d){const g=this.customStrengthOptions.minPasswordLength,I=this.customStrengthOptions.maxPasswordLength;g&&(d.meetsMinPasswordLength=u.length>=g),I&&(d.meetsMaxPasswordLength=u.length<=I)}validatePasswordCharacterOptions(u,d){let g;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let I=0;I<u.length;I++)g=u.charAt(I),this.updatePasswordCharacterOptionsStatuses(d,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,d,g,I,M){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=I)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=M))}}class wo{constructor(u,d,g,I){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=g,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tc(this),this.idTokenSubscription=new Tc(this),this.beforeStateQueue=new zt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(u,d){var g=this;return d&&(this._popupRedirectResolver=Xe(d)),this._initializationPromise=this.queue((0,N.A)(function*(){var I,M;if(!g._deleted&&(g.persistenceManager=yield tr.create(g,u),!g._deleted)){if(null!==(I=g._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(d),g.lastNotifiedUid=(null===(M=g.currentUser)||void 0===M?void 0:M.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,N.A)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUserFromIdToken(u){var d=this;return(0,N.A)(function*(){try{const g=yield eo(d,{idToken:u}),I=yield de._fromGetAccountInfoResponse(d,g,u);yield d.directlySetCurrentUser(I)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield d.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var d=this;return(0,N.A)(function*(){var g;if((0,ot._isFirebaseServerApp)(d.app)){const Z=d.app.settings.authIdToken;return Z?new Promise(Se=>{setTimeout(()=>d.initializeCurrentUserFromIdToken(Z).then(Se,Se))}):d.directlySetCurrentUser(null)}const I=yield d.assertedPersistence.getCurrentUser();let M=I,j=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Z=null===(g=d.redirectUser)||void 0===g?void 0:g._redirectEventId,Se=M?._redirectEventId,Je=yield d.tryRedirectSignIn(u);(!Z||Z===Se)&&Je?.user&&(M=Je.user,j=!0)}if(!M)return d.directlySetCurrentUser(null);if(!M._redirectEventId){if(j)try{yield d.beforeStateQueue.runMiddleware(M)}catch(Z){M=I,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Z))}return M?d.reloadAndSetCurrentUserOrClear(M):d.directlySetCurrentUser(null)}return Oe(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===M._redirectEventId?d.directlySetCurrentUser(M):d.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(u){var d=this;return(0,N.A)(function*(){let g=null;try{g=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,N.A)(function*(){try{yield us(u)}catch(g){if("auth/network-request-failed"!==g?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function un(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var u=this;return(0,N.A)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,N.A)(function*(){if((0,ot._isFirebaseServerApp)(d.app))return Promise.reject(Mt(d));const g=u?(0,ye.Ku)(u):null;return g&&Oe(g.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(g&&g._clone(d))})()}_updateCurrentUser(u){var d=this;return(0,N.A)(function*(g,I=!1){if(!d._deleted)return g&&Oe(d.tenantId===g.tenantId,d,"tenant-id-mismatch"),I||(yield d.beforeStateQueue.runMiddleware(g)),d.queue((0,N.A)(function*(){yield d.directlySetCurrentUser(g),d.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var u=this;return(0,N.A)(function*(){return(0,ot._isFirebaseServerApp)(u.app)?Promise.reject(Mt(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var d=this;return(0,ot._isFirebaseServerApp)(this.app)?Promise.reject(Mt(this)):this.queue((0,N.A)(function*(){yield d.assertedPersistence.setPersistence(Xe(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,N.A)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const g=d._getPasswordPolicyInternal();return g.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,N.A)(function*(){const d=yield function lt(m){return Xt.apply(this,arguments)}(u),g=new kt(d);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new ye.FA("auth","Firebase",u())}onAuthStateChanged(u,d,g){return this.registerStateListener(this.authStateSubscription,u,d,g)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,g){return this.registerStateListener(this.idTokenSubscription,u,d,g)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,N.A)(function*(){if(d.currentUser){const g=yield d.currentUser.getIdToken(),I={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:g};null!=d.tenantId&&(I.tenantId=d.tenantId),yield function W(m,u){return F.apply(this,arguments)}(d,I)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var g=this;return(0,N.A)(function*(){const I=yield g.getOrInitRedirectPersistenceManager(d);return null===u?I.removeCurrentUser():I.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,N.A)(function*(){if(!d.redirectPersistenceManager){const g=u&&Xe(u)||d._popupRedirectResolver;Oe(g,d,"argument-error"),d.redirectPersistenceManager=yield tr.create(d,[Xe(g._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,N.A)(function*(){var g,I;return d._isInitialized&&(yield d.queue((0,N.A)(function*(){}))),(null===(g=d._currentUser)||void 0===g?void 0:g._redirectEventId)===u?d._currentUser:(null===(I=d.redirectUser)||void 0===I?void 0:I._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,N.A)(function*(){if(u===d.currentUser)return d.queue((0,N.A)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,g,I){if(this._deleted)return()=>{};const M="function"==typeof d?d:d.next.bind(d);let j=!1;const Z=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(Z,this,"internal-error"),Z.then(()=>{j||M(this.currentUser)}),"function"==typeof d){const Se=u.addObserver(d,g,I);return()=>{j=!0,Se()}}{const Se=u.addObserver(d);return()=>{j=!0,Se()}}}directlySetCurrentUser(u){var d=this;return(0,N.A)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Ye(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,N.A)(function*(){var d;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const I=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();I&&(g["X-Firebase-Client"]=I);const M=yield u._getAppCheckToken();return M&&(g["X-Firebase-AppCheck"]=M),g})()}_getAppCheckToken(){var u=this;return(0,N.A)(function*(){var d;const g=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return g?.error&&function Pi(m,...u){li.logLevel<=In.$b.WARN&&li.warn(`Auth (${ot.SDK_VERSION}): ${m}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function Ft(m){return(0,ye.Ku)(m)}class Tc{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,ye.tD)(d=>this.observer=d)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wh={loadJS:()=>(0,N.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ln(m){return Wh.loadJS(m)}function fC(m){return`__${m}${Math.floor(1e6*Math.random())}`}class ra{constructor(u){this.type="recaptcha-enterprise",this.auth=Ft(u)}verify(){var u=this;return(0,N.A)(function*(d="verify",g=!1){function M(){return M=(0,N.A)(function*(Z){if(!g){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var Se=(0,N.A)(function*(Je,wt){yi(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(et=>{if(void 0!==et.recaptchaKey){const dn=new Wn(et);return null==Z.tenantId?Z._agentRecaptchaConfig=dn:Z._tenantRecaptchaConfigs[Z.tenantId]=dn,Je(dn.siteKey)}wt(new Error("recaptcha Enterprise site key undefined"))}).catch(et=>{wt(et)})});return function(Je,wt){return Se.apply(this,arguments)}}())}),M.apply(this,arguments)}function j(Z,Se,Je){const wt=window.grecaptcha;ct(wt)?wt.enterprise.ready(()=>{wt.enterprise.execute(Z,{action:d}).then(et=>{Se(et)}).catch(()=>{Se("NO_RECAPTCHA")})}):Je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,Se)=>{(function I(Z){return M.apply(this,arguments)})(u.auth).then(Je=>{if(!g&&ct(window.grecaptcha))j(Je,Z,Se);else{if(typeof window>"u")return void Se(new Error("RecaptchaVerifier is only supported in browser"));let wt=function Kh(){return Wh.recaptchaEnterpriseScript}();0!==wt.length&&(wt+=Je),Ln(wt).then(()=>{j(Je,Z,Se)}).catch(et=>{Se(et)})}}).catch(Je=>{Se(Je)})})}).apply(this,arguments)}}function pC(m,u,d){return gb.apply(this,arguments)}function gb(){return(gb=(0,N.A)(function*(m,u,d,g=!1){const I=new ra(m);let M;try{M=yield I.verify(d)}catch{M=yield I.verify(d,!0)}const j=Object.assign({},u);return Object.assign(j,g?{captchaResp:M}:{captchaResponse:M}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}function Qh(m,u,d,g){return _b.apply(this,arguments)}function _b(){return _b=(0,N.A)(function*(m,u,d,g){var I;if(null!==(I=m._getRecaptchaConfig())&&void 0!==I&&I.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const M=yield pC(m,u,d,"getOobCode"===d);return g(m,M)}return g(m,u).catch(function(){var M=(0,N.A)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Z=yield pC(m,u,d,"getOobCode"===d);return g(m,Z)}return Promise.reject(j)});return function(j){return M.apply(this,arguments)}}())}),_b.apply(this,arguments)}function Ot(m){const u=m.indexOf(":");return u<0?"":m.substr(0,u+1)}function vC(m){if(!m)return null;const u=Number(m);return isNaN(u)?null:u}class Xu{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return Ke("not implemented")}_getIdTokenResponse(u){return Ke("not implemented")}_linkToIdToken(u,d){return Ke("not implemented")}_getReauthenticationResolver(u){return Ke("not implemented")}}function yC(m,u){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,N.A)(function*(m,u){return De(m,"POST","/v1/accounts:resetPassword",ue(m,u))})).apply(this,arguments)}function Gt(){return(Gt=(0,N.A)(function*(m,u){return De(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Yh(m,u){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,N.A)(function*(m,u){return De(m,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Yp(){return(Yp=(0,N.A)(function*(m,u){return De(m,"POST","/v1/accounts:update",ue(m,u))})).apply(this,arguments)}function Zh(m,u){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,N.A)(function*(m,u){return Ne(m,"POST","/v1/accounts:signInWithPassword",ue(m,u))})).apply(this,arguments)}function Sc(m,u){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,N.A)(function*(m,u){return De(m,"POST","/v1/accounts:sendOobCode",ue(m,u))})).apply(this,arguments)}function he(){return(he=(0,N.A)(function*(m,u){return Sc(m,u)})).apply(this,arguments)}function Zp(m,u){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,N.A)(function*(m,u){return Sc(m,u)})).apply(this,arguments)}function bb(m,u){return ed.apply(this,arguments)}function ed(){return(ed=(0,N.A)(function*(m,u){return Sc(m,u)})).apply(this,arguments)}function td(){return(td=(0,N.A)(function*(m,u){return Sc(m,u)})).apply(this,arguments)}function wb(){return(wb=(0,N.A)(function*(m,u){return Ne(m,"POST","/v1/accounts:signInWithEmailLink",ue(m,u))})).apply(this,arguments)}function Eb(){return(Eb=(0,N.A)(function*(m,u){return Ne(m,"POST","/v1/accounts:signInWithEmailLink",ue(m,u))})).apply(this,arguments)}class El extends Xu{constructor(u,d,g,I=null){super("password",g),this._email=u,this._password=d,this._tenantId=I}static _fromEmailAndPassword(u,d){return new El(u,d,"password")}static _fromEmailAndCode(u,d,g=null){return new El(u,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,N.A)(function*(){switch(d.signInMethod){case"password":return Qh(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zh);case"emailLink":return function Bk(m,u){return wb.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:fn(u,"internal-error")}})()}_linkToIdToken(u,d){var g=this;return(0,N.A)(function*(){switch(g.signInMethod){case"password":return Qh(u,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yh);case"emailLink":return function jk(m,u){return Eb.apply(this,arguments)}(u,{idToken:d,email:g._email,oobCode:g._password});default:fn(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Io(m,u){return nd.apply(this,arguments)}function nd(){return(nd=(0,N.A)(function*(m,u){return Ne(m,"POST","/v1/accounts:signInWithIdp",ue(m,u))})).apply(this,arguments)}class ds extends Xu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new ds(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):fn("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:I}=d,M=(0,ht.Tt)(d,["providerId","signInMethod"]);if(!g||!I)return null;const j=new ds(g,I);return j.idToken=M.idToken||void 0,j.accessToken=M.accessToken||void 0,j.secret=M.secret,j.nonce=M.nonce,j.pendingToken=M.pendingToken||null,j}_getIdTokenResponse(u){return Io(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Io(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Io(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,ye.Am)(d)}return u}}function Il(){return(Il=(0,N.A)(function*(m,u){return De(m,"POST","/v1/accounts:sendVerificationCode",ue(m,u))})).apply(this,arguments)}function jt(){return(jt=(0,N.A)(function*(m,u){return Ne(m,"POST","/v1/accounts:signInWithPhoneNumber",ue(m,u))})).apply(this,arguments)}function xb(){return(xb=(0,N.A)(function*(m,u){const d=yield Ne(m,"POST","/v1/accounts:signInWithPhoneNumber",ue(m,u));if(d.temporaryProof)throw Nt(m,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const EC={USER_NOT_FOUND:"user-not-found"};function Cb(){return(Cb=(0,N.A)(function*(m,u){return Ne(m,"POST","/v1/accounts:signInWithPhoneNumber",ue(m,Object.assign(Object.assign({},u),{operation:"REAUTH"})),EC)})).apply(this,arguments)}class xl extends Xu{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new xl({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new xl({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function Ib(m,u){return jt.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function Pn(m,u){return xb.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function IC(m,u){return Cb.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:g,verificationCode:I}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:g,code:I}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:g,phoneNumber:I,temporaryProof:M}=u;return g||d||I||M?new xl({verificationId:d,verificationCode:g,phoneNumber:I,temporaryProof:M}):null}}class Cl{constructor(u){var d,g,I,M,j,Z;const Se=(0,ye.I9)((0,ye.hp)(u)),Je=null!==(d=Se.apiKey)&&void 0!==d?d:null,wt=null!==(g=Se.oobCode)&&void 0!==g?g:null,et=function Jp(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Se.mode)&&void 0!==I?I:null);Oe(Je&&wt&&et,"argument-error"),this.apiKey=Je,this.operation=et,this.code=wt,this.continueUrl=null!==(M=Se.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(j=Se.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(Z=Se.tenantId)&&void 0!==Z?Z:null}static parseLink(u){const d=function ln(m){const u=(0,ye.I9)((0,ye.hp)(m)).link,d=u?(0,ye.I9)((0,ye.hp)(u)).deep_link_id:null,g=(0,ye.I9)((0,ye.hp)(m)).deep_link_id;return(g?(0,ye.I9)((0,ye.hp)(g)).link:null)||g||d||u||m}(u);try{return new Cl(d)}catch{return null}}}let Pr=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(d,g){return El._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const I=Cl.parseLink(g);return Oe(I,"argument-error"),El._fromEmailAndCode(d,I.code,I.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Os{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class id extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class rd extends id{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return Oe("providerId"in d&&"signInMethod"in d,"argument-error"),ds._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return Oe(u.idToken||u.accessToken,"argument-error"),ds._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return rd.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return rd.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:I,pendingToken:M,nonce:j,providerId:Z}=u;if(!g&&!I&&!d&&!M||!Z)return null;try{return new rd(Z)._credential({idToken:d,accessToken:g,nonce:j,pendingToken:M})}catch{return null}}}let Dc=(()=>{class m extends id{constructor(){super("facebook.com")}static credential(d){return ds._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return m.credentialFromTaggedObject(d)}static credentialFromError(d){return m.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return m.credential(d.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Jh=(()=>{class m extends id{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return ds._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return m.credentialFromTaggedObject(d)}static credentialFromError(d){return m.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:I}=d;if(!g&&!I)return null;try{return m.credential(g,I)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),od=(()=>{class m extends id{constructor(){super("github.com")}static credential(d){return ds._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return m.credentialFromTaggedObject(d)}static credentialFromError(d){return m.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return m.credential(d.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Mc extends Xu{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Io(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Io(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Io(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:I,pendingToken:M}=d;return g&&I&&M&&g===I?new Mc(g,M):null}static _create(u,d){return new Mc(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class sd extends Os{constructor(u){Oe(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return sd.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return sd.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=Mc.fromJSON(u);return Oe(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:g}=u;if(!d||!g)return null;try{return Mc._create(g,d)}catch{return null}}}let Tl=(()=>{class m extends id{constructor(){super("twitter.com")}static credential(d,g){return ds._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return m.credentialFromTaggedObject(d)}static credentialFromError(d){return m.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:I}=d;if(!g||!I)return null;try{return m.credential(g,I)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Tb(m,u){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,N.A)(function*(m,u){return Ne(m,"POST","/v1/accounts:signUp",ue(m,u))})).apply(this,arguments)}class qo{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,g){return(0,N.A)(function*(I,M,j,Z=!1){const Se=yield de._fromIdTokenResponse(I,j,Z),Je=G(j);return new qo({user:Se,providerId:Je,_tokenResponse:j,operationType:M})}).apply(this,arguments)}static _forOperation(u,d,g){return(0,N.A)(function*(){yield u._updateTokensIfNecessary(g,!0);const I=G(g);return new qo({user:u,providerId:I,_tokenResponse:g,operationType:d})})()}}function G(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function we(){return(we=(0,N.A)(function*(m){var u;if((0,ot._isFirebaseServerApp)(m.app))return Promise.reject(Mt(m));const d=Ft(m);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new qo({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield Tb(d,{returnSecureToken:!0}),I=yield qo._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(I.user),I})).apply(this,arguments)}class Al extends ye.g{constructor(u,d,g,I){var M;super(d.code,d.message),this.operationType=g,this.user=I,Object.setPrototypeOf(this,Al.prototype),this.customData={appName:u.name,tenantId:null!==(M=u.tenantId)&&void 0!==M?M:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,d,g,I){return new Al(u,d,g,I)}}function ef(m,u,d,g){return("reauthenticate"===u?d._getReauthenticationResolver(m):d._getIdTokenResponse(m)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Al._fromErrorAndOperation(m,M,u,g):M})}function Rc(m){return new Set(m.map(({providerId:u})=>u).filter(u=>!!u))}function eg(){return eg=(0,N.A)(function*(m,u){const d=(0,ye.Ku)(m);yield hs(!0,d,u);const{providerUserInfo:g}=yield function Ho(m,u){return ks.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),I=Rc(g||[]);return d.providerData=d.providerData.filter(M=>I.has(M.providerId)),I.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),eg.apply(this,arguments)}function tg(m,u){return ng.apply(this,arguments)}function ng(){return(ng=(0,N.A)(function*(m,u,d=!1){const g=yield ki(m,u._linkToIdToken(m.auth,yield m.getIdToken()),d);return qo._forOperation(m,"link",g)})).apply(this,arguments)}function hs(m,u,d){return ig.apply(this,arguments)}function ig(){return(ig=(0,N.A)(function*(m,u,d){yield us(u);const I=!1===m?"provider-already-linked":"no-such-provider";Oe(Rc(u.providerData).has(d)===m,u.auth,I)})).apply(this,arguments)}function Pc(m,u){return rg.apply(this,arguments)}function rg(){return(rg=(0,N.A)(function*(m,u,d=!1){const{auth:g}=m;if((0,ot._isFirebaseServerApp)(g.app))return Promise.reject(Mt(g));const I="reauthenticate";try{const M=yield ki(m,ef(g,I,u,m),d);Oe(M.idToken,g,"internal-error");const j=ui(M.idToken);Oe(j,g,"internal-error");const{sub:Z}=j;return Oe(m.uid===Z,g,"user-mismatch"),qo._forOperation(m,I,M)}catch(M){throw"auth/user-not-found"===M?.code&&fn(g,"user-mismatch"),M}})).apply(this,arguments)}function Pa(m,u){return og.apply(this,arguments)}function og(){return(og=(0,N.A)(function*(m,u,d=!1){if((0,ot._isFirebaseServerApp)(m.app))return Promise.reject(Mt(m));const g="signIn",I=yield ef(m,g,u),M=yield qo._fromIdTokenResponse(m,g,I);return d||(yield m._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Ir(m,u){return ka.apply(this,arguments)}function ka(){return(ka=(0,N.A)(function*(m,u){return Pa(Ft(m),u)})).apply(this,arguments)}function sg(m,u){return kc.apply(this,arguments)}function kc(){return(kc=(0,N.A)(function*(m,u){const d=(0,ye.Ku)(m);return yield hs(!1,d,u.providerId),tg(d,u)})).apply(this,arguments)}function ad(m,u){return ld.apply(this,arguments)}function ld(){return(ld=(0,N.A)(function*(m,u){return Pc((0,ye.Ku)(m),u)})).apply(this,arguments)}function tf(){return(tf=(0,N.A)(function*(m,u){return Ne(m,"POST","/v1/accounts:signInWithCustomToken",ue(m,u))})).apply(this,arguments)}function zr(){return zr=(0,N.A)(function*(m,u){if((0,ot._isFirebaseServerApp)(m.app))return Promise.reject(Mt(m));const d=Ft(m),g=yield function zk(m,u){return tf.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),I=yield qo._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(I.user),I}),zr.apply(this,arguments)}class Sl{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Oa._fromServerResponse(u,d):"totpInfo"in d?Sb._fromServerResponse(u,d):fn(u,"internal-error")}}class Oa extends Sl{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Oa(d)}}class Sb extends Sl{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Sb(d)}}function cd(m,u,d){var g;Oe((null===(g=d.url)||void 0===g?void 0:g.length)>0,m,"invalid-continue-uri"),Oe(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(Oe(d.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(Oe(d.android.packageName.length>0,m,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Wo(m){return mn.apply(this,arguments)}function mn(){return(mn=(0,N.A)(function*(m){const u=Ft(m);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function nf(){return(nf=(0,N.A)(function*(m,u,d){const g=Ft(m),I={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&cd(g,I,d),yield Qh(g,I,"getOobCode",Zp)})).apply(this,arguments)}function Oc(){return Oc=(0,N.A)(function*(m,u,d){yield yC((0,ye.Ku)(m),{oobCode:u,newPassword:d}).catch(function(){var g=(0,N.A)(function*(I){throw"auth/password-does-not-meet-requirements"===I.code&&Wo(m),I});return function(I){return g.apply(this,arguments)}}())}),Oc.apply(this,arguments)}function xo(){return xo=(0,N.A)(function*(m,u){yield function yb(m,u){return Yp.apply(this,arguments)}((0,ye.Ku)(m),{oobCode:u})}),xo.apply(this,arguments)}function sa(m,u){return lg.apply(this,arguments)}function lg(){return(lg=(0,N.A)(function*(m,u){const d=(0,ye.Ku)(m),g=yield yC(d,{oobCode:u}),I=g.requestType;switch(Oe(I,d,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(g.mfaInfo,d,"internal-error");default:Oe(g.email,d,"internal-error")}let M=null;return g.mfaInfo&&(M=Sl._fromServerResponse(Ft(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:M},operation:I}})).apply(this,arguments)}function sf(){return(sf=(0,N.A)(function*(m,u){const{data:d}=yield sa((0,ye.Ku)(m),u);return d.email})).apply(this,arguments)}function Dl(){return(Dl=(0,N.A)(function*(m,u,d){if((0,ot._isFirebaseServerApp)(m.app))return Promise.reject(Mt(m));const g=Ft(m),j=yield Qh(g,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tb).catch(Se=>{throw"auth/password-does-not-meet-requirements"===Se.code&&Wo(m),Se}),Z=yield qo._fromIdTokenResponse(g,"signIn",j);return yield g._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function ug(){return(ug=(0,N.A)(function*(m,u,d){const g=Ft(m),I={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function M(j,Z){Oe(Z.handleCodeInApp,g,"argument-error"),Z&&cd(g,j,Z)})(I,d),yield Qh(g,I,"getOobCode",bb)})).apply(this,arguments)}function hg(){return(hg=(0,N.A)(function*(m,u,d){if((0,ot._isFirebaseServerApp)(m.app))return Promise.reject(Mt(m));const g=(0,ye.Ku)(m),I=Pr.credentialWithLink(u,d||Ge());return Oe(I._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Ir(g,I)})).apply(this,arguments)}function fg(){return(fg=(0,N.A)(function*(m,u){return De(m,"POST","/v1/accounts:createAuthUri",ue(m,u))})).apply(this,arguments)}function mg(){return mg=(0,N.A)(function*(m,u){const g={identifier:u,continueUri:bt()?Ge():"http://localhost"},{signinMethods:I}=yield function fs(m,u){return fg.apply(this,arguments)}((0,ye.Ku)(m),g);return I||[]}),mg.apply(this,arguments)}function pg(){return pg=(0,N.A)(function*(m,u){const d=(0,ye.Ku)(m),I={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};u&&cd(d.auth,I,u);const{email:M}=yield function bC(m,u){return he.apply(this,arguments)}(d.auth,I);M!==m.email&&(yield m.reload())}),pg.apply(this,arguments)}function af(){return af=(0,N.A)(function*(m,u,d){const g=(0,ye.Ku)(m),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:u};d&&cd(g.auth,M,d);const{email:j}=yield function wC(m,u){return td.apply(this,arguments)}(g.auth,M);j!==m.email&&(yield m.reload())}),af.apply(this,arguments)}function gg(){return(gg=(0,N.A)(function*(m,u){return De(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function on(){return on=(0,N.A)(function*(m,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const g=(0,ye.Ku)(m),M={idToken:yield g.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},j=yield ki(g,function RC(m,u){return gg.apply(this,arguments)}(g.auth,M));g.displayName=j.displayName||null,g.photoURL=j.photoUrl||null;const Z=g.providerData.find(({providerId:Se})=>"password"===Se);Z&&(Z.displayName=g.displayName,Z.photoURL=g.photoURL),yield g._updateTokensIfNecessary(j)}),on.apply(this,arguments)}function Kt(m,u,d){return lf.apply(this,arguments)}function lf(){return lf=(0,N.A)(function*(m,u,d){const{auth:g}=m,M={idToken:yield m.getIdToken(),returnSecureToken:!0};u&&(M.email=u),d&&(M.password=d);const j=yield ki(m,function Uk(m,u){return Gt.apply(this,arguments)}(g,M));yield m._updateTokensIfNecessary(j,!0)}),lf.apply(this,arguments)}class qi{constructor(u,d,g={}){this.isNewUser=u,this.providerId=d,this.profile=g}}class Jt extends qi{constructor(u,d,g,I){super(u,d,g),this.username=I}}class nr extends qi{constructor(u,d){super(u,"facebook.com",d)}}class xr extends Jt{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Na extends qi{constructor(u,d){super(u,"google.com",d)}}class kr extends Jt{constructor(u,d,g){super(u,"twitter.com",d,g)}}function kb(m){const{user:u,_tokenResponse:d}=m;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function at(m){var u,d;if(!m)return null;const{providerId:g}=m,I=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},M=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!g&&m?.idToken){const j=null===(d=null===(u=ui(m.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(j)return new qi(M,"anonymous"!==j&&"custom"!==j?j:null)}if(!g)return null;switch(g){case"facebook.com":return new nr(M,I);case"github.com":return new xr(M,I);case"google.com":return new Na(M,I);case"twitter.com":return new kr(M,I,m.screenName||null);case"custom":case"anonymous":return new qi(M,null);default:return new qi(M,g,I)}}(d)}class Fa{constructor(u,d,g){this.type=u,this.credential=d,this.user=g}static _fromIdtoken(u,d){return new Fa("enroll",u,d)}static _fromMfaPendingCredential(u){return new Fa("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,g;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Fa._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return Fa._fromIdtoken(u.multiFactorSession.idToken)}return null}}class cf{constructor(u,d,g){this.session=u,this.hints=d,this.signInResolver=g}static _fromError(u,d){const g=Ft(u),I=d.customData._serverResponse,M=(I.mfaInfo||[]).map(Z=>Sl._fromServerResponse(g,Z));Oe(I.mfaPendingCredential,g,"internal-error");const j=Fa._fromMfaPendingCredential(I.mfaPendingCredential);return new cf(j,M,function(){var Z=(0,N.A)(function*(Se){const Je=yield Se._process(g,j);delete I.mfaInfo,delete I.mfaPendingCredential;const wt=Object.assign(Object.assign({},I),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(d.operationType){case"signIn":const et=yield qo._fromIdTokenResponse(g,d.operationType,wt);return yield g._updateCurrentUser(et.user),et;case"reauthenticate":return Oe(d.user,g,"internal-error"),qo._forOperation(d.user,d.operationType,wt);default:fn(g,"internal-error")}});return function(Se){return Z.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,N.A)(function*(){return d.signInResolver(u)})()}}class Nc{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>Sl._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new Nc(u)}getSession(){var u=this;return(0,N.A)(function*(){return Fa._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var g=this;return(0,N.A)(function*(){const I=u,M=yield g.getSession(),j=yield ki(g.user,I._process(g.user.auth,M,d));return yield g.user._updateTokensIfNecessary(j),g.user.reload()})()}unenroll(u){var d=this;return(0,N.A)(function*(){const g="string"==typeof u?u:u.uid,I=yield d.user.getIdToken();try{const M=yield ki(d.user,function Eg(m,u){return De(m,"POST","/v2/accounts/mfaEnrollment:withdraw",ue(m,u))}(d.user.auth,{idToken:I,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:j})=>j!==g),yield d.user._updateTokensIfNecessary(M),yield d.user.reload()}catch(M){throw M}})()}}const pr=new WeakMap,Lc="__sak";class Fb{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const uf=(()=>{class m extends Fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Me(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const I=this.storage.getItem(g),M=this.localCache[g];I!==M&&d(g,M,I)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((Z,Se,Je)=>{this.notifyListeners(Z,Je)});const I=d.key;g?this.detachListener():this.stopPolling();const M=()=>{const Z=this.storage.getItem(I);!g&&this.localCache[I]===Z||this.notifyListeners(I,Z)},j=this.storage.getItem(I);!function ie(){return(0,ye.lT)()&&10===document.documentMode}()||j===d.newValue||d.newValue===d.oldValue?M():setTimeout(M,10)}notifyListeners(d,g){this.localCache[d]=g;const I=this.listeners[d];if(I)for(const M of Array.from(I))M(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var I=()=>super._set,M=this;return(0,N.A)(function*(){yield I().call(M,d,g),M.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,I=this;return(0,N.A)(function*(){const M=yield g().call(I,d);return I.localCache[d]=JSON.stringify(M),M})()}_remove(d){var g=()=>super._remove,I=this;return(0,N.A)(function*(){yield g().call(I,d),delete I.localCache[d]})()}}return m.type="LOCAL",m})(),La=(()=>{class m extends Fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return m.type="SESSION",m})();let Ls=(()=>{class m{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(M=>M.isListeningto(d));if(g)return g;const I=new m(d);return this.receivers.push(I),I}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,N.A)(function*(){const I=d,{eventId:M,eventType:j,data:Z}=I.data,Se=g.handlersMap[j];if(!Se?.size)return;I.ports[0].postMessage({status:"ack",eventId:M,eventType:j});const Je=Array.from(Se).map(function(){var et=(0,N.A)(function*(dn){return dn(I.origin,Z)});return function(dn){return et.apply(this,arguments)}}()),wt=yield function Ig(m){return Promise.all(m.map(function(){var u=(0,N.A)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return u.apply(this,arguments)}}()))}(Je);I.ports[0].postMessage({status:"done",eventId:M,eventType:j,response:wt})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Vc(m="",u=10){let d="";for(let g=0;g<u;g++)d+=Math.floor(10*Math.random());return m+d}class xg{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d){var g=this;return(0,N.A)(function*(I,M,j=50){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let Se,Je;return new Promise((wt,et)=>{const dn=Vc("",20);Z.port1.start();const ro=setTimeout(()=>{et(new Error("unsupported_event"))},j);Je={messageChannel:Z,onMessage(Kc){const Qc=Kc;if(Qc.data.eventId===dn)switch(Qc.data.status){case"ack":clearTimeout(ro),Se=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(Se),wt(Qc.data.response);break;default:clearTimeout(ro),clearTimeout(Se),et(new Error("invalid_response"))}}},g.handlers.add(Je),Z.port1.addEventListener("message",Je.onMessage),g.target.postMessage({eventType:I,eventId:dn,data:M},[Z.port2])}).finally(()=>{Je&&g.removeMessageHandler(Je)})}).apply(this,arguments)}}function Xn(){return window}function Cg(){return typeof Xn().WorkerGlobalScope<"u"&&"function"==typeof Xn().importScripts}function df(){return(df=(0,N.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Vb="firebaseLocalStorageDb",hf="firebaseLocalStorage",Ub="fbase_key";class md{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function ff(m,u){return m.transaction([hf],u?"readwrite":"readonly").objectStore(hf)}function Uc(){const m=indexedDB.open(Vb,1);return new Promise((u,d)=>{m.addEventListener("error",()=>{d(m.error)}),m.addEventListener("upgradeneeded",()=>{const g=m.result;try{g.createObjectStore(hf,{keyPath:Ub})}catch(I){d(I)}}),m.addEventListener("success",(0,N.A)(function*(){const g=m.result;g.objectStoreNames.contains(hf)?u(g):(g.close(),yield function Tg(){const m=indexedDB.deleteDatabase(Vb);return new md(m).toPromise()}(),u(yield Uc()))}))})}function Jn(m,u,d){return $e.apply(this,arguments)}function $e(){return($e=(0,N.A)(function*(m,u,d){const g=ff(m,!0).put({[Ub]:u,value:d});return new md(g).toPromise()})).apply(this,arguments)}function Oi(){return(Oi=(0,N.A)(function*(m,u){const d=ff(m,!1).get(u),g=yield new md(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function Ko(m,u){const d=ff(m,!0).delete(u);return new md(d).toPromise()}const kn=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,N.A)(function*(){return d.db||(d.db=yield Uc()),d.db})()}_withRetries(d){var g=this;return(0,N.A)(function*(){let I=0;for(;;)try{const M=yield g._openDb();return yield d(M)}catch(M){if(I++>3)throw M;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,N.A)(function*(){return Cg()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,N.A)(function*(){d.receiver=Ls._getInstance(function fd(){return Cg()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,N.A)(function*(I,M){return{keyProcessed:(yield d._poll()).includes(M.key)}});return function(I,M){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,N.A)(function*(I,M){return["keyChanged"]});return function(I,M){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,N.A)(function*(){var g,I;if(d.activeServiceWorker=yield function ir(){return df.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new xg(d.activeServiceWorker);const M=yield d.sender._send("ping",{},800);M&&null!==(g=M[0])&&void 0!==g&&g.fulfilled&&null!==(I=M[0])&&void 0!==I&&I.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,N.A)(function*(){if(g.sender&&g.activeServiceWorker&&function zC(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,N.A)(function*(){try{if(!indexedDB)return!1;const d=yield Uc();return yield Jn(d,Lc,"1"),yield Ko(d,Lc),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,N.A)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var I=this;return(0,N.A)(function*(){return I._withPendingWrite((0,N.A)(function*(){return yield I._withRetries(M=>Jn(M,d,g)),I.localCache[d]=g,I.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,N.A)(function*(){const I=yield g._withRetries(M=>function Tt(m,u){return Oi.apply(this,arguments)}(M,d));return g.localCache[d]=I,I})()}_remove(d){var g=this;return(0,N.A)(function*(){return g._withPendingWrite((0,N.A)(function*(){return yield g._withRetries(I=>Ko(I,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,N.A)(function*(){const g=yield d._withRetries(j=>{const Z=ff(j,!1).getAll();return new md(Z).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const I=[],M=new Set;if(0!==g.length)for(const{fbase_key:j,value:Z}of g)M.add(j),JSON.stringify(d.localCache[j])!==JSON.stringify(Z)&&(d.notifyListeners(j,Z),I.push(j));for(const j of Object.keys(d.localCache))d.localCache[j]&&!M.has(j)&&(d.notifyListeners(j,null),I.push(j));return I})()}notifyListeners(d,g){this.localCache[d]=g;const I=this.listeners[d];if(I)for(const M of Array.from(I))M(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,N.A)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),aa=1e12;class fi{constructor(u){this.auth=u,this.counter=aa,this._widgets=new Map}render(u,d){const g=this.counter;return this._widgets.set(g,new Rl(u,this.auth.name,d||{})),this.counter++,g}reset(u){var d;const g=u||aa;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(u){var d;return(null===(d=this._widgets.get(u||aa))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,N.A)(function*(){var g;return null===(g=d._widgets.get(u||aa))||void 0===g||g.execute(),""})()}}class Rl{constructor(u,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof u?document.getElementById(u):u;Oe(I,"argument-error",{appName:d}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bc(m){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<m;g++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ms=fC("rcb"),jc=new Ct(3e4,6e4);class jb{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Xn().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return Oe(function Va(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Vt(Xn().grecaptcha)?Promise.resolve(Xn().grecaptcha):new Promise((g,I)=>{const M=Xn().setTimeout(()=>{I(cn(u,"network-request-failed"))},jc.get());Xn()[ms]=()=>{Xn().clearTimeout(M),delete Xn()[ms];const Z=Xn().grecaptcha;if(!Z||!Vt(Z))return void I(cn(u,"internal-error"));const Se=Z.render;Z.render=(Je,wt)=>{const et=Se(Je,wt);return this.counter++,et},this.hostLanguage=d,g(Z)},Ln(`${function Lt(){return Wh.recaptchaV2Script}()}?${(0,ye.Am)({onload:ms,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(M),I(cn(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Xn().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mf{load(u){return(0,N.A)(function*(){return new fi(u)})()}clearedOneInstance(){}}const Co="recaptcha",_t={theme:"light",type:"image"};class Ag{constructor(u,d,g=Object.assign({},_t)){this.parameters=g,this.type=Co,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ft(u),this.isInvisible="invisible"===this.parameters.size,Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof d?document.getElementById(d):d;Oe(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mf:new jb,this.validateStartingState()}verify(){var u=this;return(0,N.A)(function*(){u.assertNotDestroyed();const d=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(d)||new Promise(M=>{const j=Z=>{Z&&(u.tokenChangeListeners.delete(j),M(Z))};u.tokenChangeListeners.add(j),u.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof u)u(d);else if("string"==typeof u){const g=Xn()[u];"function"==typeof g&&g(d)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,N.A)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,N.A)(function*(){Oe(bt()&&!Cg(),u.auth,"internal-error"),yield function _d(){let m=null;return new Promise(u=>{"complete"!==document.readyState?(m=()=>u(),window.addEventListener("load",m)):u()}).catch(u=>{throw m&&window.removeEventListener("load",m),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function Hn(m){return jr.apply(this,arguments)}(u.auth);Oe(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qo{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=xl._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function Ua(){return(Ua=(0,N.A)(function*(m,u,d){if((0,ot._isFirebaseServerApp)(m.app))return Promise.reject(Mt(m));const g=Ft(m),I=yield Hc(g,u,(0,ye.Ku)(d));return new Qo(I,M=>Ir(g,M))})).apply(this,arguments)}function zc(){return(zc=(0,N.A)(function*(m,u,d){const g=(0,ye.Ku)(m);yield hs(!1,g,"phone");const I=yield Hc(g.auth,u,(0,ye.Ku)(d));return new Qo(I,M=>sg(g,M))})).apply(this,arguments)}function gr(){return(gr=(0,N.A)(function*(m,u,d){const g=(0,ye.Ku)(m);if((0,ot._isFirebaseServerApp)(g.auth.app))return Promise.reject(Mt(g.auth));const I=yield Hc(g.auth,u,(0,ye.Ku)(d));return new Qo(I,M=>ad(g,M))})).apply(this,arguments)}function Hc(m,u,d){return la.apply(this,arguments)}function la(){return la=(0,N.A)(function*(m,u,d){var g;const I=yield d.verify();try{let M;if(Oe("string"==typeof I,m,"argument-error"),Oe(d.type===Co,m,"argument-error"),M="string"==typeof u?{phoneNumber:u}:u,"session"in M){const j=M.session;if("phoneNumber"in M)return Oe("enroll"===j.type,m,"internal-error"),(yield function VC(m,u){return De(m,"POST","/v2/accounts/mfaEnrollment:start",ue(m,u))}(m,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{Oe("signin"===j.type,m,"internal-error");const Z=(null===(g=M.multiFactorHint)||void 0===g?void 0:g.uid)||M.multiFactorUid;return Oe(Z,m,"missing-multi-factor-info"),(yield function Wi(m,u){return De(m,"POST","/v2/accounts/mfaSignIn:start",ue(m,u))}(m,{mfaPendingCredential:j.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function oa(m,u){return Il.apply(this,arguments)}(m,{phoneNumber:M.phoneNumber,recaptchaToken:I});return j}}finally{d._reset()}}),la.apply(this,arguments)}function To(){return(To=(0,N.A)(function*(m,u){const d=(0,ye.Ku)(m);if((0,ot._isFirebaseServerApp)(d.auth.app))return Promise.reject(Mt(d.auth));yield tg(d,u)})).apply(this,arguments)}let ca=(()=>{class m{constructor(d){this.providerId=m.PROVIDER_ID,this.auth=Ft(d)}verifyPhoneNumber(d,g){return Hc(this.auth,d,(0,ye.Ku)(g))}static credential(d,g){return xl._fromVerification(d,g)}static credentialFromResult(d){return m.credentialFromTaggedObject(d)}static credentialFromError(d){return m.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:I}=d;return g&&I?xl._fromTokenResponse(g,I):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Ba(m,u){return u?Xe(u):(Oe(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Sg extends Xu{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Io(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Io(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Io(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Dg(m){return Pa(m.auth,new Sg(m),m.bypassAuthState)}function zb(m){const{auth:u,user:d}=m;return Oe(d,u,"internal-error"),Pc(d,new Sg(m),m.bypassAuthState)}function $C(m){return vd.apply(this,arguments)}function vd(){return(vd=(0,N.A)(function*(m){const{auth:u,user:d}=m;return Oe(d,u,"internal-error"),tg(d,new Sg(m),m.bypassAuthState)})).apply(this,arguments)}class GC{constructor(u,d,g,I,M=!1){this.auth=u,this.resolver=g,this.user=I,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,N.A)(function*(g,I){u.pendingPromise={resolve:g,reject:I};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(M){u.reject(M)}});return function(g,I){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,N.A)(function*(){const{urlResponse:g,sessionId:I,postBody:M,tenantId:j,error:Z,type:Se}=u;if(Z)return void d.reject(Z);const Je={auth:d.auth,requestUri:g,sessionId:I,tenantId:j||void 0,postBody:M||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Se)(Je))}catch(wt){d.reject(wt)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Dg;case"linkViaPopup":case"linkViaRedirect":return $C;case"reauthViaPopup":case"reauthViaRedirect":return zb;default:fn(this.auth,"internal-error")}}resolve(u){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wk=new Ct(2e3,1e4);function Hb(){return(Hb=(0,N.A)(function*(m,u,d){if((0,ot._isFirebaseServerApp)(m.app))return Promise.reject(cn(m,"operation-not-supported-in-this-environment"));const g=Ft(m);zn(m,u,Os);const I=Ba(g,d);return new qb(g,"signInViaPopup",u,I).executeNotNull()})).apply(this,arguments)}function $b(){return($b=(0,N.A)(function*(m,u,d){const g=(0,ye.Ku)(m);if((0,ot._isFirebaseServerApp)(g.auth.app))return Promise.reject(cn(g.auth,"operation-not-supported-in-this-environment"));zn(g.auth,u,Os);const I=Ba(g.auth,d);return new qb(g.auth,"reauthViaPopup",u,I,g).executeNotNull()})).apply(this,arguments)}function Gb(){return(Gb=(0,N.A)(function*(m,u,d){const g=(0,ye.Ku)(m);zn(g.auth,u,Os);const I=Ba(g.auth,d);return new qb(g.auth,"linkViaPopup",u,I,g).executeNotNull()})).apply(this,arguments)}let qb=(()=>{class m extends GC{constructor(d,g,I,M,j){super(d,g,M,j),this.provider=I,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var d=this;return(0,N.A)(function*(){const g=yield d.execute();return Oe(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,N.A)(function*(){Te(1===d.filter.length,"Popup operations only handle one event");const g=Vc();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(I=>{d.reject(I)}),d.resolver._isIframeWebStorageSupported(d.auth,I=>{I||d.reject(cn(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,I;this.pollId=null!==(I=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Wk.get())};d()}}return m.currentPopupAction=null,m})();const Zk="pendingRedirect",_f=new Map;class Xk extends GC{constructor(u,d,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,N.A)(function*(){let g=_f.get(d.auth._key());if(!g){try{const M=(yield function Wb(m,u){return vf.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;g=()=>Promise.resolve(M)}catch(I){g=()=>Promise.reject(I)}_f.set(d.auth._key(),g)}return d.bypassAuthState||_f.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,g=this;return(0,N.A)(function*(){if("signInViaRedirect"===u.type)return d().call(g,u);if("unknown"!==u.type){if(u.eventId){const I=yield g.auth._redirectUserForId(u.eventId);if(I)return g.user=I,d().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,N.A)(function*(){})()}cleanUp(){}}function vf(){return(vf=(0,N.A)(function*(m,u){const d=Mg(u),g=Zb(m);if(!(yield g._isAvailable()))return!1;const I="true"===(yield g._get(d));return yield g._remove(d),I})).apply(this,arguments)}function Kb(m,u){return Qb.apply(this,arguments)}function Qb(){return(Qb=(0,N.A)(function*(m,u){return Zb(m)._set(Mg(u),"true")})).apply(this,arguments)}function Yb(m,u){_f.set(m._key(),u)}function Zb(m){return Xe(m._redirectPersistence)}function Mg(m){return hi(Zk,m.config.apiKey,m.name)}function Or(m,u,d){return function Xb(m,u,d){return Rg.apply(this,arguments)}(m,u,d)}function Rg(){return(Rg=(0,N.A)(function*(m,u,d){if((0,ot._isFirebaseServerApp)(m.app))return Promise.reject(Mt(m));const g=Ft(m);zn(m,u,Os),yield g._initializationPromise;const I=Ba(g,d);return yield Kb(I,g),I._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function qC(m,u,d){return function Jb(m,u,d){return yf.apply(this,arguments)}(m,u,d)}function yf(){return(yf=(0,N.A)(function*(m,u,d){const g=(0,ye.Ku)(m);if(zn(g.auth,u,Os),(0,ot._isFirebaseServerApp)(g.auth.app))return Promise.reject(Mt(g.auth));yield g.auth._initializationPromise;const I=Ba(g.auth,d);yield Kb(I,g.auth);const M=yield wf(g);return I._openRedirect(g.auth,u,"reauthViaRedirect",M)})).apply(this,arguments)}function WC(m,u,d){return function Pg(m,u,d){return kg.apply(this,arguments)}(m,u,d)}function kg(){return(kg=(0,N.A)(function*(m,u,d){const g=(0,ye.Ku)(m);zn(g.auth,u,Os),yield g.auth._initializationPromise;const I=Ba(g.auth,d);yield hs(!1,g,u.providerId),yield Kb(I,g.auth);const M=yield wf(g);return I._openRedirect(g.auth,u,"linkViaRedirect",M)})).apply(this,arguments)}function bf(){return(bf=(0,N.A)(function*(m,u){return yield Ft(m)._initializationPromise,yd(m,u,!1)})).apply(this,arguments)}function yd(m,u){return pn.apply(this,arguments)}function pn(){return(pn=(0,N.A)(function*(m,u,d=!1){if((0,ot._isFirebaseServerApp)(m.app))return Promise.reject(Mt(m));const g=Ft(m),I=Ba(g,u),j=yield new Xk(g,I,d).execute();return j&&!d&&(delete j.user._redirectEventId,yield g._persistUserIfCurrent(j.user),yield g._setRedirectUser(null,u)),j})).apply(this,arguments)}function wf(m){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,N.A)(function*(m){const u=Vc(`${m.uid}:::`);return m._redirectEventId=u,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),u})).apply(this,arguments)}class e0{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(d=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function Ao(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ja(m);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var g;if(u.error&&!ja(u)){const I=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(cn(this.auth,I))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const g=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($c(u))}saveEventToCache(u){this.cachedEventUids.add($c(u)),this.lastProcessedEventTime=Date.now()}}function $c(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(u=>u).join("-")}function ja({type:m,error:u}){return"unknown"===m&&"auth/no-auth-event"===u?.code}function t0(m){return bd.apply(this,arguments)}function bd(){return(bd=(0,N.A)(function*(m,u={}){return De(m,"GET","/v1/projects",u)})).apply(this,arguments)}const KC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yo=/^https?/;function Ef(){return(Ef=(0,N.A)(function*(m){if(m.config.emulator)return;const{authorizedDomains:u}=yield t0(m);for(const d of u)try{if(r0(d))return}catch{}fn(m,"unauthorized-domain")})).apply(this,arguments)}function r0(m){const u=Ge(),{protocol:d,hostname:g}=new URL(u);if(m.startsWith("chrome-extension://")){const j=new URL(m);return""===j.hostname&&""===g?"chrome-extension:"===d&&m.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&j.hostname===g}if(!Yo.test(d))return!1;if(KC.test(m))return g===m;const I=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(g)}const If=new Ct(3e4,6e4);function xf(){const m=Xn().___jsl;if(m?.H)for(const u of Object.keys(m.H))if(m.H[u].r=m.H[u].r||[],m.H[u].L=m.H[u].L||[],m.H[u].r=[...m.H[u].L],m.CP)for(let d=0;d<m.CP.length;d++)m.CP[d]=null}let kl=null;const ua=new Ct(5e3,15e3),Bt="__/auth/iframe",Tf="emulator/auth/iframe",Ng={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eO(m){const u=m.config;Oe(u.authDomain,m,"auth-domain-config-required");const d=u.emulator?qn(u,Tf):`https://${m.config.authDomain}/${Bt}`,g={apiKey:u.apiKey,appName:m.name,v:ot.SDK_VERSION},I=o0.get(m.config.apiHost);I&&(g.eid=I);const M=m._getFrameworks();return M.length&&(g.fw=M.join(",")),`${d}?${(0,ye.Am)(g).slice(1)}`}function Fg(){return Fg=(0,N.A)(function*(m){const u=yield function Og(m){return kl=kl||function Cf(m){return new Promise((u,d)=>{var g,I,M;function j(){xf(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{xf(),d(cn(m,"network-request-failed"))},timeout:If.get()})}if(null!==(I=null===(g=Xn().gapi)||void 0===g?void 0:g.iframes)&&void 0!==I&&I.Iframe)u(gapi.iframes.getContext());else{if(null===(M=Xn().gapi)||void 0===M||!M.load){const Z=fC("iframefcb");return Xn()[Z]=()=>{gapi.load?j():d(cn(m,"network-request-failed"))},Ln(`${function Eo(){return Wh.gapiScript}()}?onload=${Z}`).catch(Se=>d(Se))}j()}}).catch(u=>{throw kl=null,u})}(m),kl}(m),d=Xn().gapi;return Oe(d,m,"internal-error"),u.open({where:document.body,url:eO(m),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ng,dontclear:!0},g=>new Promise(function(){var I=(0,N.A)(function*(M,j){yield g.restyle({setHideOnLeave:!1});const Z=cn(m,"network-request-failed"),Se=Xn().setTimeout(()=>{j(Z)},ua.get());function Je(){Xn().clearTimeout(Se),M(g)}g.ping(Je).then(Je,()=>{j(Z)})});return function(M,j){return I.apply(this,arguments)}}()))}),Fg.apply(this,arguments)}const YC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class a0{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ae="__/auth/handler",en="emulator/auth/handler",oe=encodeURIComponent("fac");function re(m,u,d,g,I,M){return On.apply(this,arguments)}function On(){return(On=(0,N.A)(function*(m,u,d,g,I,M){Oe(m.config.authDomain,m,"auth-domain-config-required"),Oe(m.config.apiKey,m,"invalid-api-key");const j={apiKey:m.config.apiKey,appName:m.name,authType:d,redirectUrl:g,v:ot.SDK_VERSION,eventId:I};if(u instanceof Os){u.setDefaultLanguage(m.languageCode),j.providerId=u.providerId||"",(0,ye.Im)(u.getCustomParameters())||(j.customParameters=JSON.stringify(u.getCustomParameters()));for(const[wt,et]of Object.entries(M||{}))j[wt]=et}if(u instanceof id){const wt=u.getScopes().filter(et=>""!==et);wt.length>0&&(j.scopes=wt.join(","))}m.tenantId&&(j.tid=m.tenantId);const Z=j;for(const wt of Object.keys(Z))void 0===Z[wt]&&delete Z[wt];const Se=yield m._getAppCheckToken(),Je=Se?`#${oe}=${encodeURIComponent(Se)}`:"";return`${function l0({config:m}){return m.emulator?qn(m,en):`https://${m.authDomain}/${Ae}`}(m)}?${(0,ye.Am)(Z).slice(1)}${Je}`})).apply(this,arguments)}const Nl="webStorageSupport",Af=class ps{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=La,this._completeRedirectFn=yd,this._overrideRedirectResult=Yb}_openPopup(u,d,g,I){var M=this;return(0,N.A)(function*(){var j;Te(null===(j=M.eventManagers[u._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const Z=yield re(u,d,g,Ge(),I);return function JC(m,u,d,g=500,I=600){const M=Math.max((window.screen.availHeight-I)/2,0).toString(),j=Math.max((window.screen.availWidth-g)/2,0).toString();let Z="";const Se=Object.assign(Object.assign({},YC),{width:g.toString(),height:I.toString(),top:M,left:j}),Je=(0,ye.ZQ)().toLowerCase();d&&(Z=bl(Je)?"_blank":d),Gi(Je)&&(u=u||"http://localhost",Se.scrollbars="yes");const wt=Object.entries(Se).reduce((dn,[ro,Kc])=>`${dn}${ro}=${Kc},`,"");if(function me(m=(0,ye.ZQ)()){var u;return bo(m)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Je)&&"_self"!==Z)return function eT(m,u){const d=document.createElement("a");d.href=m,d.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(u||"",Z),new a0(null);const et=window.open(u||"",Z,wt);Oe(et,m,"popup-blocked");try{et.focus()}catch{}return new a0(et)}(u,Z,Vc())})()}_openRedirect(u,d,g,I){var M=this;return(0,N.A)(function*(){return yield M._originValidation(u),function jC(m){Xn().location.href=m}(yield re(u,d,g,Ge(),I)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:I,promise:M}=this.eventManagers[d];return I?Promise.resolve(I):(Te(M,"If manager is not set, promise should be"),M)}const g=this.initAndGetManager(u);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(u){var d=this;return(0,N.A)(function*(){const g=yield function QC(m){return Fg.apply(this,arguments)}(u),I=new e0(u);return g.register("authEvent",M=>(Oe(M?.authEvent,u,"invalid-auth-event"),{status:I.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:I},d.iframes[u._key()]=g,I})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(Nl,{type:Nl},I=>{var M;const j=null===(M=I?.[0])||void 0===M?void 0:M[Nl];void 0!==j&&d(!!j),fn(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function n0(m){return Ef.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return Me()||$o()||bo()}};class Sf{constructor(u){this.factorId=u}_process(u,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,g);case"signin":return this._finalizeSignIn(u,d.credential);default:return Ke("unexpected MultiFactorSessionType")}}}class Df extends Sf{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Df(u)}_finalizeEnroll(u,d,g){return function bg(m,u){return De(m,"POST","/v2/accounts/mfaEnrollment:finalize",ue(m,u))}(u,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function Vs(m,u){return De(m,"POST","/v2/accounts/mfaSignIn:finalize",ue(m,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let tO=(()=>{class m{constructor(){}static assertion(d){return Df._fromCredential(d)}}return m.FACTOR_ID="phone",m})();var Nr="@firebase/auth";class c0{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,N.A)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ha(){return window}(0,ye.XA)("authIdTokenMaxAge"),function hC(m){Wh=m}({loadJS:m=>new Promise((u,d)=>{const g=document.createElement("script");g.setAttribute("src",m),g.onload=u,g.onerror=I=>{const M=cn("internal-error");M.customData=I,d(M)},g.type="text/javascript",g.charset="UTF-8",function Vg(){var m,u;return null!==(u=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==u?u:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function da(m){(0,ot._registerComponent)(new Bn.uA("auth",(u,{options:d})=>{const g=u.getProvider("app").getImmediate(),I=u.getProvider("heartbeat"),M=u.getProvider("app-check-internal"),{apiKey:j,authDomain:Z}=g.options;Oe(j&&!j.includes(":"),"invalid-api-key",{appName:g.name});const Se={apiKey:j,authDomain:Z,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ye(m)},Je=new wo(g,I,M,Se);return function Fk(m,u){const d=u?.persistence||[],g=(Array.isArray(d)?d:[d]).map(Xe);u?.errorMap&&m._updateErrorMap(u.errorMap),m._initializeWithPersistence(g,u?.popupRedirectResolver)}(Je,d),Je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,g)=>{u.getProvider("auth-internal").initialize()})),(0,ot._registerComponent)(new Bn.uA("auth-internal",u=>{const d=Ft(u.getProvider("auth").getImmediate());return new c0(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ot.registerVersion)(Nr,"1.7.9",function gs(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(m)),(0,ot.registerVersion)(Nr,"1.7.9","esm2017")}("Browser");function Pf(){return Pf=(0,N.A)(function*(m,u,d){var g;const{BuildInfo:I}=ha();Te(u.sessionId,"AuthEvent did not contain a session ID");const M=yield function rT(m){return or.apply(this,arguments)}(u.sessionId),j={};return bo()?j.ibi=I.packageName:wl()?j.apn=I.packageName:fn(m,"operation-not-supported-in-this-environment"),I.displayName&&(j.appDisplayName=I.displayName),j.sessionId=M,re(m,d,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,j)}),Pf.apply(this,arguments)}function kf(){return(kf=(0,N.A)(function*(m){const{BuildInfo:u}=ha(),d={};bo()?d.iosBundleId=u.packageName:wl()?d.androidPackageName=u.packageName:fn(m,"operation-not-supported-in-this-environment"),yield t0(m,d)})).apply(this,arguments)}function Of(){return(Of=(0,N.A)(function*(m,u,d){const{cordova:g}=ha();let I=()=>{};try{yield new Promise((M,j)=>{let Z=null;function Se(){var et;M();const dn=null===(et=g.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof dn&&dn(),"function"==typeof d?.close&&d.close()}function Je(){Z||(Z=window.setTimeout(()=>{j(cn(m,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===document?.visibilityState&&Je()}u.addPassiveListener(Se),document.addEventListener("resume",Je,!1),wl()&&document.addEventListener("visibilitychange",wt,!1),I=()=>{u.removePassiveListener(Se),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",wt,!1),Z&&window.clearTimeout(Z)}})}finally{I()}})).apply(this,arguments)}function or(){return(or=(0,N.A)(function*(m){const u=function Fl(m){if(Te(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const u=new ArrayBuffer(m.length),d=new Uint8Array(u);for(let g=0;g<m.length;g++)d[g]=m.charCodeAt(g);return d}(m),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class je extends e0{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInitialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInitialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,N.A)(function*(){yield u.initPromise})()}}function p0(m){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,N.A)(function*(m){const u=yield Zo()._get(jg(m));return u&&(yield Zo()._remove(jg(m))),u})).apply(this,arguments)}function Ed(){const m=[];for(let d=0;d<20;d++){const g=Math.floor(62*Math.random());m.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return m.join("")}function Zo(){return Xe(uf)}function jg(m){return hi("authEvent",m.config.apiKey,m.name)}function Ll(m){if(!m?.includes("?"))return{};const[u,...d]=m.split("?");return(0,ye.I9)(d.join("?"))}const v0=class _0{constructor(){this._redirectPersistence=La,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yd,this._overrideRedirectResult=Yb}_initialize(u){var d=this;return(0,N.A)(function*(){const g=u._key();let I=d.eventManagers.get(g);return I||(I=new je(u),d.eventManagers.set(g,I),d.attachCallbackListeners(u,I)),I})()}_openPopup(u){fn(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,g,I){var M=this;return(0,N.A)(function*(){!function Bg(m){var u,d,g,I,M,j,Z,Se,Je,wt;const et=ha();Oe("function"==typeof(null===(u=et?.universalLinks)||void 0===u?void 0:u.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oe(typeof(null===(d=et?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oe("function"==typeof(null===(M=null===(I=null===(g=et?.cordova)||void 0===g?void 0:g.plugins)||void 0===I?void 0:I.browsertab)||void 0===M?void 0:M.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(Se=null===(Z=null===(j=et?.cordova)||void 0===j?void 0:j.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Se?void 0:Se.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(wt=null===(Je=et?.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===wt?void 0:wt.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const j=yield M._initialize(u);yield j.initialized(),j.resetRedirect(),function Jk(){_f.clear()}(),yield M._originValidation(u);const Z=function oT(m,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:Ed(),postBody:null,tenantId:m.tenantId,error:cn(m,"no-auth-event")}}(u,g,I);yield function vt(m,u){return Zo()._set(jg(m),u)}(u,Z);const Se=yield function iT(m,u,d){return Pf.apply(this,arguments)}(u,Z,d),Je=yield function f0(m){const{cordova:u}=ha();return new Promise(d=>{u.plugins.browsertab.isAvailable(g=>{let I=null;g?u.plugins.browsertab.openUrl(m):I=u.InAppBrowser.open(m,function Ra(m=(0,ye.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),d(I)})})}(Se);return function m0(m,u,d){return Of.apply(this,arguments)}(u,j,Je)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Ug(m){return kf.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:g,handleOpenURL:I,BuildInfo:M}=ha(),j=setTimeout((0,N.A)(function*(){yield p0(u),d.onEvent(y0())}),500),Z=function(){var wt=(0,N.A)(function*(et){clearTimeout(j);const dn=yield p0(u);let ro=null;dn&&et?.url&&(ro=function g0(m,u){var d,g;const I=function Lf(m){const u=Ll(m),d=u.link?decodeURIComponent(u.link):void 0,g=Ll(d).link,I=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Ll(I).link||I||g||d||m}(u);if(I.includes("/__/auth/callback")){const M=Ll(I),j=M.firebaseError?function Ff(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,Z=null===(g=null===(d=j?.code)||void 0===d?void 0:d.split("auth/"))||void 0===g?void 0:g[1],Se=Z?cn(Z):null;return Se?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Se,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:I,postBody:null}}return null}(dn,et.url)),d.onEvent(ro||y0())});return function(dn){return wt.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,Z);const Se=I,Je=`${M.packageName.toLowerCase()}://`;ha().handleOpenURL=function(){var wt=(0,N.A)(function*(et){if(et.toLowerCase().startsWith(Je)&&Z({url:et}),"function"==typeof Se)try{Se(et)}catch(dn){console.error(dn)}});return function(et){return wt.apply(this,arguments)}}()}};function y0(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:cn("no-auth-event")}}function qc(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function b0(m=(0,ye.ZQ)()){return!("file:"!==qc()&&"ionic:"!==qc()&&"capacitor:"!==qc()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function za(){try{const m=self.localStorage,u=Vc();if(m)return m.setItem(u,"1"),m.removeItem(u),!function $g(m=(0,ye.ZQ)()){return function nO(){return(0,ye.lT)()&&11===document?.documentMode}()||function iO(m=(0,ye.ZQ)()){return/Edge\/\d+/.test(m)}(m)}()||(0,ye.zW)()}catch{return xd()&&(0,ye.zW)()}return!1}function xd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vl(){return(function aT(){return"http:"===qc()||"https:"===qc()}()||(0,ye.sr)()||b0())&&!function lT(){return(0,ye.lV)()||(0,ye.Ll)()}()&&za()&&!xd()}function w0(){return b0()&&typeof document<"u"}function Gg(){return(Gg=(0,N.A)(function*(){return!!w0()&&new Promise(m=>{const u=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),m(!0)})})})).apply(this,arguments)}const Fr={LOCAL:"local",NONE:"none",SESSION:"session"},Vf=Oe,Wg="persistence";function Kg(m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,N.A)(function*(m){yield m._initializationPromise;const u=Td(),d=hi(Wg,m.config.apiKey,m.name);u&&u.setItem(d,m._getPersistence())})).apply(this,arguments)}function Td(){var m;try{return(null===(m=function qg(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const Qg=Oe;class fa{constructor(){this.browserResolver=Xe(Af),this.cordovaResolver=Xe(v0),this.underlyingResolver=null,this._redirectPersistence=La,this._completeRedirectFn=yd,this._overrideRedirectResult=Yb}_initialize(u){var d=this;return(0,N.A)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,g,I){var M=this;return(0,N.A)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(u,d,g,I)})()}_openRedirect(u,d,g,I){var M=this;return(0,N.A)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(u,d,g,I)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return w0()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,N.A)(function*(){if(u.underlyingResolver)return;const d=yield function Cd(){return Gg.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function Ad(m){return m.unwrap()}function uT(m){return Zg(m)}function Zg(m){const{_tokenResponse:u}=m instanceof ye.g?m.customData:m;if(!u)return null;if(!(m instanceof ye.g)&&"temporaryProof"in u&&"phoneNumber"in u)return ca.credentialFromResult(m);const d=u.providerId;if(!d||d===nn.PASSWORD)return null;let g;switch(d){case nn.GOOGLE:g=Jh;break;case nn.FACEBOOK:g=Dc;break;case nn.GITHUB:g=od;break;case nn.TWITTER:g=Tl;break;default:const{oauthIdToken:I,oauthAccessToken:M,oauthTokenSecret:j,pendingToken:Z,nonce:Se}=u;return M||j||I||Z?Z?d.startsWith("saml.")?Mc._create(d,Z):ds._fromParams({providerId:d,signInMethod:d,pendingToken:Z,idToken:I,accessToken:M}):new rd(d).credential({idToken:I,accessToken:M,rawNonce:Se}):null}return m instanceof ye.g?g.credentialFromError(m):g.credentialFromResult(m)}function Gr(m,u){return u.catch(d=>{throw d instanceof ye.g&&function I0(m,u){var d;const g=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new Bf(m,function Ml(m,u){var d;const g=(0,ye.Ku)(m),I=u;return Oe(u.customData.operationType,g,"argument-error"),Oe(null===(d=I.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),cf._fromError(g,I)}(m,u));else if(g){const I=Zg(u),M=u;I&&(M.credential=I,M.tenantId=g.tenantId||void 0,M.email=g.email||void 0,M.phoneNumber=g.phoneNumber||void 0)}}(m,d),d}).then(d=>{const I=d.user;return{operationType:d.operationType,credential:uT(d),additionalUserInfo:kb(d),user:qr.getOrCreate(I)}})}function Uf(m,u){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,N.A)(function*(m,u){const d=yield u;return{verificationId:d.verificationId,confirm:g=>Gr(m,d.confirm(g))}})).apply(this,arguments)}class Bf{constructor(u,d){this.resolver=d,this.auth=function Yg(m){return m.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return Gr(Ad(this.auth),this.resolver.resolveSignIn(u))}}class qr{constructor(u){this._delegate=u,this.multiFactor=function Fc(m){const u=(0,ye.Ku)(m);return pr.has(u)||pr.set(u,Nc._fromUser(u)),pr.get(u)}(u)}static getOrCreate(u){return qr.USER_MAP.has(u)||qr.USER_MAP.set(u,new qr(u)),qr.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,N.A)(function*(){return Gr(d.auth,sg(d._delegate,u))})()}linkWithPhoneNumber(u,d){var g=this;return(0,N.A)(function*(){return Uf(g.auth,function ji(m,u,d){return zc.apply(this,arguments)}(g._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,N.A)(function*(){return Gr(d.auth,function Yk(m,u,d){return Gb.apply(this,arguments)}(d._delegate,u,fa))})()}linkWithRedirect(u){var d=this;return(0,N.A)(function*(){return yield Kg(Ft(d.auth)),WC(d._delegate,u,fa)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,N.A)(function*(){return Gr(d.auth,ad(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return Uf(this.auth,function rr(m,u,d){return gr.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return Gr(this.auth,function Qk(m,u,d){return $b.apply(this,arguments)}(this._delegate,u,fa))}reauthenticateWithRedirect(u){var d=this;return(0,N.A)(function*(){return yield Kg(Ft(d.auth)),qC(d._delegate,u,fa)})()}sendEmailVerification(u){return function DC(m,u){return pg.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,N.A)(function*(){return yield function AC(m,u){return eg.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function kC(m,u){const d=(0,ye.Ku)(m);return(0,ot._isFirebaseServerApp)(d.auth.app)?Promise.reject(Mt(d.auth)):Kt(d,u,null)}(this._delegate,u)}updatePassword(u){return function OC(m,u){return Kt((0,ye.Ku)(m),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function gf(m,u){return To.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function PC(m,u){return on.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function MC(m,u,d){return af.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qr.USER_MAP=new WeakMap;const Sd=Oe;let Jg=(()=>{class m{constructor(d,g){if(this.app=d,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=d.options;Sd(I,"invalid-api-key",{appName:d.name}),Sd(I,"invalid-api-key",{appName:d.name});const M=typeof window<"u"?fa:void 0;this._delegate=g.initialize({options:{persistence:Wc(I,d.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Bi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,g){!function io(m,u,d){const g=Ft(m);Oe(g._canInitEmulator,g,"emulator-config-failed"),Oe(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const I=!!d?.disableWarnings,M=Ot(u),{host:j,port:Z}=function Lk(m){const u=Ot(m),d=/(\/\/)?([^?#/]+)/.exec(m.substr(u.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(g);if(I){const M=I[1];return{host:M,port:vC(g.substr(M.length+1))}}{const[M,j]=g.split(":");return{host:M,port:vC(j)}}}(u);g.config.emulator={url:`${M}//${j}${null===Z?"":`:${Z}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:j,port:Z,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function Vk(){function m(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,d,g)}applyActionCode(d){return function rf(m,u){return xo.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return sa(this._delegate,d)}confirmPasswordReset(d,g){return function ag(m,u,d){return Oc.apply(this,arguments)}(this._delegate,d,g)}createUserWithEmailAndPassword(d,g){var I=this;return(0,N.A)(function*(){return Gr(I._delegate,function Db(m,u,d){return Dl.apply(this,arguments)}(I._delegate,d,g))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Pb(m,u){return mg.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function dg(m,u){const d=Cl.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,N.A)(function*(){Sd(Vl(),d._delegate,"operation-not-supported-in-this-environment");const g=yield function Us(m,u){return bf.apply(this,arguments)}(d._delegate,fa);return g?Gr(d._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Gc(m,u){Ft(m)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,g,I){const{next:M,error:j,complete:Z}=e_(d,g,I);return this._delegate.onAuthStateChanged(M,j,Z)}onIdTokenChanged(d,g,I){const{next:M,error:j,complete:Z}=e_(d,g,I);return this._delegate.onIdTokenChanged(M,j,Z)}sendSignInLinkToEmail(d,g){return function Rb(m,u,d){return ug.apply(this,arguments)}(this._delegate,d,g)}sendPasswordResetEmail(d,g){return function Fs(m,u,d){return nf.apply(this,arguments)}(this._delegate,d,g||void 0)}setPersistence(d){var g=this;return(0,N.A)(function*(){let I;switch(function E0(m,u){Vf(Object.values(Fr).includes(u),m,"invalid-persistence-type"),(0,ye.lV)()?Vf(u!==Fr.SESSION,m,"unsupported-persistence-type"):(0,ye.Ll)()?Vf(u===Fr.NONE,m,"unsupported-persistence-type"):xd()?Vf(u===Fr.NONE||u===Fr.LOCAL&&(0,ye.zW)(),m,"unsupported-persistence-type"):Vf(u===Fr.NONE||za(),m,"unsupported-persistence-type")}(g._delegate,d),d){case Fr.SESSION:I=La;break;case Fr.LOCAL:I=(yield Xe(kn)._isAvailable())?kn:uf;break;case Fr.NONE:I=Le;break;default:return fn("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Gr(this._delegate,function Ab(m){return we.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Gr(this._delegate,Ir(this._delegate,d))}signInWithCustomToken(d){return Gr(this._delegate,function Hk(m,u){return zr.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,g){return Gr(this._delegate,function Mb(m,u,d){return(0,ot._isFirebaseServerApp)(m.app)?Promise.reject(Mt(m)):Ir((0,ye.Ku)(m),Pr.credential(u,d)).catch(function(){var g=(0,N.A)(function*(I){throw"auth/password-does-not-meet-requirements"===I.code&&Wo(m),I});return function(I){return g.apply(this,arguments)}}())}(this._delegate,d,g))}signInWithEmailLink(d,g){return Gr(this._delegate,function SC(m,u,d){return hg.apply(this,arguments)}(this._delegate,d,g))}signInWithPhoneNumber(d,g){return Uf(this._delegate,function pf(m,u,d){return Ua.apply(this,arguments)}(this._delegate,d,g))}signInWithPopup(d){var g=this;return(0,N.A)(function*(){return Sd(Vl(),g._delegate,"operation-not-supported-in-this-environment"),Gr(g._delegate,function Kk(m,u,d){return Hb.apply(this,arguments)}(g._delegate,d,fa))})()}signInWithRedirect(d){var g=this;return(0,N.A)(function*(){return Sd(Vl(),g._delegate,"operation-not-supported-in-this-environment"),yield Kg(g._delegate),Or(g._delegate,d,fa)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function cg(m,u){return sf.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Fr,m})();function e_(m,u,d){let g=m;"function"!=typeof m&&({next:g,error:u,complete:d}=m);const I=g;return{next:j=>I(j&&qr.getOrCreate(j)),error:u,complete:d}}function Wc(m,u){const d=function cT(m,u){const d=Td();if(!d)return[];const g=hi(Wg,m,u);switch(d.getItem(g)){case Fr.NONE:return[Le];case Fr.LOCAL:return[kn,La];case Fr.SESSION:return[La];default:return[]}}(m,u);if(typeof self<"u"&&!d.includes(kn)&&d.push(kn),typeof window<"u")for(const g of[uf,La])d.includes(g)||d.push(g);return d.includes(Le)||d.push(Le),d}class Ha{constructor(){this.providerId="phone",this._delegate=new ca(Ad(rt.A.auth()))}static credential(u,d){return ca.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}Ha.PHONE_SIGN_IN_METHOD=ca.PHONE_SIGN_IN_METHOD,Ha.PROVIDER_ID=ca.PROVIDER_ID;const sr=Oe;class dT{constructor(u,d,g=rt.A.app()){var I;sr(null===(I=g.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new Ag(g.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function t_(m){m.INTERNAL.registerComponent(new Bn.uA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new Jg(d,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Pr,FacebookAuthProvider:Dc,GithubAuthProvider:od,GoogleAuthProvider:Jh,OAuthProvider:rd,SAMLAuthProvider:sd,PhoneAuthProvider:Ha,PhoneMultiFactorGenerator:tO,RecaptchaVerifier:dT,TwitterAuthProvider:Tl,Auth:Jg,AuthCredential:Xu,Error:ye.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.5.14")}(rt.A)},244:(cs,er,Et)=>{var N=Et(574),rt=Et(467),ot=Et(979),ye=Et(401),In=Et(779);const ht="type.googleapis.com/google.protobuf.Int64Value",Bn="type.googleapis.com/google.protobuf.UInt64Value";function Gn(be,ke){const Ne={};for(const He in be)be.hasOwnProperty(He)&&(Ne[He]=ke(be[He]));return Ne}function nn(be){if(null==be)return null;if(be instanceof Number&&(be=be.valueOf()),"number"==typeof be&&isFinite(be)||!0===be||!1===be||"[object String]"===Object.prototype.toString.call(be))return be;if(be instanceof Date)return be.toISOString();if(Array.isArray(be))return be.map(ke=>nn(ke));if("function"==typeof be||"object"==typeof be)return Gn(be,ke=>nn(ke));throw new Error("Data cannot be encoded in JSON: "+be)}function Re(be){if(null==be)return be;if(be["@type"])switch(be["@type"]){case ht:case Bn:{const ke=Number(be.value);if(isNaN(ke))throw new Error("Data cannot be decoded from JSON: "+be);return ke}default:throw new Error("Data cannot be decoded from JSON: "+be)}return Array.isArray(be)?be.map(ke=>Re(ke)):"function"==typeof be||"object"==typeof be?Gn(be,ke=>Re(ke)):be}const Ue="functions",dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends ye.g{constructor(ke,Ne,He){super(`${Ue}/${ke}`,Ne||""),this.details=He}}class bn{constructor(ke,Ne,He){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=ke.getImmediate({optional:!0}),this.messaging=Ne.getImmediate({optional:!0}),this.auth||ke.get().then(gt=>this.auth=gt,()=>{}),this.messaging||Ne.get().then(gt=>this.messaging=gt,()=>{}),this.appCheck||He.get().then(gt=>this.appCheck=gt,()=>{})}getAuthToken(){var ke=this;return(0,rt.A)(function*(){if(ke.auth)try{const Ne=yield ke.auth.getToken();return Ne?.accessToken}catch{return}})()}getMessagingToken(){var ke=this;return(0,rt.A)(function*(){if(ke.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield ke.messaging.getToken()}catch{return}})()}getAppCheckToken(ke){var Ne=this;return(0,rt.A)(function*(){if(Ne.appCheck){const He=ke?yield Ne.appCheck.getLimitedUseToken():yield Ne.appCheck.getToken();return He.error?null:He.token}return null})()}getContext(ke){var Ne=this;return(0,rt.A)(function*(){return{authToken:yield Ne.getAuthToken(),messagingToken:yield Ne.getMessagingToken(),appCheckToken:yield Ne.getAppCheckToken(ke)}})()}}const Dt="us-central1";class li{constructor(ke,Ne,He,gt,nt=Dt,Sn){this.app=ke,this.fetchImpl=Sn,this.emulatorOrigin=null,this.contextProvider=new bn(Ne,He,gt),this.cancelAllRequests=new Promise(Nt=>{this.deleteService=()=>Promise.resolve(Nt())});try{const Nt=new URL(nt);this.customDomain=Nt.origin+("/"===Nt.pathname?"":Nt.pathname),this.region=Dt}catch{this.customDomain=null,this.region=nt}}_delete(){return this.deleteService()}_url(ke){const Ne=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${Ne}/${this.region}/${ke}`:null!==this.customDomain?`${this.customDomain}/${ke}`:`https://${this.region}-${Ne}.cloudfunctions.net/${ke}`}}function cn(be,ke,Ne,He){return $i.apply(this,arguments)}function $i(){return($i=(0,rt.A)(function*(be,ke,Ne,He){let gt;Ne["Content-Type"]="application/json";try{gt=yield He(be,{method:"POST",body:JSON.stringify(ke),headers:Ne})}catch{return{status:0,json:null}}let nt=null;try{nt=yield gt.json()}catch{}return{status:gt.status,json:nt}})).apply(this,arguments)}function zn(be,ke,Ne,He){return An.apply(this,arguments)}function An(){return(An=(0,rt.A)(function*(be,ke,Ne,He){const gt={data:Ne=nn(Ne)},nt={},Sn=yield be.contextProvider.getContext(He.limitedUseAppCheckTokens);Sn.authToken&&(nt.Authorization="Bearer "+Sn.authToken),Sn.messagingToken&&(nt["Firebase-Instance-ID-Token"]=Sn.messagingToken),null!==Sn.appCheckToken&&(nt["X-Firebase-AppCheck"]=Sn.appCheckToken);const Vt=function Wt(be){let ke=null;return{promise:new Promise((Ne,He)=>{ke=setTimeout(()=>{He(new Pt("deadline-exceeded","deadline-exceeded"))},be)}),cancel:()=>{ke&&clearTimeout(ke)}}}(He.timeout||7e4),ct=yield Promise.race([cn(ke,gt,nt,be.fetchImpl),Vt.promise,be.cancelAllRequests]);if(Vt.cancel(),!ct)throw new Pt("cancelled","Firebase Functions instance was deleted.");const Wn=function Bi(be,ke){let gt,Ne=function Zt(be){if(be>=200&&be<300)return"ok";switch(be){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(be),He=Ne;try{const nt=ke&&ke.error;if(nt){const Sn=nt.status;if("string"==typeof Sn){if(!dt[Sn])return new Pt("internal","internal");Ne=dt[Sn],He=Sn}const Nt=nt.message;"string"==typeof Nt&&(He=Nt),gt=nt.details,void 0!==gt&&(gt=Re(gt))}}catch{}return"ok"===Ne?null:new Pt(Ne,He,gt)}(ct.status,ct.json);if(Wn)throw Wn;if(!ct.json)throw new Pt("internal","Response is not valid JSON object.");let Hn=ct.json.data;if(typeof Hn>"u"&&(Hn=ct.json.result),typeof Hn>"u")throw new Pt("internal","Response is missing data field.");return{data:Re(Hn)}})).apply(this,arguments)}const Oe="@firebase/functions";function un(be,ke,Ne){!function Pi(be,ke,Ne){be.emulatorOrigin=`http://${ke}:${Ne}`}((0,ye.Ku)(be),ke,Ne)}!function yt(be,ke){(0,ot._registerComponent)(new In.uA(Ue,(He,{instanceIdentifier:gt})=>{const nt=He.getProvider("app").getImmediate(),Sn=He.getProvider("auth-internal"),Nt=He.getProvider("messaging-internal"),Vt=He.getProvider("app-check-internal");return new li(nt,Sn,Nt,Vt,gt,be)},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(Oe,"0.11.8",ke),(0,ot.registerVersion)(Oe,"0.11.8","esm2017")}(fetch.bind(self));class Ie{constructor(ke,Ne){this.app=ke,this._delegate=Ne,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(ke,Ne){return function Ct(be,ke,Ne){return function Fn(be,ke,Ne){return He=>function Mt(be,ke,Ne,He){const gt=be._url(ke);return zn(be,gt,Ne,He)}(be,ke,He,Ne||{})}((0,ye.Ku)(be),ke,Ne)}(this._delegate,ke,Ne)}httpsCallableFromURL(ke,Ne){return function qn(be,ke,Ne){return function fn(be,ke,Ne){return He=>zn(be,ke,He,Ne||{})}((0,ye.Ku)(be),ke,Ne)}(this._delegate,ke,Ne)}useFunctionsEmulator(ke){const Ne=ke.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==Ne)throw new ye.g("functions","No origin provided to useFunctionsEmulator()");if(null==Ne[2])throw new ye.g("functions","Port missing in origin provided to useFunctionsEmulator()");return un(this._delegate,Ne[1],Number(Ne[2]))}useEmulator(ke,Ne){return un(this._delegate,ke,Ne)}}const De=(be,{instanceIdentifier:ke})=>{const Ne=be.getProvider("app-compat").getImmediate(),He=be.getProvider("functions").getImmediate({identifier:ke??"us-central1"});return new Ie(Ne,He)};(function Be(){const be={Functions:Ie};N.A.INTERNAL.registerComponent(new In.uA("functions-compat",De,"PUBLIC").setServiceProps(be).setMultipleInstances(!0))})(),N.A.registerVersion("@firebase/functions-compat","0.3.14")},467:(cs,er,Et)=>{function N(ot,ye,In,ht,Bn,Gn,nn){try{var Re=ot[Gn](nn),Ue=Re.value}catch(dt){return void In(dt)}Re.done?ye(Ue):Promise.resolve(Ue).then(ht,Bn)}function rt(ot){return function(){var ye=this,In=arguments;return new Promise(function(ht,Bn){var Gn=ot.apply(ye,In);function nn(Ue){N(Gn,ht,Bn,nn,Re,"next",Ue)}function Re(Ue){N(Gn,ht,Bn,nn,Re,"throw",Ue)}nn(void 0)})}}Et.d(er,{A:()=>rt})},635:(cs,er,Et)=>{function ye(te,_e){var Ie={};for(var ue in te)Object.prototype.hasOwnProperty.call(te,ue)&&_e.indexOf(ue)<0&&(Ie[ue]=te[ue]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(ue=Object.getOwnPropertySymbols(te);De<ue.length;De++)_e.indexOf(ue[De])<0&&Object.prototype.propertyIsEnumerable.call(te,ue[De])&&(Ie[ue[De]]=te[ue[De]])}return Ie}function dt(te,_e,Ie,ue){return new(Ie||(Ie=Promise))(function(Be,be){function ke(gt){try{He(ue.next(gt))}catch(nt){be(nt)}}function Ne(gt){try{He(ue.throw(gt))}catch(nt){be(nt)}}function He(gt){gt.done?Be(gt.value):function De(Be){return Be instanceof Ie?Be:new Ie(function(be){be(Be)})}(gt.value).then(ke,Ne)}He((ue=ue.apply(te,_e||[])).next())})}function Fn(te){return this instanceof Fn?(this.v=te,this):new Fn(te)}function fn(te,_e,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ue=Ie.apply(te,_e||[]),Be=[];return De=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ke("next"),ke("throw"),ke("return",function be(Nt){return function(Vt){return Promise.resolve(Vt).then(Nt,nt)}}),De[Symbol.asyncIterator]=function(){return this},De;function ke(Nt,Vt){ue[Nt]&&(De[Nt]=function(ct){return new Promise(function(Wn,Hn){Be.push([Nt,ct,Wn,Hn])>1||Ne(Nt,ct)})},Vt&&(De[Nt]=Vt(De[Nt])))}function Ne(Nt,Vt){try{!function He(Nt){Nt.value instanceof Fn?Promise.resolve(Nt.value.v).then(gt,nt):Sn(Be[0][2],Nt)}(ue[Nt](Vt))}catch(ct){Sn(Be[0][3],ct)}}function gt(Nt){Ne("next",Nt)}function nt(Nt){Ne("throw",Nt)}function Sn(Nt,Vt){Nt(Vt),Be.shift(),Be.length&&Ne(Be[0][0],Be[0][1])}}function $i(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,_e=te[Symbol.asyncIterator];return _e?_e.call(te):(te=function bn(te){var _e="function"==typeof Symbol&&Symbol.iterator,Ie=_e&&te[_e],ue=0;if(Ie)return Ie.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&ue>=te.length&&(te=void 0),{value:te&&te[ue++],done:!te}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),Ie={},ue("next"),ue("throw"),ue("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function ue(Be){Ie[Be]=te[Be]&&function(be){return new Promise(function(ke,Ne){!function De(Be,be,ke,Ne){Promise.resolve(Ne).then(function(He){Be({value:He,done:ke})},be)}(ke,Ne,(be=te[Be](be)).done,be.value)})}}}Et.d(er,{AQ:()=>fn,N3:()=>Fn,Tt:()=>ye,sH:()=>dt,xN:()=>$i}),"function"==typeof SuppressedError&&SuppressedError}},cs=>{cs(cs.s=544)}]);